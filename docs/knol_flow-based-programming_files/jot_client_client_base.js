function e(a){throw a;}var j=true,k=null,l=false,q;var aa=aa||{},ba=this,u=function(a,b,c){var d=a.split("."),f=c||ba;!(d[0]in f)&&f.execScript&&f.execScript("var "+d[0]);for(var g;d.length&&(g=d.shift());)if(!d.length&&s(b))f[g]=b;else f=f[g]?f[g]:(f[g]={})},ca=function(a,b){for(var c=a.split("."),d=b||ba,f;f=c.shift();)if(d[f])d=d[f];else return k;return d},da=function(){},ea=function(){return arguments[0]},fa=function(a){a.fb=function(){return a.Fu||(a.Fu=new a)}},ga=function(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof
Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";else if(b=="function"&&typeof a.call=="undefined")return"object";return b},
s=function(a){return a!==undefined},ha=function(a){return a===k},ia=function(a){return a!=k},ja=function(a){return ga(a)=="array"},ka=function(a){var b=ga(a);return b=="array"||b=="object"&&typeof a.length=="number"},y=function(a){return typeof a=="string"},la=function(a){return typeof a=="number"},ma=function(a){return ga(a)=="function"},na=function(a){var b=ga(a);return b=="object"||b=="array"||b=="function"},qa=function(a){if(a.hasOwnProperty&&a.hasOwnProperty(oa))return a[oa];a[oa]||(a[oa]=++pa);
return a[oa]},ra=function(a){"removeAttribute"in a&&a.removeAttribute(oa);try{delete a[oa]}catch(b){}},oa="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),pa=0,ta=qa,ua=ra,va=function(a){var b=ga(a);if(b=="object"||b=="array"){if(a.ua)return a.ua.call(a);var c=b=="array"?[]:{};for(var d in a)c[d]=va(a[d]);return c}return a},A=function(a,b){var c=b||ba;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(f,d);return a.apply(c,f)}}else return function(){return a.apply(c,arguments)}},wa=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}},xa=Date.now||function(){return+new Date},B=function(a,b){function c(){}c.prototype=b.prototype;a.f=b.prototype;a.prototype=new c;a.prototype.constructor=a};
Function.prototype.bind=function(a){if(arguments.length>1){var b=Array.prototype.slice.call(arguments,1);b.unshift(this,a);return A.apply(k,b)}else return A(this,a)};Function.prototype.partial=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this,k);return A.apply(k,a)};Function.prototype.inherits=function(a){B(this,a)};Function.prototype.mixin=function(a){var b=this.prototype,c=a;for(var d in c)b[d]=c[d]};var ya=function(a,b){return a.lastIndexOf(b,0)==0},za=function(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)==c},Aa=function(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a},Ba=function(a){return/^[\s\xa0]*$/.test(a)},Da=function(a){return Ba(Ca(a))},Ea=function(a){return!/[^\t\n\r ]/.test(a)},Ga=function(a){return!/[^a-zA-Z0-9]/.test(a)},Ha=function(a){return a.replace(/(\r\n|\r|\n)+/g," ")},Ia=function(a){return a.replace(/\xa0|[ \t]+/g,
" ")},Ja=function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ka=function(a){return a.replace(/^[\s\xa0]+/,"")},La=/^[a-zA-Z0-9\-_.!~*'()]*$/,Ma=function(a){a=String(a);if(!La.test(a))return encodeURIComponent(a);return a},Na=function(a){return decodeURIComponent(a.replace(/\+/g," "))},Ta=function(a,b){if(b)return a.replace(Oa,"&amp;").replace(Pa,"&lt;").replace(Qa,"&gt;").replace(Ra,"&quot;");else{if(!Sa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Oa,"&amp;");if(a.indexOf("<")!=-1)a=
a.replace(Pa,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Qa,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Ra,"&quot;");return a}},Oa=/&/g,Pa=/</g,Qa=/>/g,Ra=/\"/g,Sa=/[&<>\"]/,Wa=function(a){if(Ua(a,"&")){var b;if("document"in ba&&!Ua(a,"<")){var c=a,d=ba.document.createElement("a");d.innerHTML=c;d.normalize&&d.normalize();c=d.firstChild.nodeValue;d.innerHTML="";b=c}else b=Va(a);return b}return a},Va=function(a){return a.replace(/&([^;]+);/g,function(b,c){switch(c){case "amp":return"&";case "lt":return"<";
case "gt":return">";case "quot":return'"';default:if(c.charAt(0)=="#"){var d=Number("0"+c.substr(1));if(!isNaN(d))return String.fromCharCode(d)}return b}})},Xa=function(a,b){for(var c=b.length,d=0;d<c;d++){var f=c==1?b:b.charAt(d);if(a.charAt(0)==f&&a.charAt(a.length-1)==f)return a.substring(1,a.length-1)}return a},Ya=function(a,b,c){if(c)a=Wa(a);if(a.length>b)a=a.substring(0,b-3)+"...";if(c)a=Ta(a);return a},Za=function(a,b,c){if(c)a=Wa(a);if(a.length>b){var d=Math.floor(b/2),f=a.length-d;d+=b%2;
a=a.substring(0,d)+"..."+a.substring(f)}if(c)a=Ta(a);return a},ab={"\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\x0B",'"':'\\"',"'":"\\'","\\":"\\\\"},Ua=function(a,b){return a.indexOf(b)!=-1},bb=function(a,b,c){var d=s(c)?a.toFixed(c):String(a),f=d.indexOf(".");if(f==-1)f=d.length;return(new Array(Math.max(0,b-f)+1)).join("0")+d},Ca=function(a){return a==k?"":String(a)},cb=function(){return Array.prototype.join.call(arguments,"")},db=function(){return Math.floor(Math.random()*
2147483648).toString(36)+(Math.floor(Math.random()*2147483648)^xa()).toString(36)},fb=function(a,b){for(var c=0,d=Ja(String(a)).split("."),f=Ja(String(b)).split("."),g=Math.max(d.length,f.length),h=0;c==0&&h<g;h++){var i=d[h]||"",m=f[h]||"",n=new RegExp("(\\d*)(\\D*)","g"),o=new RegExp("(\\d*)(\\D*)","g");do{var p=n.exec(i)||["","",""],r=o.exec(m)||["","",""];if(p[0].length==0&&r[0].length==0)break;var t=p[1].length==0?0:parseInt(p[1],10),v=r[1].length==0?0:parseInt(r[1],10);c=eb(t,v)||eb(p[2].length==
0,r[2].length==0)||eb(p[2],r[2])}while(c==0)}return c},eb=function(a,b){if(a<b)return-1;else if(a>b)return 1;return 0},gb=Math.random()*2147483648|0,hb=function(){return"goog_"+gb++};var ib={},jb=function(){this.ica=xa()},kb=new jb;jb.prototype.G=function(a){this.ica=a};jb.prototype.reset=function(){this.G(xa())};jb.prototype.z=function(){return this.ica};var lb=function(a){this.sIa=a||"";this.NPa=kb};lb.prototype.efa=j;lb.prototype.oPa=j;lb.prototype.iPa=j;lb.prototype.KU=l;
var nb=function(a){var b=new Date(a.x5());return mb(b.getFullYear()-2E3)+mb(b.getMonth()+1)+mb(b.getDate())+" "+mb(b.getHours())+":"+mb(b.getMinutes())+":"+mb(b.getSeconds())+"."+mb(Math.floor(b.getMilliseconds()/10))},mb=function(a){if(a<10)return"0"+a;return String(a)},ob=function(a,b){var c=a.x5()-b,d=c/1E3,f=d.toFixed(3),g=0;if(d<1)g=2;else for(;d<100;){g++;d*=10}for(;g-- >0;)f=" "+f;return f},pb=function(a){lb.call(this,a)};B(pb,lb);
pb.prototype.Msa=function(a){var b=[];b.push(this.sIa," ");this.efa&&b.push("[",nb(a),"] ");this.oPa&&b.push("[",ob(a,this.NPa.z()),"s] ");this.iPa&&b.push("[",a.VO(),"] ");b.push(a.lk(),"\n");this.KU&&a.uO()&&b.push(a.Qua(),"\n");return b.join("")};var qb=function(a){return a[a.length-1]},rb=Array.prototype,sb=rb.indexOf?function(a,b,c){return rb.indexOf.call(a,b,c)}:function(a,b,c){var d=c==k?0:c<0?Math.max(0,a.length+c):c;if(y(a)){if(!y(b)||b.length!=1)return-1;return a.indexOf(b,d)}for(var f=d;f<a.length;f++)if(f in a&&a[f]===b)return f;return-1},tb=rb.lastIndexOf?function(a,b,c){var d=c==k?a.length-1:c;return rb.lastIndexOf.call(a,b,d)}:function(a,b,c){var d=c==k?a.length-1:c;if(d<0)d=Math.max(0,a.length+d);if(y(a)){if(!y(b)||b.length!=
1)return-1;return a.lastIndexOf(b,d)}for(var f=d;f>=0;f--)if(f in a&&a[f]===b)return f;return-1},C=rb.forEach?function(a,b,c){rb.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},ub=rb.filter?function(a,b,c){return rb.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=y(a)?a.split(""):a,i=0;i<d;i++)if(i in h){var m=h[i];if(b.call(c,m,i,a))f[g++]=m}return f},vb=rb.map?function(a,b,c){return rb.map.call(a,b,c)}:function(a,
b,c){for(var d=a.length,f=new Array(d),g=y(a)?a.split(""):a,h=0;h<d;h++)if(h in g)f[h]=b.call(c,g[h],h,a);return f},wb=function(a,b,c,d){if(a.reduce)return d?a.reduce(A(b,d),c):a.reduce(b,c);var f=c;C(a,function(g,h){f=b.call(d,f,g,h,a)});return f},xb=rb.some?function(a,b,c){return rb.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return j;return l},yb=rb.every?function(a,b,c){return rb.every.call(a,b,c)}:function(a,b,c){for(var d=
a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return l;return j},Ab=function(a,b,c){var d=zb(a,b,c);return d<0?k:y(a)?a.charAt(d):a[d]},zb=function(a,b,c){for(var d=a.length,f=y(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return g;return-1},Bb=function(a,b){return sb(a,b)>=0},Cb=function(a){if(!ja(a))for(var b=a.length-1;b>=0;b--)delete a[b];a.length=0},Db=function(a,b){Bb(a,b)||a.push(b)},Fb=function(a,b){var c=sb(a,b),d;if(d=c>=0)Eb(a,c);return d},Eb=function(a,
b){return rb.splice.call(a,b,1).length==1},Hb=function(a,b,c){var d=zb(a,b,c);if(d>=0){Eb(a,d);return j}return l},Ib=function(){return rb.concat.apply(rb,arguments)},Jb=function(a){if(ja(a))return Ib(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}},Kb=function(a){if(ja(a))return Ib(a);return Jb(a)},Lb=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(ja(c)||(d=ka(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+
h]=c[h];else a.push(c)}},Nb=function(a){return rb.splice.apply(a,Mb(arguments,1))},Mb=function(a,b,c){return arguments.length<=2?rb.slice.call(a,b):rb.slice.call(a,b,c)},Pb=function(a,b,c){if(!ka(a)||!ka(b)||a.length!=b.length)return l;for(var d=a.length,f=c||Ob,g=0;g<d;g++)if(!f(a[g],b[g]))return l;return j},Qb=function(a,b){return a>b?1:a<b?-1:0},Ob=function(a,b){return a===b},Rb=function(){for(var a=[],b=0;b<arguments.length;b++){var c=arguments[b];ja(c)?a.push.apply(a,Rb.apply(k,c)):a.push(c)}return a};var Sb="StopIteration"in ba?ba.StopIteration:Error("StopIteration"),Tb=function(){};Tb.prototype.sa=function(){e(Sb)};Tb.prototype.cl=function(){return this};
var Ub=function(a){if(a instanceof Tb)return a;if(typeof a.cl=="function")return a.cl(l);if(ka(a)){var b=0,c=new Tb;c.sa=function(){for(;;){if(b>=a.length)e(Sb);if(b in a)return a[b++];else b++}};return c}e(Error("Not implemented"))},Vb=function(a,b,c){if(ka(a))try{C(a,b,c)}catch(d){if(d!==Sb)e(d)}else{a=Ub(a);try{for(;;)b.call(c,a.sa(),undefined,a)}catch(f){if(f!==Sb)e(f)}}},Wb=function(a,b,c){a=Ub(a);var d=new Tb;d.sa=function(){for(;;){var f=a.sa();if(b.call(c,f,undefined,a))return f}};return d},
Xb=function(a,b,c){a=Ub(a);try{for(;;)if(b.call(c,a.sa(),undefined,a))return j}catch(d){if(d!==Sb)e(d)}return l},Yb=function(){var a=arguments,b=a.length,c=0,d=new Tb;d.sa=function(){try{if(c>=b)e(Sb);var f=Ub(a[c]);return f.sa()}catch(g){if(g!==Sb||c>=b)e(g);else{c++;return this.sa()}}};return d};var Zb=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},$b=function(a,b,c){var d={};for(var f in a)if(b.call(c,a[f],f,a))d[f]=a[f];return d},ac=function(a,b,c){var d={};for(var f in a)d[f]=b.call(c,a[f],f,a);return d},bc=function(a,b,c){for(var d in a)if(!b.call(c,a[d],d,a))return l;return j},cc=function(a){for(var b in a)return b},dc=function(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b},ec=function(a){var b=[],c=0;for(var d in a)b[c++]=d;return b},fc=function(a,b){for(var c in a)if(a[c]==
b)return j;return l},gc=function(a){for(var b in a)return l;return j},hc=function(a,b){var c;if(c=b in a)delete a[b];return c},ic=function(a,b,c){if(b in a)e(Error('The object already contains the key "'+b+'"'));a[b]=c},jc=function(a,b,c){if(b in a)return a[b];return c},kc=function(a){var b={};for(var c in a)b[c]=a[c];return b},lc=function(a){var b={};for(var c in a)b[a[c]]=c;return b},mc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],
nc=function(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<mc.length;f++){b=mc[f];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}},oc=function(){var a=arguments.length;if(a==1&&ja(arguments[0]))return oc.apply(k,arguments[0]);if(a%2)e(Error("Uneven number of arguments"));for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b},pc=function(){var a=arguments.length;if(a==1&&ja(arguments[0]))return pc.apply(k,arguments[0]);for(var b={},
c=0;c<a;c++)b[arguments[c]]=j;return b};var qc=function(a){if(typeof a.ia=="function")return a.ia();if(ka(a)||y(a))return a.length;var b,c=0;for(var d in a)c++;return b=c},rc=function(a){if(typeof a.ud=="function")return a.ud();if(y(a))return a.split("");if(ka(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return dc(a)},sc=function(a){if(typeof a.zb=="function")return a.zb();if(typeof a.ud!="function"){if(ka(a)||y(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(d);return b}return ec(a)}},tc=function(a,b){if(typeof a.contains==
"function")return a.contains(b);if(typeof a.Rs=="function")return a.Rs(b);if(ka(a)||y(a))return Bb(a,b);return fc(a,b)},uc=function(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ka(a)||y(a))C(a,b,c);else for(var d=sc(a),f=rc(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)},vc=function(a,b,c){if(typeof a.some=="function")return a.some(b,c);if(ka(a)||y(a))return xb(a,b,c);for(var d=sc(a),f=rc(a),g=f.length,h=0;h<g;h++)if(b.call(c,f[h],d&&d[h],a))return j;return l},wc=function(a,b,
c){if(typeof a.every=="function")return a.every(b,c);if(ka(a)||y(a))return yb(a,b,c);for(var d=sc(a),f=rc(a),g=f.length,h=0;h<g;h++)if(!b.call(c,f[h],d&&d[h],a))return l;return j};var xc=function(a){this.ob={};this.Bb=[];var b=arguments.length;if(b>1){if(b%2)e(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.G(arguments[c],arguments[c+1])}else a&&this.GC(a)};q=xc.prototype;q.Z=0;q.Di=0;q.ia=function(){return this.Z};q.ud=function(){this.Yw();for(var a=[],b=0;b<this.Bb.length;b++){var c=this.Bb[b];a.push(this.ob[c])}return a};q.zb=function(){this.Yw();return this.Bb.concat()};q.Ed=function(a){return yc(this.ob,a)};
q.Rs=function(a){for(var b=0;b<this.Bb.length;b++){var c=this.Bb[b];if(yc(this.ob,c)&&this.ob[c]==a)return j}return l};q.xc=function(a,b){if(this===a)return j;if(this.Z!=a.ia())return l;var c=b||zc;this.Yw();for(var d,f=0;d=this.Bb[f];f++)if(!c(this.z(d),a.z(d)))return l;return j};var zc=function(a,b){return a===b};q=xc.prototype;q.Da=function(){return this.Z==0};q.clear=function(){this.ob={};this.Di=this.Z=this.Bb.length=0};
q.remove=function(a){if(yc(this.ob,a)){delete this.ob[a];this.Z--;this.Di++;this.Bb.length>2*this.Z&&this.Yw();return j}return l};q.Yw=function(){if(this.Z!=this.Bb.length){for(var a=0,b=0;a<this.Bb.length;){var c=this.Bb[a];if(yc(this.ob,c))this.Bb[b++]=c;a++}this.Bb.length=b}if(this.Z!=this.Bb.length){var d={};for(b=a=0;a<this.Bb.length;){c=this.Bb[a];if(!yc(d,c)){this.Bb[b++]=c;d[c]=1}a++}this.Bb.length=b}};q.z=function(a,b){if(yc(this.ob,a))return this.ob[a];return b};
q.G=function(a,b){if(!yc(this.ob,a)){this.Z++;this.Bb.push(a);this.Di++}this.ob[a]=b};q.GC=function(a){var b,c;if(a instanceof xc){b=a.zb();c=a.ud()}else{b=ec(a);c=dc(a)}for(var d=0;d<b.length;d++)this.G(b[d],c[d])};q.ua=function(){return new xc(this)};q.cl=function(a){this.Yw();var b=0,c=this.Bb,d=this.ob,f=this.Di,g=this,h=new Tb;h.sa=function(){for(;;){if(f!=g.Di)e(Error("The map has changed since the iterator was created"));if(b>=c.length)e(Sb);var i=c[b++];return a?i:d[i]}};return h};
var yc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Ac=function(a){this.ob=new xc;a&&this.GC(a)},Bc=function(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+qa(a):b.substr(0,1)+a};q=Ac.prototype;q.ia=function(){return this.ob.ia()};q.add=function(a){this.ob.G(Bc(a),a)};q.GC=function(a){for(var b=rc(a),c=b.length,d=0;d<c;d++)this.add(b[d])};q.pb=function(a){for(var b=rc(a),c=b.length,d=0;d<c;d++)this.remove(b[d])};q.remove=function(a){return this.ob.remove(Bc(a))};q.clear=function(){this.ob.clear()};q.Da=function(){return this.ob.Da()};
q.contains=function(a){return this.ob.Ed(Bc(a))};q.N8=function(a){for(var b=new Ac,c=rc(a),d=0;d<c.length;d++){var f=c[d];this.contains(f)&&b.add(f)}return b};q.ud=function(){return this.ob.ud()};q.ua=function(){return new Ac(this)};q.xc=function(a){return this.ia()==qc(a)&&this.JDa(a)};q.JDa=function(a){var b=qc(a);if(this.ia()>b)return l;if(!(a instanceof Ac)&&b>5)a=new Ac(a);return wc(this,function(c){return tc(a,c)})};q.cl=function(){return this.ob.cl(l)};var Cc=function(a,b){var c=new Ac,d=[],f=function(g,h){var i=h+"  ";try{if(s(g))if(ha(g))d.push("NULL");else if(y(g))d.push('"'+g.replace(/\n/g,"\n"+h)+'"');else if(ma(g))d.push(String(g).replace(/\n/g,"\n"+h));else if(na(g))if(c.contains(g))d.push("*** reference loop detected ***");else{c.add(g);d.push("{");for(var m in g)if(!(!b&&ma(g[m]))){d.push("\n");d.push(i);d.push(m+" = ");f(g[m],i)}d.push("\n"+h+"}")}else d.push(g);else d.push("undefined")}catch(n){d.push("*** "+n+" ***")}};f(a,"");return d.join("")},
Ec=function(a,b){try{var c,d=a,f=ca("window.location.href");c=typeof d=="string"?{message:d,name:"Unknown error",lineNumber:"Not available",fileName:f,stack:"Not available"}:!d.lineNumber||!d.fileName||!d.stack?{message:d.message,name:d.name,lineNumber:d.lineNumber||d.line||"Not available",fileName:d.fileName||d.filename||d.sourceURL||f,stack:d.stack||"Not available"}:d;var g="Message: "+Ta(c.message)+'\nUrl: <a href="view-source:'+c.fileName+'" target="_new">'+c.fileName+"</a>\nLine: "+c.lineNumber+
"\n\nBrowser stack:\n"+Ta(c.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ta(Dc(b)+"-> ");return g}catch(h){return"Exception trying to expose exception! You win, we lose. "+h}},Dc=function(a){return Fc(a||arguments.callee.caller,[])},Fc=function(a,b){var c=[];if(Bb(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(Gc(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){f>0&&c.push(", ");var g,h=d[f];switch(typeof h){case "object":g=h?"object":"null";break;case "string":g=h;break;
case "number":g=String(h);break;case "boolean":g=h?"true":"false";break;case "function":g=(g=Gc(h))?g:"[fn]";break;case "undefined":default:g=typeof h;break}if(g.length>40)g=g.substr(0,40)+"...";c.push(g)}b.push(a);c.push(")\n");try{c.push(Fc(a.caller,b))}catch(i){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")},Gc=function(a){var b=String(a);if(!Hc[b]){var c=/function ([^\(]+)/.exec(b);if(c){var d=c[1];Hc[b]=d}else Hc[b]="[Anonymous]"}return Hc[b]},
Hc={};var Jc=function(a,b,c,d,f){this.CLa=typeof f=="number"?f:Ic++;this.FQa=d||xa();this.cr=a;this.RFa=b;this.VEa=c};Jc.prototype.CLa=0;Jc.prototype.T2=k;Jc.prototype.S2=k;var Ic=0;q=Jc.prototype;q.VO=function(){return this.VEa};q.uO=function(){return this.T2};q.FMa=function(a){this.T2=a};q.Qua=function(){return this.S2};q.GMa=function(a){this.S2=a};q.Vt=function(){return this.cr};q.Rr=function(a){this.cr=a};q.lk=function(){return this.RFa};q.x5=function(){return this.FQa};var Kc=function(a){this.Wb=a};Kc.prototype.Ta=k;Kc.prototype.cr=k;Kc.prototype.uc=k;Kc.prototype.pu=k;var Lc=function(a,b){this.name=a;this.value=b};Lc.prototype.toString=function(){return this.name};var Mc=new Lc("SHOUT",1200),Nc=new Lc("SEVERE",1E3),Oc=new Lc("WARNING",900),Pc=new Lc("INFO",800),Rc=new Lc("CONFIG",700),Sc=new Lc("FINE",500),Tc=new Lc("FINER",400),Uc=new Lc("FINEST",300);q=Kc.prototype;q.tb=function(){return this.Wb};q.bZ=function(a){if(!this.pu)this.pu=[];this.pu.push(a)};
q.HJa=function(a){var b=this.pu;return!!b&&Fb(b,a)};q.gb=function(){return this.Ta};q.X3=function(){if(!this.uc)this.uc={};return this.uc};q.Rr=function(a){this.cr=a};q.Vt=function(){return this.cr};q.D4=function(){if(this.cr)return this.cr;if(this.Ta)return this.Ta.D4();return k};q.hDa=function(a){return a.value>=this.D4().value};q.log=function(a,b,c){this.hDa(a)&&this.Jqa(this.Uva(a,b,c))};q.Uva=function(a,b,c){var d=new Jc(a,String(b),this.Wb);if(c){d.FMa(c);d.GMa(Ec(c,arguments.callee.caller))}return d};
q.Nk=function(a,b){this.log(Mc,a,b)};q.wa=function(a,b){this.log(Nc,a,b)};q.S=function(a,b){this.log(Oc,a,b)};q.F=function(a,b){this.log(Pc,a,b)};q.k0=function(a,b){this.log(Rc,a,b)};q.Lc=function(a,b){this.log(Sc,a,b)};q.tN=function(a,b){this.log(Tc,a,b)};q.jE=function(a,b){this.log(Uc,a,b)};q.Jqa=function(a){for(var b=this;b;){b.Xma(a);b=b.gb()}};q.Xma=function(a){if(this.pu)for(var b=0,c;c=this.pu[b];b++)c(a)};q.XA=function(a){this.Ta=a};q.Mja=function(a,b){this.X3()[a]=b};
var Vc={},Wc=k,Xc=function(){if(!Wc){Wc=new Kc("");Vc[""]=Wc;Wc.Rr(Rc)}},Yc=function(){Xc();return Wc},D=function(a){Xc();var b=Vc[a],c;if(!(c=b)){var d=a,f=new Kc(d),g=d.lastIndexOf("."),h=d.substr(0,g),i=d.substr(g+1),m=D(h);m.Mja(i,f);f.XA(m);c=Vc[d]=f}return c};var Zc=function(){this.Kba=A(this.uka,this);this.nE=new pb;this.nE.efa=l;this.U8=this.nE.KU=l;this.SEa=""};Zc.prototype.ava=function(){return this.nE};Zc.prototype.hMa=function(a){if(a!=this.U8){var b=Yc();if(a)b.bZ(this.Kba);else{b.HJa(this.Kba);this.oYa=""}this.U8=a}};
Zc.prototype.uka=function(a){var b=this.nE.Msa(a);if(window.console&&window.console.firebug)switch(a.Vt()){case Mc:window.console.info(b);break;case Nc:window.console.error(b);break;case Oc:window.console.warn(b);break;default:window.console.debug(b);break}else if(window.console)window.console.log(b);else if(window.opera)window.opera.postError(b);else this.SEa+=b};var $c="A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",ad="\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc",bd=/<[^>]*>|&[^;]+;/g,cd=function(a,b){return b?a.replace(bd," "):a},dd=new RegExp("["+ad+"]"),ed=new RegExp("["+$c+"]"),fd=function(a,b){return dd.test(cd(a,b))},gd=fd,hd=new RegExp("^[^"+ad+"]*["+$c+"]"),id=new RegExp("^[^"+$c+"]*["+ad+"]"),jd=function(a,b){return id.test(cd(a,b))},ld=jd,md=function(a,b){return hd.test(cd(a,b))},nd=
md,od=/^http:\/\/.*/,pd=new RegExp("^(ar|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)"),qd=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?(&gt;)+)/g,rd=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,sd=function(a,b){var c=b===undefined?fd(a):b,d=c?"\u200f":"\u200e";return a.replace(rd,d+"$&"+d)},td=/\s+/,ud=/\d/,vd=0.4;var wd=function(a){var b=String(a),c;var d=b;if(/^\s*$/.test(d))c=l;else{var f=/\\["\\\/bfnrtu]/g,g=/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,h=/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,i=/^[\],:{}\s\u2028\u2029]*$/;c=i.test(d.replace(f,"@").replace(g,"]").replace(h,""))}if(c)try{return eval("("+b+")")}catch(m){}e(Error("Invalid JSON string: "+b))},yd=function(a){return(new xd).serialize(a)},xd=function(){};
xd.prototype.serialize=function(a){var b=[];this.WT(a,b);return b.join("")};xd.prototype.WT=function(a,b){switch(typeof a){case "string":this.wda(a,b);break;case "number":this.FLa(a,b);break;case "boolean":b.push(a);break;case "undefined":b.push("null");break;case "object":if(a==k){b.push("null");break}if(ja(a)){this.DLa(a,b);break}this.GLa(a,b);break;case "function":break;default:e(Error("Unknown type: "+typeof a))}};
var zd={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},Ad=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;xd.prototype.wda=function(a,b){b.push('"',a.replace(Ad,function(c){if(c in zd)return zd[c];var d=c.charCodeAt(0),f="\\u";if(d<16)f+="000";else if(d<256)f+="00";else if(d<4096)f+="0";return zd[c]=f+d.toString(16)}),'"')};xd.prototype.FLa=function(a,b){b.push(isFinite(a)&&!isNaN(a)?a:"null")};
xd.prototype.DLa=function(a,b){var c=a.length;b.push("[");for(var d="",f=0;f<c;f++){b.push(d);this.WT(a[f],b);d=","}b.push("]")};xd.prototype.GLa=function(a,b){b.push("{");var c="";for(var d in a)if(a.hasOwnProperty(d)){var f=a[d];if(typeof f!="function"){b.push(c);this.wda(d,b);b.push(":");this.WT(f,b);c=","}}b.push("}")};var Bd=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),Cd=function(a,b,c){var d,f=[a,"&",b,"=",Ma(c)];if(f[1]){var g=f[0],h=g.indexOf("#");if(h>=0){f.push(g.substr(h));f[0]=g=g.substr(0,h)}var i=g.indexOf("?");if(i<0)f[1]="?";else if(i==g.length-1)f[1]=undefined}return d=f.join("")},Dd=/#|$/;var Ed=function(a,b){var c;if(a instanceof Ed){this.Dv(b==k?a.tva():b);this.Qo(a.jj());this.OI(a.R6());this.Ho(a.Nh());this.Oo(a.Yn());this.Sr(a.og());this.YA(a.mk().ua());this.Jo(a.Oh())}else if(a&&(c=String(a).match(Bd))){this.Dv(!!b);this.Qo(c[1]||"",j);this.OI(c[2]||"",j);this.Ho(c[3]||"",j);this.Oo(c[4]);this.Sr(c[5]||"",j);this.sea(c[6]||"",j);this.Jo(c[7]||"",j)}else{this.Dv(!!b);this.Te=new Fd(k,this,this.vk)}};q=Ed.prototype;q.Dm="";q.hw="";q.kt="";q.av=k;q.$u="";q.Ct="";q.BDa=l;q.vk=l;
q.toString=function(){if(this.Eh)return this.Eh;var a=[];this.Dm&&a.push(Gd(this.Dm,Hd),":");if(this.kt){a.push("//");this.hw&&a.push(Gd(this.hw,Hd),"@");a.push(Id(this.kt));this.av!=k&&a.push(":",String(this.Yn()))}this.$u&&a.push(Gd(this.$u,Jd));var b=String(this.Te);b&&a.push("?",b);this.Ct&&a.push("#",Gd(this.Ct,Kd));return this.Eh=a.join("")};
q.WH=function(a){var b=this.ua(),c=a.Zy();if(c)b.Qo(a.jj());else c=a.wBa();if(c)b.OI(a.R6());else c=a.Yy();if(c)b.Ho(a.Nh());else c=a.pBa();var d=a.og();if(c)b.Oo(a.Yn());else if(c=a.pQ()){if(d.charAt(0)!="/")if(this.Yy()&&!this.pQ())d="/"+d;else{var f=b.og().lastIndexOf("/");if(f!=-1)d=b.og().substr(0,f+1)+d}d=Ld(d)}if(c)b.Sr(d);else c=a.qBa();if(c)b.sea(a.vua());else c=a.mBa();c&&b.Jo(a.Oh());return b};
q.ua=function(){var a,b=this.Dm,c=this.hw,d=this.kt,f=this.av,g=this.$u,h=this.Te.ua(),i=this.Ct,m=new Ed(k,this.vk);b&&m.Qo(b);c&&m.OI(c);d&&m.Ho(d);f&&m.Oo(f);g&&m.Sr(g);h&&m.YA(h);i&&m.Jo(i);return a=m};q.jj=function(){return this.Dm};q.Qo=function(a,b){this.Zi();delete this.Eh;if(this.Dm=b?Md(a):a)this.Dm=this.Dm.replace(/:$/,"");return this};q.Zy=function(){return!!this.Dm};q.R6=function(){return this.hw};q.OI=function(a,b){this.Zi();delete this.Eh;this.hw=b?Md(a):a;return this};q.wBa=function(){return!!this.hw};
q.Nh=function(){return this.kt};q.Ho=function(a,b){this.Zi();delete this.Eh;this.kt=b?Md(a):a;return this};q.Yy=function(){return!!this.kt};q.Yn=function(){return this.av};q.Oo=function(a){this.Zi();delete this.Eh;if(a){a=Number(a);if(isNaN(a)||a<0)e(Error("Bad port number "+a));this.av=a}else this.av=k;return this};q.pBa=function(){return this.av!=k};q.og=function(){return this.$u};q.Sr=function(a,b){this.Zi();delete this.Eh;this.$u=b?Md(a):a;return this};q.pQ=function(){return!!this.$u};
q.qBa=function(){return this.Te.toString()!==""};q.YA=function(a,b){this.Zi();delete this.Eh;if(a instanceof Fd){this.Te=a;this.Te.ib=this;this.Te.Dv(this.vk)}else{b||(a=Gd(a,Nd));this.Te=new Fd(a,this,this.vk)}return this};q.sea=function(a,b){return this.YA(a,b)};q.Lua=function(){return this.Te.toString()};q.vua=function(){return this.Te.IQa()};q.mk=function(){return this.Te};q.dxa=function(){return this.Lua()};q.fa=function(a,b){this.Zi();delete this.Eh;this.Te.G(a,b);return this};
q.zI=function(a,b){this.Zi();delete this.Eh;ja(b)||(b=[String(b)]);this.Te.tOa(a,b);return this};q.Pwa=function(a){return this.Te.ud(a)};q.Pf=function(a){return this.Te.z(a)};q.Oh=function(){return this.Ct};q.Jo=function(a,b){this.Zi();delete this.Eh;this.Ct=b?Md(a):a;return this};q.mBa=function(){return!!this.Ct};q.F$=function(){this.Zi();this.fa("zx",db());return this};q.removeParameter=function(a){this.Zi();this.Te.remove(a);return this};q.Zi=function(){if(this.BDa)e(Error("Tried to modify a read-only Uri"))};
q.Dv=function(a){this.vk=a;this.Te&&this.Te.Dv(a)};q.tva=function(){return this.vk};
var Od=function(a,b){return a instanceof Ed?a.ua():new Ed(a,b)},Ld=function(a){if(a==".."||a==".")return"";else if(!Ua(a,"./")&&!Ua(a,"/."))return a;else{for(var b=ya(a,"/"),c=a.split("/"),d=[],f=0;f<c.length;){var g=c[f++];if(g==".")b&&f==c.length&&d.push("");else if(g==".."){if(d.length>1||d.length==1&&d[0]!="")d.pop();b&&f==c.length&&d.push("")}else{d.push(g);b=j}}return d.join("/")}},Md=function(a){return a?decodeURIComponent(a):""},Id=function(a){if(y(a))return encodeURIComponent(a);return k},
Pd=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,Gd=function(a,b){var c=k;if(y(a)){c=a;Pd.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,Qd)}return c},Qd=function(a){var b=a.charCodeAt(0);return"%"+(b>>4&15).toString(16)+(b&15).toString(16)},Hd=/[#\/\?@]/g,Jd=/[\#\?]/g,Nd=/[\#\?@]/g,Kd=/#/g,Fd=function(a,b,c){this.Jl=a||k;this.ib=b||k;this.vk=!!c};
Fd.prototype.$i=function(){if(!this.zc){this.zc=new xc;if(this.Jl)for(var a=this.Jl.split("&"),b=0;b<a.length;b++){var c=a[b].indexOf("="),d=k,f=k;if(c>=0){d=a[b].substring(0,c);f=a[b].substring(c+1)}else d=a[b];d=Na(d);d=this.Tn(d);this.add(d,f?Na(f):"")}}};
var Rd=function(a,b,c){var d=sc(a);if(typeof d=="undefined")e(Error("Keys are undefined"));var f,g=d,h=rc(a),i=b,m=c;if(g.length!=h.length)e(Error("Mismatched lengths for keys/values"));for(var n=new Fd(k,i,m),o=0;o<g.length;o++)n.add(g[o],h[o]);return f=n};q=Fd.prototype;q.zc=k;q.Z=k;q.ia=function(){this.$i();return this.Z};q.add=function(a,b){this.$i();this.Gu();a=this.Tn(a);if(this.Ed(a)){var c=this.zc.z(a);ja(c)?c.push(b):this.zc.G(a,[c,b])}else this.zc.G(a,b);this.Z++;return this};
q.remove=function(a){this.$i();a=this.Tn(a);if(this.zc.Ed(a)){this.Gu();var b=this.zc.z(a);if(ja(b))this.Z-=b.length;else this.Z--;return this.zc.remove(a)}return l};q.clear=function(){this.Gu();this.zc&&this.zc.clear();this.Z=0};q.Da=function(){this.$i();return this.Z==0};q.Ed=function(a){this.$i();a=this.Tn(a);return this.zc.Ed(a)};q.Rs=function(a){var b=this.ud();return Bb(b,a)};
q.zb=function(){this.$i();for(var a=this.zc.ud(),b=this.zc.zb(),c=[],d=0;d<b.length;d++){var f=a[d];if(ja(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};q.ud=function(a){this.$i();var b;if(a){var c=this.Tn(a);if(this.Ed(c)){var d=this.zc.z(c);if(ja(d))return d;else{b=[];b.push(d)}}else b=[]}else{var f=this.zc.ud();b=[];for(var g=0;g<f.length;g++){var h=f[g];ja(h)?Lb(b,h):b.push(h)}}return b};
q.G=function(a,b){this.$i();this.Gu();a=this.Tn(a);if(this.Ed(a)){var c=this.zc.z(a);if(ja(c))this.Z-=c.length;else this.Z--}this.zc.G(a,b);this.Z++;return this};q.z=function(a,b){this.$i();a=this.Tn(a);if(this.Ed(a)){var c=this.zc.z(a);return ja(c)?c[0]:c}else return b};q.tOa=function(a,b){this.$i();this.Gu();a=this.Tn(a);if(this.Ed(a)){var c=this.zc.z(a);if(ja(c))this.Z-=c.length;else this.Z--}if(b.length>0){this.zc.G(a,b);this.Z+=b.length}};
q.toString=function(){if(this.Jl)return this.Jl;if(!this.zc)return"";for(var a=[],b=0,c=this.zc.zb(),d=0;d<c.length;d++){var f=c[d],g=Ma(f),h=this.zc.z(f);if(ja(h))for(var i=0;i<h.length;i++){b>0&&a.push("&");a.push(g);h[i]!==""&&a.push("=",Ma(h[i]));b++}else{b>0&&a.push("&");a.push(g);h!==""&&a.push("=",Ma(h));b++}}return this.Jl=a.join("")};q.IQa=function(){if(!this.bt)this.bt=Md(this.toString());return this.bt};q.Gu=function(){delete this.bt;delete this.Jl;this.ib&&delete this.ib.Eh};
q.ua=function(){var a=new Fd;if(this.bt)a.bt=this.bt;if(this.Jl)a.Jl=this.Jl;if(this.zc)a.zc=this.zc.ua();return a};q.Tn=function(a){var b=String(a);if(this.vk)b=b.toLowerCase();return b};q.Dv=function(a){var b=a&&!this.vk;if(b){this.$i();this.Gu();uc(this.zc,function(c,d){var f=d.toLowerCase();if(d!=f){this.remove(d);this.add(f,c)}},this)}this.vk=a};q.extend=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a];uc(b,function(c,d){this.add(d,c)},this)}};var F=function(a,b){function c(){}c.prototype=b.prototype;a.f=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.prototype.kT=a},G=function(a){if(!a.Fu)a.Fu=new a;return a.Fu};u("knol.getSingleton",G,void 0);var Sd=function(a,b,c){for(var d in b)if(c||!(d in a))a[d]=b[d]};var Td=function(a,b,c){if(a.length!=b.length)return k;this.WPa(a,c);this.YRa=b};Td.prototype.WPa=function(a,b){this.MIa=a;for(var c=1;c<a.length;c++)if(a[c]==k)a[c]=a[c-1]+1;else if(b)a[c]+=a[c-1]};Td.prototype.Ula=function(a){var b=this.Mva(a);if(b<0)return k;return this.YRa[b]};Td.prototype.Mva=function(a){for(var b=this.MIa,c=0,d=b.length;d-c>8;){var f=d+c>>1;if(b[f]<=a)c=f;else d=f}for(;c<d;++c)if(a<b[c])break;return c-1};var Ud=5,Vd=6,Wd=7,Xd=k,Yd=function(a,b){if(a==10&&b==11)return l;if(a==1||a==10||a==11)return j;if(b==1||b==10||b==11)return j;if(a==Ud&&(b==Ud||b==Vd||b==8||b==9))return l;if((a==8||a==Vd)&&(b==Vd||b==Wd))return l;if((a==9||a==Wd)&&b==Wd)return l;if(b==2)return l;return j},Zd=function(a){if(44032<=a&&a<=55203){if(a%28==16)return 8;return 9}else{Xd||(Xd=new Td([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,
56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,
228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,
0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,
2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],j));return Xd.Ula(a)}},$d=function(a,b,c){var d=Zd(a),f=Zd(b);return Yd(d,f)&&!(c&&(d==3||f==4))};var ae,be,de,ee,fe,ge,he,ie,je,ke=function(){return ba.navigator?ba.navigator.userAgent:k},le=function(){return ba.navigator};fe=ee=de=be=ae=l;var me;if(me=ke()){var ne=le();ae=me.indexOf("Opera")==0;be=!ae&&me.indexOf("MSIE")!=-1;ee=(de=!ae&&me.indexOf("WebKit")!=-1)&&me.indexOf("Mobile")!=-1;fe=!ae&&!de&&ne.product=="Gecko"}var oe=ae,H=be,I=fe,pe=de,qe=ee,re,se=le(),te=re=se&&se.platform||"";ge=Ua(te,"Mac");he=Ua(te,"Win");ie=Ua(te,"Linux");je=!!le()&&Ua(le().appVersion||"","X11");
var ue=ge,ve=he,we=ie,xe=je,ye,ze="",Ae;if(oe&&ba.opera){var Be=ba.opera.version;ze=typeof Be=="function"?Be():Be}else{if(I)Ae=/rv\:([^\);]+)(\)|;)/;else if(H)Ae=/MSIE\s+([^\);]+)(\)|;)/;else if(pe)Ae=/WebKit\/(\S+)/;if(Ae){var Ce=Ae.exec(ke());ze=Ce?Ce[1]:""}}var De=ye=ze,Ee={},Fe=function(a){return Ee[a]||(Ee[a]=fb(De,a)>=0)};var He=function(a,b,c){var d=c||10;if(d>a.length)return a;for(var f=[],g=0,h=0,i=0,m=0,n=0;n<a.length;n++){var o=m;m=a.charCodeAt(n);var p=m>=768&&!b(o,m,j);if(g>=d&&m>32&&!p){f.push(a.substring(i,n),Ge);i=n;g=0}if(h)if(m==62&&h==60)h=0;else{if(m==59&&h==38){h=0;g++}}else if(m==60||m==38)h=m;else if(m<=32)g=0;else g++}f.push(a.substr(i));return f.join("")},Ge=pe?"<wbr></wbr>":oe?"&shy;":"<wbr>";var Je=function(a,b){var c=b||Ie;if(!s(a))return"undefined";if(a==k)return"NULL";var d=[];for(var f in a)if(!c(f,a[f])){var g=f+" = ";try{g+=a[f]}catch(h){g+="*** "+h+" ***"}d.push(g)}return d.join("\n")},Ke=function(a,b){var c=b||Ie,d=new Ac,f=[],g=0,h=function(i,m,n){var o=m+"\u00a0\u00a0";try{if(s(i))if(ha(i))f.push("NULL");else if(y(i))f.push('"'+(i?i.replace(/\n/g,"\n"+m):"")+'"');else if(ma(i))f.push(String(i)?String(i).replace(/\n/g,"\n"+m):"");else if(na(i))if(d.contains(i))f.push("*** reference loop detected ***");
else if(g>100)f.push("...");else{++g;d.add(i);if(qa(i)){f.push("{");if("Node"in ba&&i instanceof Node){f.push("\n");if("innerHTML"in i)f.push("<pre>"+i.innerHTML+"</pre>");else"innerText"in i?f.push(i.innerText):f.push("*** cannot expose Node type objects ***")}else if(i instanceof xc)for(var p in i){if(!c(n+"."+p,i.z(p))){f.push("\n");f.push(o);f.push(p+" = ");h(i.z(p),o,n+"."+p)}}else for(var r in i)if(!c(n+"."+r,i[r])){f.push("\n");f.push(o);f.push(r+" = ");h(i[r],o,n+"."+r)}f.push("\n"+m+"}")}else f.push("*** cannot hash ***")}else f.push(i);
else f.push("undefined")}catch(t){f.push("*** "+t+" ***")}};h(a,"","");return f.join("")},Le=/closure_uid_/i,Ie=function(a,b){return ma(b)||a.search(Le)!=-1};var Me,Ne=function(){var a=Math.random()+xa()/1E6;return a-Math.floor(a)},Oe=function(a){if(na(a)&&!ma(a)){var b=function(){};b.prototype=a.constructor.prototype;b.constructor=a.constructor;var c=ja(a)?[]:new b;for(var d in a)c[d]=Oe(a[d]);return c}return a},Pe=function(a){return Ta(Ca(a))},Qe=ba._knol_evaluated_results_||{},Re=Qe.ssjsConfig,Se=function(a){if(!Me){var b={},c=Re,d=D("knol.Common");if(c)for(var f=c.split(","),g=0;g<f.length;g++){var h=f[g];if(h.length){var i=h.split("=");if(i[0])b[i[0]]=
i[1]}}else d.S("ssjsConfig missing!");Me=b}return Me[a]},Te=function(){var a=Se("buildMessage");if(!a||a.match(/build/))return 31337;try{return Number(a.match(/\d+/)[0])}catch(b){var c=D("knol.Common");c.S("Invalid build string: "+a);return k}},Ue=function(){return Se("defaultDomainPrefix")||"/"},Ve=function(){var a=Ue();if(za(a,"/"))a=a.substring(0,a.length-1);return a},We=function(a){var b=[{YQ:H,version:"6.0"},{YQ:I,version:"1.8.1"},{YQ:pe,version:"526"}];return xb(b,function(c){return c.YQ&&(!a||
Fe(c.version))})},Xe=l,Ye=function(){Xe=j},Ze=function(a){return a?a.replace(/<[^>]*>/g,""):""},$e=function(a,b){if(!a||a.length<=b)return a||"";a=Ja(Ia(a.replace(/\xa0|\s/g," ")));if(a.length<=b)return a;var c=a.substring(0,b);c=Ja(c);if(c.length<b)return c+"...";if(a[b]==" ")return c+"...";for(var d=Math.ceil(2*c.length/3),f=c.length-1;f>d;f--)if(c[f]==" ")return c.substring(0,f)+"...";return c+"..."},af=function(a){if(!a)return"";return a=He(a,$d,20)},bf=function(a,b,c){if(!a)return"";if(b)a=Ya(a,
b);a=Pe(a);c||(a=af(a));return a},cf=/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,6}$/i,df=function(a){var b=yd(a);return b=b.replace(/</g,"\\u003C").replace(/>/g,"\\u003E")},kf=function(a){var b=a?hf(a):jf();window.location=b},hf=function(a){var b=new Ed(a),c=b.og();c==Ve()&&b.Sr(c+"/");var d=new Ed(jf());d.fa("continue",b.toString());return d.toString()},mf=function(a){var b=lf(a);if(b){var c="Return to: "+b.w(),d=K({b:"div"});d.addElement(K({b:"div",c:"knol-back-link",d:c}));d.na();return d}return k},
lf=function(a){var b=O(a);if(b){var c="",d="";if(b instanceof nf){c=b.ij();d=b.jk()}else if(b instanceof of){c=b.Th();d=b.ha()}else return"";var f=K({b:"a",href:d,d:c});return f}return""},pf=function(a){var b=(new Date).getTime(),c=(a instanceof Date?a:new Date(a)).getTime(),d=b-c;if(d<=36E5){var f=Math.floor(d/6E4);if(f<=1)return"One minute ago";else{var g=f+" minutes ago";return g}}else if(d<=864E5){var h=Math.floor(d/36E5);if(h<=1)return"One hour ago";else{var i=h+" hours ago";return i}}else if(d<=
6048E5){var m=Math.floor(d/864E5);if(m<=1)return"One day ago";else{var n=m+" days ago";return n}}else return""},qf=function(a,b){var c=Se("jstimingSampling");if(c){c=Number(c);c==0||Math.random()>=c||window.setTimeout(function(){try{window.jstiming.report(a,b)}catch(d){var f=D("knol.Common");f.S("Failed to report timings",d)}},0)}},rf=function(){var a=new Ed(document.location.href),b=a.Pf("gl");if(b)return b.toUpperCase();return _reqCountry},sf=function(a){return a+"_OFFLINE"},tf=function(a,b,c){var d=
new Ed(jf());if(H){var f=c||b,g=new Ed(a);g.fa(f,"1");a=g.toString()}else a+="#"+b;d.fa("continue",a);return d.toString()},uf=function(a,b){if(a&&ya(a,b))return a.replace(b,"");return k};var vf=function(){},wf=function(){return D("knol.Persistent")},P=function(a,b,c){if(!a||!b||!c)wf().wa("bad params to  knol.Persistent.registerGetter -  ctor:"+a+" func:"+b+" name:"+c);if(!a.iC)a.iC={};a.iC[c]=b;xf(a,c)},xf=function(a,b){if(!a||!b)wf().wa("bad params to  knol.Persistent.registerProperty -  ctor:"+a+" name:"+b);if(!a.sC)a.sC=[];a.sC.push(b)};vf.prototype.serialize=k;vf.prototype.parse=k;vf.prototype.v9=j;
var zf=function(a){var b=wf();if(!a)return a;var c,d=a?a.kT||a.constructor:k;if(yf(d))c=a;else if(d==Array){c=[];for(var f=0;f<a.length;f++)c.push(zf(a[f]))}else if(typeof a==="function")return;else if(a instanceof vf||a.v9){var g;if(ma(a.serialize))g=a.serialize();else{var h=a;wf();for(var i={},m=h.constructor;m;){for(var n=m.sC||h.sC||[],o=m.iC||h.iC||{},p=0;p<n.length;p++){var r=n[p],t=undefined;t=r in o?o[r].apply(h):h[r];if(s(t)){var v=zf(t);if(s(v))i[r]=v}}for(var w=m.lC||h.lC||[],x=0;x<w.length;x++){for(var z=
w[x],E=z.split("."),M=E[E.length-1],J=h,U=0;U<E.length;U++)if(E[U]in J)J=J[E[U]];else{J=k;break}if(y(J))i[M]=wd(J);else if(J)i[M]=va(J)}m=m.f?m.f.constructor:k}g=i}c=g}else if(d==Object){c={};for(var R in a)R.search(Le)!=-1||(c[R]=zf(a[R]))}else{b.S("serializing an object that is not persistent");c=a}return c},yf=function(a){return!a||a==Number||a==String||a==Boolean},Af=function(a,b){var c=wf();if(ma(a.T))try{a.T(b)}catch(d){c.wa("could not deserialize",d)}else Sd(a,b,j)};var Bf=function(){this.v9=j},Cf=new Bf;window.manifest={serverBase:"/c"};
var Df=function(a){var b=D("knol.Global");try{for(var c=["evaluations","authorId","author","knolMetaId","knolMeta","knolId","knol","knolPageVersion","userId","baseUri","knolCanonicalUri","knolRedirectUri","knolBaseUri","signInUrl","pubSignOutUrl","unpubSignOutUrl","locale","pageType"],d=0;d<c.length;d++)if(a[c[d]])Cf[c[d]]=a[c[d]]}catch(f){b.wa("could not deserialize global data",f)}},Gf=function(a,b,c,d,f){if(a>0&&a<3){Cf.evaluations||(Cf.evaluations=[]);Cf.evaluations[a]||(Cf.evaluations[a]=[]);
var g,h=b,i=c,m=d,n=f,o="";if(h){if(!Ef(h))e("Invalid constructor name: "+h);var p=Ff(i);o+="new "+h+"("+p+")"}if(m){if(h)o+=".";if(!Ef(m))e("Invalid function name: "+m);p=Ff(n);o+=m+"("+p+")"}g=o;Cf.evaluations[a].push(g)}else e(new Error("bad evaluation type"))},Hf=/^[a-zA-Z0-9()\._ ]+$/,Ef=function(a){if(!Hf.test(a))return l;if(za(a,")"))return l;return j},Ff=function(a){var b=[];a&&C(a,function(c){b.push(If(c))});return b.join(",")},If=function(a){if(s(a))if(ha(a))return"null";else if(y(a))return'"'+
Jf(a)+'"';else if(typeof a=="boolean"||la(a))return a+"";else if(ja(a)){var b=[];C(a,function(c){b.push(If(c))});return"["+b.join(",")+"]"}else e("Invalid parameter type");else return"undefined"},Jf=function(a){if(!a)return a;for(var b=[],c=0;c<a.length;c++)b.push(Kf(a[c]));return b.join("")},Lf={},Kf=function(a){if(a in Lf)return Lf[a];var b=a.charCodeAt(0),c=b.toString(16).toUpperCase(),d="\\u"+(new Array(Math.max(0,4-c.length)+1)).join("0")+c;return ab[a]=d},Nf=function(a){if(a>0&&a<3){Mf()[a]||
(Cf.evaluations[a]=[]);return Cf.evaluations[a]}},Mf=function(){Cf.evaluations||(Cf.evaluations=[]);return Cf.evaluations};P(Bf,Mf,"evaluations");var Of=function(a){Cf.evaluations&&delete Cf.evaluations[a]},Qf=function(){var a=Pf();return a?O(a):k};P(Bf,Qf,"author");var Pf=function(){return Cf.authorId||k};P(Bf,Pf,"authorId");var Q=function(){var a=Rf();return a?O(a):k};P(Bf,Q,"knolMeta");var Rf=function(){return Cf.knolMetaId||k};P(Bf,Rf,"knolMetaId");
var Uf=function(){var a=Sf(),b=Tf();return a?O({nodeId:a,version:b}):k};P(Bf,Uf,"knol");var Sf=function(){return Cf.knolId||k};P(Bf,Sf,"knolId");var Tf=function(){return Cf.knolPageVersion||0};P(Bf,Tf,"knolPageVersion");var Wf=function(){var a=Vf();return a?O(a):k},Vf=function(){return Cf.userId||k},Xf=function(){return req.user?"":k},Yf=function(){return Cf.baseUri||k};P(Bf,Yf,"baseUri");var Zf=function(){return Cf.knolBaseUri||k};P(Bf,Zf,"knolBaseUri");
var $f=function(){return Cf.knolCanonicalUri||k};P(Bf,$f,"knolCanonicalUri");var ag=function(){return Cf.knolRedirectUri||k};P(Bf,ag,"knolRedirectUri");var jf=function(){var a=Cf.signInUrl;if(a){var b=new Ed(a),c=b.Pf("continue");if(c){c=new Ed(String(c));var d=new Ed(window.location.href);if(c.Nh()!=d.Nh()||c.Yn()!=d.Yn()){c.Ho(d.Nh());c.Oo(d.Yn());b.fa("continue",c.toString());a=b.toString()}}}return a||k};P(Bf,jf,"signInUrl");var bg=function(){return Cf.pubSignOutUrl||k};P(Bf,bg,"pubSignOutUrl");
var cg=function(){return Cf.unpubSignOutUrl||k};P(Bf,cg,"unpubSignOutUrl");var dg=function(){return Cf.newGaiaAccountUrl||k};P(Bf,dg,"newGaiaAccountUrl");var eg=function(){return Cf.locale||"en"};P(Bf,eg,"locale");var fg=function(){return Cf.pageType};P(Bf,fg,"pageType");
var gg=function(){var a=eg();return a!="en"?"_"+a:""},ig=function(){var a=hg();if(a)return"_"+a;return gg()},jg=function(a){var b=a||eg();return pd.test(b)},kg=["SA","IQ","EG","LY","DZ","MA","TN","OM","YE","SY","JO","LB","KW","BH","QA"],lg=["IN","PK"],mg=function(a){var b=a||rf();return b=="IL"||b=="PK"||Bb(kg,b)},ng=function(){var a=Q();if(!a||!a.getLanguage())return k;return a.getLanguage()},og=function(a){var b=k;b=window.location.href;var c=new Ed(b),d=a||Sf(),f=d?O(d):k;if(!d||!f)e(new Error("there is no known knol from which to obtain a canonical URL"));
c.Sr(f.uy());c.YA(k);c.Jo("");return c.toString()},hg=function(){var a;a=window.location.href;var b=new Ed(a),c=b.Pf("country_domain");if(c)return c.toLowerCase();var d=window.location.hostname,f=d.lastIndexOf(".");if(f>=0){var g=d.substring(f+1);return g.length==2?g.toLowerCase():k}};var pg,qg=function(){if(pg)return pg;pg=this;this.HZa=Pc;this.u=Yc();var a=typeof window!="undefined"&&window.navigator.userAgent;if(a){if(window.console){this.m0=new Zc;this.m0.hMa(j);this.m0.ava().KU=j}}else this.u.bZ(A(this.TEa,this))};u("gsites.Logger",qg,void 0);q=qg.prototype;q.message=function(a,b,c){this.u.log(a,b,c)};q.F=function(a,b){this.message(Pc,a,b)};q.S=function(a,b){this.message(Oc,a,b)};q.wa=function(a,b){b||(b=new Error("unknown error"));this.message(Nc,a,b)};
q.Eb=function(a,b){this.wa(a,b)};q.TEa=function(a){try{var b=a.Vt().value;jot.lib.knol.jslog(b,a.VO(),a.lk(),String(a.uO()),Sf(),Vf())}catch(c){var d=[a.Vt().value,a.VO(),a.lk(),a.uO(),c];jot.lib.admin.log(d.join(" "))}};var rg=function(){xc.call(this)};F(rg,xc);rg.prototype.add=function(a,b){if(this.Ed(a))e(Error('The collection already contains the key "'+a+'"'));else this.G(a,b)};var sg=function(a){xc.call(this);if(a){var b=a;this.dx=function(){};this.dx.prototype=b.prototype;this.dx.constructor=b}};F(sg,rg);Sd(sg.prototype,vf.prototype);sg.prototype.serialize=function(){for(var a={},b=this.zb(),c=0;c<b.length;c++)a[b[c]]=zf(this.z(b[c]));return a};sg.prototype.ypa=function(){return this.dx?new this.dx:k};
sg.prototype.T=function(a){if(this.ia()!=0)e(new Error("cannot deserialize a map representation into a map that has "+this.ia()+" items."));if(a)for(var b in a)if(b.search(Le)==-1){var c=k;if(this.dx){c=this.ypa();c.T?c.T(a[b]):Sd(c,a[b],j)}else c=a[b];this.G(b,c)}};var tg,ug,vg="ScriptEngine"in ba;ug=(tg=vg&&ba.ScriptEngine()=="JScript")?ba.ScriptEngineMajorVersion()+"."+ba.ScriptEngineMinorVersion()+"."+ba.ScriptEngineBuildVersion():"0";var wg=tg,xg=ug;var yg=function(a){this.Dd=wg?[]:"";a!=k&&this.db.apply(this,arguments)};yg.prototype.G=function(a){this.clear();this.db(a)};if(wg){yg.prototype.jL=0;yg.prototype.db=function(a,b){if(b==k)this.Dd[this.jL++]=a;else{this.Dd.push.apply(this.Dd,arguments);this.jL=this.Dd.length}return this}}else yg.prototype.db=function(a,b){this.Dd+=a;if(b!=k)for(var c=1;c<arguments.length;c++)this.Dd+=arguments[c];return this};yg.prototype.clear=function(){if(wg)this.jL=this.Dd.length=0;else this.Dd=""};
yg.prototype.p5=function(){return this.toString().length};yg.prototype.toString=function(){if(wg){var a=this.Dd.join("");this.clear();a&&this.db(a);return a}else return this.Dd};var zg={sTa:7,NVa:6,UTa:5,Oia:4,bC:3,WTa:2,dWa:1},Cg=function(a){var b;if(!(b=a)){var c;a:switch(hg()){case "kr":c=Ag;break a;default:c=Bg;break a}b=c.type}this.type=b;this.rD=this.type==3||this.type==6?l:j;this.zs=this.type==4||this.type==7?2:3};F(Cg,vf);var Bg=new Cg(1),Ag=new Cg(5);Cg.prototype.rD=j;Cg.prototype.zs=3;
Cg.prototype.toString=function(){switch(this.type){case 2:return"copyright";case 1:case 4:case 3:case 5:case 7:case 6:var a=new yg("by");this.rD||a.db("-nc");switch(this.zs){case 1:a.db("-nd");break;case 2:a.db("-sa");break}var b=this.eO();if(b){a.db("-");a.db(b.toUpperCase())}return a.toString()}};Cg.prototype.serialize=function(){return this.toString()};
var Dg=function(a){if(!a)return new Cg;var b=a.split("-");switch(b[0]){case "copyright":return new Cg(2);case "by":var c;if(b.length&&b[b.length-1]=="KR"){c=new Cg(5);if(Bb(b,"nc")){c=new Cg(6);c.rD=l}if(Bb(b,"nd"))c.zs=1;else if(Bb(b,"sa")){c=new Cg(7);c.zs=2}}else{c=new Cg(1);if(Bb(b,"nc")){c=new Cg(3);c.rD=l}if(Bb(b,"nd"))c.zs=1;else if(Bb(b,"sa")){c=new Cg(4);c.zs=2}}return c;default:e(new Error("Invalid license code: "+a))}};q=Cg.prototype;
q.parse=function(a){if(a){var b=Dg(a.replace(/"/g,""));Sd(this,b,j)}};
q.q5=function(a){switch(this.type){case 2:return"All Rights Reserved.";case 3:if(a)return"Some Rights Reserved (CC-by-NC). Creative Commons Attribution-Noncommercial 3.0 License";return"Creative Commons Attribution-Noncommercial 3.0 License";case 4:return"Creative Commons Attribution-Share Alike 3.0 License";case 5:if(a)return"Some Rights Reserved (CC-by). Creative Commons Attribution 2.0 Korea License";return"Creative Commons Attribution 2.0 Korea License";case 6:if(a)return"Some Rights Reserved (CC-by-NC). Creative Commons Attribution-Noncommercial 2.0 Korea License";
return"Creative Commons Attribution-Noncommercial 2.0 Korea License";case 7:return"Creative Commons Attribution-Share Alike 2.0 Korea License";default:if(a)return"Some Rights Reserved (CC-by). Creative Commons Attribution 3.0 License";return"Creative Commons Attribution 3.0 License"}};q.Pva=function(){return""};
q.r5=function(){switch(this.type){case 2:return"";default:var a=this.toString(),b=this.eO();if(b){var c=a.lastIndexOf("-"+b.toUpperCase());if(c>=0)a=a.substr(0,c)}var d="http://creativecommons.org/licenses/"+a+"/"+this.kua();if(b)d+="/"+b;return d}};q.kua=function(){switch(this.eO()){case "kr":return"2.0";default:return"3.0"}};q.eO=function(){switch(this.type){case 5:case 6:case 7:return"kr";default:return k}};var Eg={mUa:0,YTa:1,qUa:2,vVa:3,UUa:4,LVa:5,oTa:6,lUa:7,oUa:8,kUa:9,OTa:10,rTa:11,HY:12,kWa:13,zVa:14,UWa:15,WUa:16,tUa:17,JTa:18,BUa:19,MTa:20,BWa:21},Fg=function(){};F(Fg,vf);Fg.prototype.T=function(a){var b=new Gg,c=new Gg;Sd(b,a.spentCounts,j);this.spentCounts=b;Sd(c,a.exhaustionCounts,j);this.exhaustionCounts=c;for(var d=["lastUpdated","quotaOverride","quotaType"],f=0;f<d.length;f++){var g=d[f];this[g]=a[g]}};var Hg=1,Ig=7;
Fg.prototype.Hy=function(){this.spentCounts||(this.spentCounts=new Gg);return this.spentCounts};P(Fg,Fg.prototype.Hy,"spentCounts");Fg.prototype.vO=function(){this.exhaustionCounts||(this.exhaustionCounts=new Gg);return this.exhaustionCounts};P(Fg,Fg.prototype.vO,"exhaustionCounts");Fg.prototype.vF=function(a){var b=this.Hy();if(!(a in b))return 0;return b[a]||0};Fg.prototype.Fya=function(a){var b=this.vO();if(!(a in b))return 0;return b[a]||0};Fg.prototype.gNa=function(a){this.lastUpdated=a};
Fg.prototype.n5=function(){return this.lastUpdated||0};P(Fg,Fg.prototype.n5,"lastUpdated");var Rg=function(a){switch(a){case 1:return new Mg;case 2:return new Ng;case 3:return new Og;case 4:return new Pg}return new Qg};Fg.prototype.xq=function(){return this.quotaType};Fg.prototype.wRa=function(){};P(Fg,Fg.prototype.xq,"quotaType");Fg.prototype.a6=function(){return Rg(this.xq())};Fg.prototype.hxa=function(){var a=this.quotaOverride;return!!(a&&!na(a))};P(Fg,Fg.prototype.hxa,"quotaOverride");q=Fg.prototype;
q.Gya=function(a){if(!(a in this.a6()))return 0;return this.a6()[a]};q.U3=function(a){D("knol.Quota");this.kKa();var b=this.SN(a),c=this.vF(a);return Math.max(0,b-c)};q.SN=function(a){return this.m4(a)*Ig};q.Dra=function(a,b){var c=this.vF(a);this.Hy()[a]=Math.min(c+(b?b:1),this.SN(a))};q.aCa=function(a){var b=this.Fya(a);this.vO()[a]=b+1};q.kKa=function(){D("knol.Quota");var a=this.getUTCMilliseconds(),b=this.NFa(a),c=Math.max(0,b-this.n5());if(c>0){for(var d in Eg){var f=Eg[d];this.lKa(f,c)}this.gNa(b)}};
q.getUTCMilliseconds=function(){return xa()};q.lKa=function(a,b){var c=this.vF(a);if(c&&b>0){var d=Math.min(this.SN(a),this.vF(a));d-=b*this.m4(a);if(d>0)this.Hy()[a]=d;else delete this.Hy()[a]}};q.m4=function(a){return this.Gya(a)*Hg};q.NFa=function(a){return Math.floor(a/864E5)};var Gg=function(){};F(Gg,vf);xf(Gg,String(1));xf(Gg,String(2));xf(Gg,String(3));xf(Gg,String(4));xf(Gg,String(5));xf(Gg,String(6));xf(Gg,String(8));xf(Gg,String(9));xf(Gg,String(10));xf(Gg,String(11));xf(Gg,String(13));
xf(Gg,String(16));xf(Gg,String(17));xf(Gg,String(18));xf(Gg,String(19));var Qg=function(){this[1]=3;this[2]=75;this[3]=5;this[4]=5;this[5]=5;this[6]=150;this[8]=30;this[9]=1E4;this[10]=1E4;this[11]=10;this[13]=5;this[16]=2;this[17]=2;this[18]=3;this[19]=0};F(Qg,Gg);var Mg=function(){this[1]=10;this[2]=150;this[3]=10;this[4]=15;this[5]=15;this[6]=300;this[8]=100;this[9]=1E6;this[10]=1E6;this[11]=30;this[13]=15;this[16]=10;this[17]=7;this[18]=3;this[19]=1};F(Mg,Gg);
var Og=function(){this[1]=1;this[2]=5;this[3]=1;this[4]=1;this[5]=1;this[6]=10;this[8]=5;this[9]=1E5;this[10]=1E5;this[11]=1;this[13]=1;this[16]=1;this[17]=1;this[18]=2;this[19]=0};F(Og,Gg);var Pg=function(){this[1]=0;this[2]=0;this[3]=0;this[4]=0;this[5]=0;this[6]=0;this[8]=2;this[9]=0;this[10]=0;this[11]=0;this[13]=0;this[16]=0;this[17]=0;this[18]=0;this[19]=0};F(Pg,Gg);
var Ng=function(){this[1]=1E4;this[2]=1E4;this[3]=1E4;this[4]=1E4;this[5]=1E4;this[6]=1E4;this[8]=1E4;this[9]=1E7;this[10]=1E7;this[11]=1E4;this[13]=1E4;this[16]=1E4;this[17]=1E4;this[18]=10;this[19]=1};F(Ng,Gg);var Sg=function(a){if(a!="open"&&a!="moderated"&&a!="managed"&&a!="closed")a="moderated";this.policyType=a};F(Sg,vf);Sg.prototype.serialize=function(){var a={},b=this.jF();if(b){a.policyType=b;return a}else return k};Sg.prototype.T=function(a){if(a&&a.policyType)this.policyType=a.policyType};
Sg.prototype.GN=function(a){if(!this.qp){var b=new sg;this.qp=b;var c=[{Ek:4,$j:[[5,4],[9,4],[2,4],[10,4],[20,4],[12,4],[14,4],[15,4],[21,4]]},{Ek:3,$j:[[5,2],[9,1],[2,4],[10,a?1:4],[20,4],[12,4],[14,4],[15,4],[21,3]]},{Ek:5,$j:[[5,1],[9,1],[2,4],[10,1],[20,4],[12,4],[14,4],[15,4],[21,4]]},{Ek:1,$j:[[1,1],[2,1],[5,1],[9,1],[10,1],[20,1],[11,1],[12,1],[14,1],[15,1],[21,1]]}];Tg(b,c);var d=this.jF();if(d=="moderated"||d=="open"){c=[{Ek:1,$j:[[2,3],[20,3],[5,2],[21,3]]}];Tg(b,c)}if(d=="open"){c=[{Ek:1,
$j:[[1,4],[2,4],[20,4],[5,4],[11,4],[21,4]]}];Tg(b,c)}if(d=="managed"){c=[{Ek:4,$j:[[5,4],[9,4],[2,6],[20,6],[10,4],[12,4],[14,1],[15,1],[21,6]]},{Ek:3,$j:[[5,2],[9,1],[2,6],[20,6],[10,a?1:4],[12,4],[14,1],[15,1],[21,6]]},{Ek:5,$j:[[5,1],[9,1],[2,4],[20,4],[10,1],[12,4],[14,4],[15,4],[21,4]]},{Ek:1,$j:[[20,1],[2,1],[5,1],[21,1]]}];Tg(b,c)}}return this.qp};Sg.prototype.jF=function(){return this.policyType||k};P(Sg,Sg.prototype.jF,"policyType");
var Vg=function(a,b,c,d){if(a){if(a.kg())return 4;if(b instanceof Ug&&a.Fb())return 4}var f;var g=a,h=b,i=c,m=d;if(ja(h)){for(var n=4,o=0;o<h.length;o++){var p=Vg(g,h[o],i);n=n==1||p==1?1:n==5||p==5?5:Math.min(n,p)}f=n}else{if(g&&!(g instanceof nf)||!(h instanceof S)||!la(i))e(new Error("bad params in getAccess"));var r=g?h.Qh(g.p()):1,t=h instanceof T&&h.Ca(),v=new Sg(h.hf()),w=v?v.GN(t):new sg;if(r==6)f=4;else if(r==7){var x=Wg(g,w,h,i,3,m),z=Wg(g,w,h,i,5,m),E,M=x,J=z;if(M==Sg.Sia)M=1.5;else if(M==
Sg.fia)M=3.5;if(J==Sg.Sia)J=1.5;else if(J==Sg.fia)J=3.5;E=M<J?-1:M>J?1:0;f=E>0?x:z}else f=Wg(g,w,h,i,r,m)}if(a&&a.Fb()&&f==1&&c==12)return 5;return f},Wg=function(a,b,c,d,f,g){if(a&&!b.Da()){var h=b.z(a.p()),i=h==4&&d==2,m=h==1,n=h==5&&d==12;if(i||m||n)return h}if(g&&c.J9(g))return 5;var o=f+"-"+d,p=b.Da()?k:b.z(o);return p||1},Xg=function(a){var b=a.split("-");if(b.length==1)return k;for(var c in zg)if(zg[c]==b[0])return zg[c];return k},Tg=function(a,b){C(b,function(c){C(c.$j,function(d){a.G(c.Ek+
"-"+d[0],d[1])})})};var Yg=function(){};Yg.prototype.sq=function(){return this.m("image")};Yg.prototype.kj=function(){return this.m("thumbnail")};var Zg=function(a){if(!y(a))e(new Error("nodeId not string"));this.rNa(a)};F(Zg,vf);Zg.prototype.m=function(a,b,c,d){var f=a in this,g,h;if(c&&f){g=xa();h="ts_"+a;var i=this[h];if(!i||g-i>=c)f=l}if(!f){var m;try{m=O(this.ng())}catch(n){if(!$g(n))e(n)}var o;o=m?b?ma(b)?b.call(m):m[b]():m.m(a):d;if(h)this[h]=g;this[a]=o}return this[a]};Zg.prototype.sk=function(){return this.m("timestamp")};P(Zg,Zg.prototype.sk,"timestamp");Zg.prototype.aB=function(a){this.timestamp=a};Zg.prototype.ng=function(){return this.m("nodeId")};
P(Zg,Zg.prototype.ng,"nodeId");q=Zg.prototype;q.rNa=function(a){this.nodeId=a};q.kd=function(){return this.m("title",function(){return this.kd()})};q.Th=function(a){if(!s(this.Xv)){var b=a||250;this.Xv=bf(this.kd(),b)||"Untitled"}return this.Xv};q.sq=function(){return this.m("image",function(){return this.sq()})};q.kj=function(){return this.m("thumbnail",function(){return this.kj()})};var ah=function(a,b){Zg.call(this,a);this.type=b};F(ah,Zg);var bh=function(a){Zg.call(this,a)};F(bh,Zg);
bh.prototype.hd=function(){return this.m("firstOwner",function(){var a=this.hd();return O(a)})};bh.prototype.ey=function(){var a=this;return this.m("firstOwnerName",function(){return a.hd().tb()})};P(bh,bh.prototype.ey,"firstOwnerName");bh.prototype.fy=function(){var a=this;return this.m("firstOwnerUrl",function(){return a.hd().jk()})};P(bh,bh.prototype.fy,"firstOwnerUrl");bh.prototype.Un=function(){return this.m("knolUrl",function(){return this.jd().ha()})};P(bh,bh.prototype.Un,"knolUrl");
bh.prototype.h5=function(){return this.m("knolDate",function(){return this.jd().mO()})};P(bh,bh.prototype.h5,"knolDate");bh.prototype.va=function(){return this.m("knolId",function(){return this.va()})};P(bh,bh.prototype.va,"knolId");var ch=function(a){Zg.call(this,a)};F(ch,Zg);ch.prototype.hk=function(){return O(this.ng())};ch.prototype.Rx=function(){return this.m("authorUrl",nf.prototype.jk)};P(ch,ch.prototype.Rx,"authorUrl");ch.prototype.tb=function(){var a=this.hk();return a?a.tb():k};
ch.prototype.Mt=function(){var a=this.hk();return a?a.Mt():this.m("disambiguation")};P(ch,ch.prototype.Mt,"disambiguation");ch.prototype.Jn=function(){var a=this.hk();if(a)if(a.Jn())return a.Jn();var b=this.Mt(),c=b.split("\n");return c};ch.prototype.sE=function(){return this.authorPosition||0};P(ch,ch.prototype.sE,"authorPosition");ch.prototype.M3=function(){var a=this.hk();return a?a.tta():l};var dh=function(a){Zg.call(this,a)};F(dh,bh);var eh=function(a){Zg.call(this,a)};F(eh,Zg);
eh.prototype.hk=function(){var a=O(this.ng());if(a){var b=a.hk();return b}else return k};eh.prototype.Rx=function(){return this.hk().jk()};eh.prototype.getDate=function(){return this.m("date",function(){return this.mO()})};P(eh,eh.prototype.getDate,"date");var fh=function(a){Zg.call(this,a)};F(fh,bh);var gh=function(a){Zg.call(this,a)};F(gh,Zg);gh.prototype.oq=function(){return this.m("editorId",function(){return this.oq()})};P(gh,gh.prototype.oq,"editorId");
gh.prototype.Ab=function(){return this.m("state",function(){return this.Ab()})};P(gh,gh.prototype.Ab,"state");gh.prototype.Xx=function(){return this.m("contentVersion",function(){return this.Xx()})};P(gh,gh.prototype.Xx,"contentVersion");gh.prototype.St=function(){return this.m("knolContentVersion",function(){return this.St()})};P(gh,gh.prototype.St,"knolContentVersion");gh.prototype.pk=function(){return this.m("snippet",function(){return this.pk()})};P(gh,gh.prototype.pk,"snippet");
gh.prototype.Lt=function(){return this.m("diffCount",function(){return this.Lt()})};P(gh,gh.prototype.Lt,"diffCount");gh.prototype.Da=function(){return!this.Lt()};gh.prototype.aF=function(){return this.m("magnitude",function(){return this.aF()})};P(gh,gh.prototype.aF,"magnitude");var hh=function(a){Zg.call(this,a)};F(hh,Zg);var ih=function(a){Zg.call(this,a);this.RMa(k);this.nMa(0);this.wNa(j);this.Ev(k)};F(ih,ch);ih.prototype.RMa=function(a){this.gaiaId=a};xf(ih,"gaiaId");ih.prototype.nMa=function(a){this.contribution=a};xf(ih,"contribution");ih.prototype.aO=function(){return this.contribution};ih.prototype.wNa=function(a){this.paid=a};xf(ih,"paid");ih.prototype.Owa=function(){return this.paid};ih.prototype.Ev=function(a){this.location=a};xf(ih,"location");xf(ih,"INVAL_FREQ");var jh=function(){this.gOa(xa())};F(jh,vf);jh.prototype.serialize=function(){var a={},b=this.Et();if(b!=[]){a.timeCreated=this.I6();a.showAds=this.Wr();for(var c=[],d=0;d<b.length;d++)c[d]=zf(b[d]);a.allocations=c;return a}else return k};
jh.prototype.T=function(a){if(a){if(this.Et().length!=0)e(new Error("cannot deserialize a map representation into an already populated Adsense object"));for(var b=a.allocations,c=0;b&&c<b.length;c++){var d=new kh;Sd(d,b[c],j);this.VY(d)}this.showAds=a.showAds;this.timeCreated=a.timeCreated}};jh.prototype.Et=function(){this.allocations||(this.allocations=[]);return this.allocations};P(jh,jh.prototype.Et,"allocations");
jh.prototype.VY=function(a){this.allocations||(this.allocations=[]);this.allocations.push(a);this.showAds=j};jh.prototype.Wr=function(){this.showAds||(this.showAds=l);return this.showAds};P(jh,jh.prototype.Wr,"showAds");jh.prototype.XNa=function(a){this.showAds=a};jh.prototype.I6=function(){this.timeCreated||this.fOa();return this.timeCreated};P(jh,jh.prototype.I6,"timeCreated");jh.prototype.gOa=function(a){this.timeCreated=a};jh.prototype.fOa=function(){this.timeCreated=xa()-24192E5};
var kh=function(a,b,c,d){this.nodeId=a;this.adSenseId=b;this.share=c||1;this.charitable=d};F(kh,vf);kh.prototype.ng=function(){return this.nodeId||k};P(kh,kh.prototype.ng,"nodeId");kh.prototype.Lx=function(){return this.adSenseId||k};P(kh,kh.prototype.Lx,"adSenseId");kh.prototype.Aq=function(){this.share||(this.share=1);return this.share};P(kh,kh.prototype.Aq,"share");kh.prototype.Pta=function(){return Boolean(this.charitable)};P(kh,kh.prototype.Pta,"charitable");
kh.prototype.bO=function(){return this.contributionLevel||k};P(kh,kh.prototype.bO,"contributionLevel");q=jh.prototype;q.O5=function(a){if(!this.Wr())return k;var b=this.yya(),c=this.kF(),d=this.lta(b,c);if(!d)return k;return d.bO()?this.dta(a||k,d.bO()):d.Lx()?d.Lx():d.ng()?this.Q6(d.ng()):k};
q.dta=function(a,b){if(!(a instanceof T))e(new Error("adsense expected knolMeta"));a.h4(b);var c=a.h4(b,j);if(c.CV<=0)return k;for(var d=this.kF()*c.CV,f=0;f<c.JR.length;f++){var g=c.JR[f],h=g.aO();if(d<h)return this.Q6(g.nodeId);d-=h}return k};
q.Q6=function(a){var b=O({nodeId:a,type:nf});if(!b)return k;for(var c=b.En(),d=c.Et(),f=0,g=[],h=0;h<d.length;++h){var i=d[h];if(i.Aq()>0&&i.Lx()){f+=i.Aq();g.push([i.Lx(),i.Aq()])}}if(f<=0)return k;var m=this.kF()*f;for(h=0;h<g.length;h++){var n=g[h];if(m<n[1])return n[0];m-=n[1]}return k};q.yya=function(){for(var a=0,b=this.Et(),c=0;c<b.length;c++){var d=b[c];a+=Math.max(0,d.Aq())}return a};
q.lta=function(a,b){if(a<=0)return k;b*=a;for(var c=this.Et(),d=0;d<c.length;d++){var f=c[d];if(b<f.Aq())return f;b-=Math.max(0,f.Aq())}return k};q.kF=function(){return this.LIa?this.LIa.kF():Ne()};var lh={"105":"Sorry, but the provided email address does not correspond to an AdSense account.  Did you want to create a new account instead?","112":"The phone number and postal code do not correspond to the AdSense account requested.","205":"This AdSense account has been disapproved.","303":"The email address you provided is already in use.  Did you mean to sign up using an existing AdSense account?","313":"The website url is not a valid website.","315":"You must accept the Terms and Conditions to create a new AdSense account.",
"317":"The email address you provided is already in use.  Did you mean to sign up using an existing AdSense account?","321":"The provided email address is not valid.","323":"The postal code is not in a valid format.  Please use the five digit postal code of the account.","324":"The phone number is not in a valid format.  Please use the last five digits of your phone number.","325":"You must provide at least one of either your phone number or postal code","327":"The locale is not supported.","9999":"Please publish at least one knol or collection to sign up for a new AdSense account"};
lh.IVa="9999";var mh=function(){this.de={}};mh.prototype.RY=function(a){if(a){var b=y(a)?wd(a):a,c=ec(b);if(c.length==1&&!b[c[0]].name)b=b[c[0]];for(var d in b)this.de[d]=b[d]}};mh.prototype.N3=function(){return ec(this.de)};mh.prototype.yDa=function(a){return this.de[a]&&!this.de[a].notPromo};mh.prototype.serialize=function(){return yd(this.de)};var nh=function(a){if(!a)return"";return a.replace(/["\/\\&<>'.,*\s#:\(\)?]/g,"")};var oh=function(a,b){this.x=s(a)?a:0;this.y=s(b)?b:0};oh.prototype.ua=function(){return new oh(this.x,this.y)};var ph=function(a,b){return new oh(a.x-b.x,a.y-b.y)};var qh=function(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d};qh.prototype.ua=function(){return new qh(this.top,this.right,this.bottom,this.left)};qh.prototype.contains=function(a){var b;b=!this||!a?l:a instanceof qh?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom;return b};
qh.prototype.expand=function(a,b,c,d){if(na(a)){this.top-=a.top;this.right+=a.right;this.bottom+=a.bottom;this.left-=a.left}else{this.top-=a;this.right+=b;this.bottom+=c;this.left-=d}return this};
var rh=function(a,b){if(b.x>=a.left&&b.x<=a.right){if(b.y>=a.top&&b.y<=a.bottom)return 0;return b.y<a.top?a.top-b.y:b.y-a.bottom}if(b.y>=a.top&&b.y<=a.bottom)return b.x<a.left?a.left-b.x:b.x-a.right;var c,d=new oh(b.x<a.left?a.left:a.right,b.y<a.top?a.top:a.bottom),f=b.x-d.x,g=b.y-d.y;return c=Math.sqrt(f*f+g*g)};var sh=function(a,b){this.width=a;this.height=b},th=function(a,b){if(a==b)return j;if(!a||!b)return l;return a.width==b.width&&a.height==b.height};q=sh.prototype;q.ua=function(){return new sh(this.width,this.height)};q.Pla=function(){return this.width*this.height};q.NZ=function(){return this.width/this.height};q.Da=function(){return!this.Pla()};q.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};
q.mE=function(a){return this.width<=a.width&&this.height<=a.height};q.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};q.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};q.scale=function(a){this.width*=a;this.height*=a;return this};q.cda=function(a){var b=this.NZ()>a.NZ()?a.width/this.width:a.height/this.height;return this.scale(b)};var uh=function(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d};q=uh.prototype;q.ua=function(){return new uh(this.left,this.top,this.width,this.height)};q.vga=function(){var a=this.left+this.width,b=this.top+this.height;return new qh(this.top,a,b,this.left)};
q.N8=function(a){var b=Math.max(this.left,a.left),c=Math.min(this.left+this.width,a.left+a.width);if(b<=c){var d=Math.max(this.top,a.top),f=Math.min(this.top+this.height,a.top+a.height);if(d<=f){this.left=b;this.top=d;this.width=c-b;this.height=f-d;return j}}return l};q.contains=function(a){return a instanceof uh?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
q.getSize=function(){return new sh(this.width,this.height)};var vh=function(a){return a*Math.PI/180};var wh={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var Bh=function(a){var b={};a=String(a);var c=a.charAt(0)=="#"?a:"#"+a;if(xh.test(c)){b.tu=yh(c);b.type="hex";return b}else{var d;a:{var f=a.match(zh);if(f){var g=Number(f[1]),h=Number(f[2]),i=Number(f[3]);if(g>=0&&g<=255&&h>=0&&h<=255&&i>=0&&i<=255){d=[g,h,i];break a}}d=[]}if(d.length){b.tu=Ah(d[0],d[1],d[2]);b.type="rgb";return b}else if(wh){var m=wh[a.toLowerCase()];if(m){b.tu=m;b.type="named";return b}}}e(Error(a+" is not a valid color string"))},Eh=/#(.)(.)(.)/,yh=function(a){if(!xh.test(a))e(Error("'"+
a+"' is not a valid hex color"));if(a.length==4)a=a.replace(Eh,"#$1$1$2$2$3$3");return a.toLowerCase()},Ah=function(a,b,c){a=Number(a);b=Number(b);c=Number(c);if(isNaN(a)||a<0||a>255||isNaN(b)||b<0||b>255||isNaN(c)||c<0||c>255)e(Error('"('+a+","+b+","+c+'") is not a valid RGB color'));var d=Fh(a.toString(16)),f=Fh(b.toString(16)),g=Fh(c.toString(16));return"#"+d+f+g},xh=/^#(?:[0-9a-f]{3}){1,2}$/i,zh=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,Fh=function(a){return a.length==
1?"0"+a:a};var Gh=function(){this.ZC=this.wu=this.Ds="";this.iB=l;this.Iz="";this.Lv=l};F(Gh,vf);var Hh=function(){return new Gh};q=Gh.prototype;q.serialize=function(){var a={};a.backgroundColor=this.Ds;a.highlightColor=this.wu;a.bannerUrl=this.ZC;a.showBanner=this.iB;a.logoUrl=this.Iz;a.showLogo=this.Lv;return a};q.T=function(a){if(a){this.Hda(a.backgroundColor||"");this.aea(a.highlightColor||"");this.dMa(a.bannerUrl||"");this.YNa(!!a.showBanner);this.iea(a.logoUrl||"");this.Dea(!!a.showLogo)}};q.Cta=function(){return this.Ds};
q.Hda=function(a){this.Ds=a?Ih(a,this.Ds):""};q.hva=function(){return this.wu};q.aea=function(a){this.wu=a?Ih(a,this.wu):""};var Ih=function(a,b){try{var c=Bh(a);return c.tu}catch(d){var f=D("knol.Branding");f.S("Invalid color: "+a);return b}};q=Gh.prototype;q.dMa=function(a){this.ZC=a};q.YNa=function(a){this.iB=a};q.Wva=function(){return this.Iz};q.iea=function(a){this.Iz=a};q.Vxa=function(){return this.Lv};q.Dea=function(a){this.Lv=a};
q.xc=function(a){return this.Ds==a.Ds&&this.wu==a.wu&&this.iB==a.iB&&(!this.iB||this.ZC==a.ZC)&&this.Lv==a.Lv&&(!this.Lv||this.Iz==a.Iz)};var Jh=function(a,b,c,d,f,g,h){this.qc=a||"";this.EB=b||0;this.gA=c||0;this.Jw=d||"";this.pB=f||0;this.qB=g||"";this.Ud=!!h};F(Jh,vf);q=Jh.prototype;q.serialize=function(){var a={};a.knolId=this.va();a.timestamp=this.sk();a.order=this.hj();a.annotation=this.hq();a.submittedTimestamp=this.wP();a.submitterId=this.Wh();a.hidden=this.Pn();return a};q.T=function(a){if(a){this.Xf(a.knolId);this.aB(a.timestamp);this.qU(a.order);this.ZT(a.annotation);this.zU(a.submittedTimestamp);this.FI(a.submitterId);this.qI(a.hidden)}};
q.va=function(){return this.qc};q.sk=function(){return this.EB};q.hj=function(){return this.gA};q.hq=function(){return this.Jw};q.wP=function(){return this.pB};q.Wh=function(){return this.qB};q.Pn=function(){return this.Ud};q.Xf=function(a){this.qc=a};q.aB=function(a){this.EB=a};q.qU=function(a){this.gA=a};q.ZT=function(a){this.Jw=a};q.zU=function(a){this.pB=a};q.FI=function(a){this.qB=a};q.qI=function(a){this.Ud=!!a};q.nb=function(){return!!this.va()};
q.xc=function(a){return this.va()==a.va()&&this.hj()==a.hj()&&this.hq()==a.hq()&&this.Wh()==a.Wh()&&this.Pn()==a.Pn()};var Kh=function(){this.Ya={}};F(Kh,vf);var Lh=function(){return new Kh};q=Kh.prototype;q.serialize=function(){return ac(this.Ya,zf)};q.T=function(a){for(var b in a){this.Ya[b]=new Jh;this.Ya[b].T(a[b])}};q.z=function(a){return this.Ya[a]||k};q.G=function(a,b){this.Ya[a]=b};q.lf=function(){return this.Ya};q.getSize=function(){var a=ec(this.Ya);return a.length};
q.p0=function(a){var b=this.z(a.va());if(!b)return l;return a.xc(b)};q.xc=function(a){var b=this.lf(),c=a.lf(),d=bc(b,this.p0,a);return d&&bc(c,this.p0,this)};var Mh=function(a,b,c,d){this.description=a||k;this.url=b||k;this.anchorText=c||k;this.pubmedId=d||k};F(Mh,vf);Mh.prototype.p=function(){var a=this.id||String(Math.floor(Math.random()*4294967295));return this.id=a};P(Mh,Mh.prototype.p,"id");Mh.prototype.Lf=function(){return this.description};P(Mh,Mh.prototype.Lf,"description");Mh.prototype.cU=function(a){this.description=a};Mh.prototype.ha=function(){return this.url};P(Mh,Mh.prototype.ha,"url");Mh.prototype.lOa=function(a){this.url=a};
Mh.prototype.fk=function(){return this.anchorText};P(Mh,Mh.prototype.fk,"anchorText");Mh.prototype.PLa=function(a){this.anchorText=a};Mh.prototype.vy=function(){return this.pubmedId};P(Mh,Mh.prototype.vy,"pubmedId");q=Mh.prototype;q.rra=function(a){return this.Lf()===a.Lf()&&this.ha()===a.ha()&&this.fk()===a.fk()&&this.vy()===a.vy()};q.xc=function(a){return this.rra(a)&&this.p()===a.p()};q.Uj=function(a){this.description=a.Lf();this.url=a.ha();this.anchorText=a.fk();this.id=a.p();this.pubmedId=a.vy()};
q.serialize=function(){var a={};a.description=this.Lf();a.url=this.ha();a.anchorText=this.fk();a.id=this.p();a.pubmedId=this.vy();return a};q.T=function(a){if(a){this.description=a.description||k;this.url=a.url||k;this.anchorText=a.anchorText||k;this.id=a.id||k;this.pubmedId=a.pubmedId||k}};var Nh=function(){this.citations=[]};F(Nh,vf);q=Nh.prototype;q.xc=function(a){return Pb(this.Me(),a.Me(),function(b,c){return b.xc(c)})};q.reset=function(){Cb(this.Me())};
q.Da=function(){return this.Me().length>0};q.Uj=function(a){if(a){var b=a.citations,c=this.citations;Cb(this.citations);for(var d=b.length,f=0;f<d;f++){var g=new Mh;g.Uj(b[f]);c.push(g)}}};q.serialize=function(){var a={},b=this.Me();if(b.length>0){for(var c=[],d=0;d<b.length;d++)c[d]=zf(b[d]);a.citations=c;return a}else return k};
q.T=function(a){if(a){if(this.Me().length!=0)e(new Error("cannot deserialize a map representation into an already populated References object"));var b=a.citations;if(b)for(var c=0;c<b.length;c++){var d=new Mh;d.T(b[c]);this.Ew(d)}}};q.Me=function(){return this.citations||[]};P(Nh,Nh.prototype.Me,"citations");q=Nh.prototype;q.Ew=function(a){this.Me().push(a)};q.$ra=function(a){for(var b=this.Me(),c=0;c<b.length;c++)if(b[c].p()==a.p())return c;return-1};
q.asa=function(a){var b=a-1,c=this.Me();if(c.length<b)return k;return c[b].p()};q.aH=function(a,b,c,d){var f=this.Me();if(f.length>a){var g=f[a];g.cU(b);g.lOa(c);g.PLa(d)}else e(new Error("Invalid index of the citation: "+a))};q.C1=function(a){var b=wb(this.Me(),function(c,d,f){Bb(a,f)||c.push(d);return c},[]);this.citations=b};
q.PIa=function(a){var b=vb(this.Me(),function(d,f){var g=a[f+1]||Number.MAX_VALUE;return{citation:d,number:g}});rb.sort.call(b,function(d,f){return Qb(d.number,f.number)}||Qb);var c=vb(b,function(d){return d.citation});this.citations=c};var Oh=k,Ph=k,Qh=k,Rh=k;var Sh=function(a,b){if(a<0||a>=1)e(new Error("expected number in [0, 1): "+a));for(var c="",d=0;d<b;d++){a*=36;var f=Math.floor(a);c+=f.toString(36);a-=f}return c},Th=/^[a-zA-Z0-9\-\_]+$/,Uh=/^(path\:)?\/?/,Vh=function(a){var b=a.split("."),c={};c.webspace=b.shift();c.path=b.join("/");return c},Wh=function(a){var b=a.split("."),c={};c.webspace=b.shift();c.path="";var d=b.length;if(d>1){for(var f=0;f<b.length-1;f++){if(f>0)c.path+="/";c.path+=b[f]}c.path+="."+b[b.length-1]}else c.path=b.join("/");
return c},Yh=function(a){if(!a.webspace||!a.path)e(new Error("need webspace and path"));var b=a[Xh.Pia].replace(Uh,"");b=b.replace(/\//g,".");var c=a[Xh.CK]+"."+b;return c};var Zh=function(){this.Fh=[];this.eN=[];this.Gh=l;this.result=this.rB=k},$h;q=Zh.prototype;q.k=function(a,b){if(typeof a!="function")e("Callback must be a function");if(b)a=A(a,b);this.Fh.push(a);this.Gh&&this.rB&&this.DH(this.result)};q.v=function(a,b){if(typeof a!="function")e("Errback must be a function");if(b)a=A(a,b);this.eN.push(a);this.Gh&&!this.rB&&this.Dba(this.result)};q.Ea=function(a){if(this.Gh)e("Deferred has already been called");this.rB=this.Gh=j;this.DH(a)};
q.DH=function(a){this.result=a;if(this.Fh.length){var b=this.Fh.shift();try{ib&&this.Xt().F("Passing result to callback handler");var c=b(a)}catch(d){ib&&this.Xt().S("Got error running callback with result: "+Ke(a));this.Gh=l;this.Qa(d);return}if(c instanceof Zh){ib&&this.Xt().F("Callback returned Deferred, waiting for result");c.k(this.DH,this);c.v(this.Qa,this)}else if(this.Fh.length){ib&&this.Xt().F(this.Fh.length+" callbacks remaining.");this.DH(c)}else this.result=c}};
q.Qa=function(a){ib&&this.Xt().F("Got error: "+a,a);if(this.Gh)e("Deferred has already been called");this.Gh=j;this.rB=l;this.Dba(a)};q.Dba=function(a){this.result=a;var b;if(this.eN.length)for(;b=this.eN.shift();)try{b(a)}catch(c){}else ib&&this.Xt().wa("Unhandled error: "+a,a)};q.Xt=function(){$h||($h=D("goog.deferred.Deferred"));return $h};var ai=function(){};ai.prototype.Qp=l;ai.prototype.lG=function(){return this.Qp};ai.prototype.l=function(){if(!this.Qp){this.Qp=j;this.n()}};ai.prototype.n=function(){};var bi=function(a,b){this.type=a;this.currentTarget=this.target=b};B(bi,ai);q=bi.prototype;q.n=function(){delete this.type;delete this.target;delete this.currentTarget};q.xo=l;q.lv=j;q.stopPropagation=function(){this.xo=j};q.preventDefault=function(){this.lv=l};var ci=function(a){a.stopPropagation()},di=function(a){a.preventDefault()};var ei=function(a,b){a&&this.dc(a,b)};B(ei,bi);var fi=[1,4,2];q=ei.prototype;q.target=k;q.relatedTarget=k;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=l;q.altKey=l;q.shiftKey=l;q.metaKey=l;q.iIa=l;q.Ll=k;
q.dc=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(I)try{d=d.nodeName&&d}catch(f){d=k}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;
this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.iIa=ue?a.metaKey:a.ctrlKey;this.Ll=a;delete this.lv;delete this.xo};q.kz=function(a){return H?this.type=="click"?a==0:!!(this.Ll.button&fi[a]):this.Ll.button==a};
q.stopPropagation=function(){this.xo=j;if(this.Ll.stopPropagation)this.Ll.stopPropagation();else this.Ll.cancelBubble=j};var gi=H&&!Fe("8");ei.prototype.preventDefault=function(){this.lv=l;var a=this.Ll;if(a.preventDefault)a.preventDefault();else{a.returnValue=l;if(gi)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};ei.prototype.Zg=function(){return this.Ll};ei.prototype.n=function(){ei.f.n.call(this);this.relatedTarget=this.currentTarget=this.target=this.Ll=k};var hi=function(a,b){this.Ak=b;this.Le=[];this.Toa(a)};B(hi,ai);q=hi.prototype;q.SL=k;q.Z1=k;q.SA=function(a){this.SL=a};q.Nf=function(){if(this.Le.length)return this.Le.pop();return this.wl()};q.Ue=function(a){this.Le.length<this.Ak?this.Le.push(a):this.on(a)};q.Toa=function(a){if(a>this.Ak)e(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var b=0;b<a;b++)this.Le.push(this.wl())};q.wl=function(){return this.SL?this.SL():{}};
q.on=function(a){if(this.Z1)this.Z1(a);else if(ma(a.l))a.l();else for(var b in a)delete a[b]};q.n=function(){hi.f.n.call(this);for(var a=this.Le;a.length;)this.on(a.pop());delete this.Le};var ii=function(){},ji=0;q=ii.prototype;q.ea=0;q.gv=l;q.mL=l;q.dc=function(a,b,c,d,f,g){if(ma(a))this.f9=j;else if(a&&a.handleEvent&&ma(a.handleEvent))this.f9=l;else e(Error("Invalid listener argument"));this.Pu=a;this.Iba=b;this.src=c;this.type=d;this.Uw=!!f;this.Lq=g;this.mL=l;this.ea=++ji;this.gv=l};q.handleEvent=function(a){if(this.f9)return this.Pu.call(this.Lq||this.src,a);return this.Pu.handleEvent.call(this.Pu,a)};var ki,li,mi,ni,oi,pi,qi,ri,si,ti,ui;
(function(){function a(){return{Z:0,zj:0}}function b(){return[]}function c(){var r=function(t){return h.call(r.src,r.ea,t)};return r}function d(){return new ii}function f(){return new ei}var g=wg&&!(fb(xg,"5.7")>=0),h;pi=function(r){h=r};if(g){ki=function(){return i.Nf()};li=function(r){i.Ue(r)};mi=function(){return m.Nf()};ni=function(r){m.Ue(r)};oi=function(){return n.Nf()};qi=function(){n.Ue(c())};ri=function(){return o.Nf()};si=function(r){o.Ue(r)};ti=function(){return p.Nf()};ui=function(r){p.Ue(r)};
var i=new hi(0,600);i.SA(a);var m=new hi(0,600);m.SA(b);var n=new hi(0,600);n.SA(c);var o=new hi(0,600);o.SA(d);var p=new hi(0,600);p.SA(f)}else{ki=a;li=da;mi=b;ni=da;oi=c;qi=da;ri=d;si=da;ti=f;ui=da}})();var vi={},wi={},xi={},yi="on",zi={},V=function(a,b,c,d,f){if(b)if(ja(b)){for(var g=0;g<b.length;g++)V(a,b[g],c,d,f);return k}else{var h=!!d,i=wi;b in i||(i[b]=ki());i=i[b];if(!(h in i)){i[h]=ki();i.Z++}i=i[h];var m=qa(a),n,o;i.zj++;if(i[m]){n=i[m];for(g=0;g<n.length;g++){o=n[g];if(o.Pu==c&&o.Lq==f){if(o.gv)break;return n[g].ea}}}else{n=i[m]=mi();i.Z++}var p=oi();p.src=a;o=ri();o.dc(c,p,a,b,h,f);var r=o.ea;p.ea=r;n.push(o);vi[r]=o;xi[m]||(xi[m]=mi());xi[m].push(o);if(a.addEventListener){if(a==ba||
!a.f1)a.addEventListener(b,p,h)}else a.attachEvent(Ai(b),p);return r}else e(Error("Invalid event type"))},Bi=function(a,b,c,d,f){if(ja(b)){for(var g=0;g<b.length;g++)Bi(a,b[g],c,d,f);return k}var h=V(a,b,c,d,f),i=vi[h];i.mL=j;return h},Ci=function(a,b,c,d,f){if(ja(b)){for(var g=0;g<b.length;g++)Ci(a,b[g],c,d,f);return k}var h=!!d,i=Di(a,b,h);if(!i)return l;for(g=0;g<i.length;g++)if(i[g].Pu==c&&i[g].Uw==h&&i[g].Lq==f)return Ei(i[g].ea);return l},Ei=function(a){if(!vi[a])return l;var b=vi[a];if(b.gv)return l;
var c=b.src,d=b.type,f=b.Iba,g=b.Uw;if(c.removeEventListener){if(c==ba||!c.f1)c.removeEventListener(d,f,g)}else c.detachEvent&&c.detachEvent(Ai(d),f);var h=qa(c),i=wi[d][g][h];if(xi[h]){var m=xi[h];Fb(m,b);m.length==0&&delete xi[h]}b.gv=j;i.laa=j;Fi(d,g,h,i);delete vi[a];return j},Fi=function(a,b,c,d){if(!d.qo)if(d.laa){for(var f=0,g=0;f<d.length;f++)if(d[f].gv){var h=d[f].Iba;h.src=k;qi(h);si(d[f])}else{if(f!=g)d[g]=d[f];g++}d.length=g;d.laa=l;if(g==0){ni(d);delete wi[a][b][c];wi[a][b].Z--;if(wi[a][b].Z==
0){li(wi[a][b]);delete wi[a][b];wi[a].Z--}if(wi[a].Z==0){li(wi[a]);delete wi[a]}}}},Gi=function(a,b,c){var d=0,f=a==k,g=b==k,h=c==k;c=!!c;if(f)Zb(xi,function(p){for(var r=p.length-1;r>=0;r--){var t=p[r];if((g||b==t.type)&&(h||c==t.Uw)){Ei(t.ea);d++}}});else{var i=qa(a);if(xi[i])for(var m=xi[i],n=m.length-1;n>=0;n--){var o=m[n];if((g||b==o.type)&&(h||c==o.Uw)){Ei(o.ea);d++}}}return d},Di=function(a,b,c){var d=wi;if(b in d){d=d[b];if(c in d){d=d[c];var f=qa(a);if(d[f])return d[f]}}return k},Hi=H?"focusin":
"DOMFocusIn",Ai=function(a){if(a in zi)return zi[a];return zi[a]=yi+a},Ji=function(a,b,c,d){var f=wi;if(b in f){f=f[b];if(c in f)return Ii(f[c],a,b,c,d)}return j},Ii=function(a,b,c,d,f){var g=1,h=qa(b);if(a[h]){a.zj--;var i=a[h];if(i.qo)i.qo++;else i.qo=1;try{for(var m=i.length,n=0;n<m;n++){var o=i[n];if(o&&!o.gv)g&=Ki(o,f)!==l}}finally{i.qo--;Fi(c,d,h,i)}}return Boolean(g)},Ki=function(a,b){var c=a.handleEvent(b);a.mL&&Ei(a.ea);return c},Li=function(a,b){if(!vi[a])return j;var c=vi[a],d=c.type,f=
wi;if(!(d in f))return j;f=f[d];var g,h;if(H){var i=b||ca("window.event"),m=j in f,n=l in f;if(m){if(i.keyCode<0||i.returnValue!=undefined)return j;a:{var o=i,p=l;if(o.keyCode==0)try{o.keyCode=-1;break a}catch(r){p=j}if(p||o.returnValue==undefined)o.returnValue=j}}var t=ti();t.dc(i,this);g=j;try{if(m){for(var v=mi(),w=t.currentTarget;w;w=w.parentNode)v.push(w);h=f[j];h.zj=h.Z;for(var x=v.length-1;!t.xo&&x>=0&&h.zj;x--){t.currentTarget=v[x];g&=Ii(h,v[x],d,j,t)}if(n){h=f[l];h.zj=h.Z;for(x=0;!t.xo&&
x<v.length&&h.zj;x++){t.currentTarget=v[x];g&=Ii(h,v[x],d,l,t)}}}else g=Ki(c,t)}finally{if(v){v.length=0;ni(v)}t.l();ui(t)}return g}var z=new ei(b,this);try{g=Ki(c,z)}finally{z.l()}return g};pi(Li);var Mi=/\s*;\s*/,Ni=function(a,b){for(var c=a+"=",d=String(document.cookie).split(Mi),f=0,g;g=d[f];f++)if(g.indexOf(c)==0)return g.substr(c.length);return b};var Oi=function(){};B(Oi,ai);q=Oi.prototype;q.f1=j;q.TS=k;q.hF=function(){return this.TS};q.AI=function(a){this.TS=a};q.addEventListener=function(a,b,c,d){V(this,a,b,c,d)};q.removeEventListener=function(a,b,c,d){Ci(this,a,b,c,d)};
q.dispatchEvent=function(a){var b;var c=a;if(y(c))c=new bi(c,this);else if(c instanceof bi)c.target=c.target||this;else{var d=c;c=new bi(c.type,this);nc(c,d)}var f=1,g,h=c.type,i=wi;if(h in i){i=i[h];var m=j in i,n;if(m){g=[];for(var o=this;o;o=o.hF())g.push(o);n=i[j];n.zj=n.Z;for(var p=g.length-1;!c.xo&&p>=0&&n.zj;p--){c.currentTarget=g[p];f&=Ii(n,g[p],c.type,j,c)&&c.lv!=l}}var r=l in i;if(r){n=i[l];n.zj=n.Z;if(m)for(p=0;!c.xo&&p<g.length&&n.zj;p++){c.currentTarget=g[p];f&=Ii(n,g[p],c.type,l,c)&&
c.lv!=l}else for(var t=this;!c.xo&&t&&n.zj;t=t.hF()){c.currentTarget=t;f&=Ii(n,t,c.type,l,c)&&c.lv!=l}}b=Boolean(f)}else b=j;return b};q.n=function(){Oi.f.n.call(this);Gi(this);this.TS=k};var Qi=function(a,b){this.Rq=a||1;this.DB=b||Pi;this.gL=A(this.DQa,this);this.CR=xa()};B(Qi,Oi);Qi.prototype.vx=l;var Pi=ba.window,Ri=0.8;q=Qi.prototype;q.Ld=k;q.setInterval=function(a){this.Rq=a;if(this.Ld&&this.vx){this.stop();this.start()}else this.Ld&&this.stop()};q.DQa=function(){if(this.vx){var a=xa()-this.CR;if(a>0&&a<this.Rq*Ri)this.Ld=this.DB.setTimeout(this.gL,this.Rq-a);else{this.Eqa();if(this.vx){this.Ld=this.DB.setTimeout(this.gL,this.Rq);this.CR=xa()}}}};q.Eqa=function(){this.dispatchEvent("tick")};
q.start=function(){this.vx=j;if(!this.Ld){this.Ld=this.DB.setTimeout(this.gL,this.Rq);this.CR=xa()}};q.stop=function(){this.vx=l;if(this.Ld){this.DB.clearTimeout(this.Ld);this.Ld=k}};q.n=function(){Qi.f.n.call(this);this.stop();delete this.DB};var Si=function(a,b,c){if(ma(a)){if(c)a=A(a,c)}else if(a&&typeof a.handleEvent=="function")a=A(a.handleEvent,a);else e(Error("Invalid listener argument"));return b>2147483647?-1:Pi.setTimeout(a,b||0)};var Ti=function(a){switch(a){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}};var Ui=function(){if(I){this.ln={};this.MJ={};this.XI=[]}};q=Ui.prototype;q.u=D("goog.net.xhrMonitor");q.Ma=I;q.U=function(a){this.Ma=I&&a};q.FH=function(a){if(this.Ma){var b=y(a)?a:na(a)?qa(a):"";this.u.jE("Pushing context: "+a+" ("+b+")");this.XI.push(b)}};q.yH=function(){if(this.Ma){var a=this.XI.pop();this.u.jE("Popping context: "+a);this.jRa(a)}};q.UCa=function(a){if(!this.Ma)return j;var b=this.ln[y(a)?a:na(a)?qa(a):""];this.u.Lc("Context is safe : "+a+" - "+b);return!b};
q.rFa=function(a){if(this.Ma){var b=qa(a);this.u.Lc("Opening XHR : "+b);for(var c=0;c<this.XI.length;c++){var d=this.XI[c];this.LC(this.ln,d,b);this.LC(this.MJ,b,d)}}};q.qFa=function(a){if(this.Ma){var b=qa(a);this.u.Lc("Closing XHR : "+b);delete this.MJ[b];for(var c in this.ln){Fb(this.ln[c],b);this.ln[c].length==0&&delete this.ln[c]}}};
q.jRa=function(a){var b=this.MJ[a],c=this.ln[a];if(b&&c){this.u.jE("Updating dependent contexts");C(b,function(d){C(c,function(f){this.LC(this.ln,d,f);this.LC(this.MJ,f,d)},this)},this)}};q.LC=function(a,b,c){a[b]||(a[b]=[]);Bb(a[b],c)||a[b].push(c)};var Vi=new Ui;var Xi=function(){return Wi()},Wi=k,$i=k,aj=k,cj=function(){var a=bj();return a?new ActiveXObject(a):new XMLHttpRequest},dj=function(){var a=bj(),b={};if(a){b[0]=j;b[1]=j}return b},ej=dj;Wi=cj;$i=ej;var fj=aj=k,bj=function(){if(!fj&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],b=0;b<a.length;b++){var c=a[b];try{new ActiveXObject(c);return fj=c}catch(d){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return fj};var gj=function(){this.headers=new xc};B(gj,Oi);gj.prototype.u=D("goog.net.XhrIo");var hj=[],jj=function(a,b,c,d,f,g){var h=new gj;hj.push(h);b&&V(h,"complete",b);V(h,"ready",wa(ij,h));g&&h.KI(g);h.send(a,c,d,f)},ij=function(a){a.l();Fb(hj,a)};q=gj.prototype;q.Nd=l;q.tc=k;q.LJ=k;q.rm="";q.Y9="";q.zg=0;q.po="";q.fN=l;q.XF=l;q.HQ=l;q.Nq=l;q.Uk=0;q.$o=k;q.KI=function(a){this.Uk=Math.max(0,a)};
q.send=function(a,b,c,d){if(this.Nd)e(Error("[goog.net.XhrIo] Object is active with another request"));var f=b||"GET";this.rm=a;this.po="";this.zg=0;this.Y9=f;this.fN=l;this.Nd=j;this.tc=this.Bpa();this.LJ=aj||(aj=$i());Vi.rFa(this.tc);this.tc.onreadystatechange=A(this.Qaa,this);try{this.u.Lc(this.Pl("Opening Xhr"));this.HQ=j;this.tc.open(f,a,j);this.HQ=l}catch(g){this.u.Lc(this.Pl("Error opening Xhr: "+g.message));this.tt(5,g);return}var h=c||"",i=this.headers.ua();d&&uc(d,function(n,o){i.G(o,n)});
f=="POST"&&!i.Ed("Content-Type")&&i.G("Content-Type","application/x-www-form-urlencoded;charset=utf-8");uc(i,function(n,o){this.tc.setRequestHeader(o,n)},this);try{if(this.$o){Pi.clearTimeout(this.$o);this.$o=k}if(this.Uk>0){this.u.Lc(this.Pl("Will abort after "+this.Uk+"ms if incomplete"));this.$o=Pi.setTimeout(A(this.zh,this),this.Uk)}this.u.Lc(this.Pl("Sending request"));this.XF=j;this.tc.send(h);this.XF=l}catch(m){this.u.Lc(this.Pl("Send error: "+m.message));this.tt(5,m)}};q.Bpa=function(){return new Xi};
q.dispatchEvent=function(a){if(this.tc){Vi.FH(this.tc);try{return gj.f.dispatchEvent.call(this,a)}finally{Vi.yH()}}else return gj.f.dispatchEvent.call(this,a)};q.zh=function(){if(typeof aa!="undefined")if(this.tc){this.po="Timed out after "+this.Uk+"ms, aborting";this.zg=8;this.u.Lc(this.Pl(this.po));this.dispatchEvent("timeout");this.abort(8)}};q.tt=function(a,b){this.Nd=l;if(this.tc){this.Nq=j;this.tc.abort();this.Nq=l}this.po=b;this.zg=a;this.S1();this.lD()};
q.S1=function(){if(!this.fN){this.fN=j;this.dispatchEvent("complete");this.dispatchEvent("error")}};q.abort=function(a){if(this.tc){this.u.Lc(this.Pl("Aborting"));this.Nd=l;this.Nq=j;this.tc.abort();this.Nq=l;this.zg=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");this.lD()}};q.n=function(){if(this.tc){if(this.Nd){this.Nd=l;this.Nq=j;this.tc.abort();this.Nq=l}this.lD(j)}gj.f.n.call(this)};q.Qaa=function(){!this.HQ&&!this.XF&&!this.Nq?this.kHa():this.Paa()};q.kHa=function(){this.Paa()};
q.Paa=function(){if(this.Nd)if(typeof aa!="undefined")if(this.LJ[1]&&this.wy()==4&&this.rk()==2)this.u.Lc(this.Pl("Local request error detected and ignored"));else if(this.XF&&this.wy()==4)Pi.setTimeout(A(this.Qaa,this),0);else{this.dispatchEvent("readystatechange");if(this.mz()){this.u.Lc(this.Pl("Request complete"));this.Nd=l;if(this.yk()){this.dispatchEvent("complete");this.dispatchEvent("success")}else{this.zg=6;this.po=this.z6()+" ["+this.rk()+"]";this.S1()}this.lD()}}};
q.lD=function(a){if(this.tc){var b=this.tc,c=this.LJ[0]?da:k;this.LJ=this.tc=k;if(this.$o){Pi.clearTimeout(this.$o);this.$o=k}if(!a){Vi.FH(b);this.dispatchEvent("ready");Vi.yH()}Vi.qFa(b);try{b.onreadystatechange=c}catch(d){this.u.wa("Problem encountered resetting onreadystatechange: "+d.message)}}};q.je=function(){return this.Nd};q.mz=function(){return this.wy()==4};q.yk=function(){switch(this.rk()){case 0:case 200:case 204:case 304:return j;default:return l}};
q.wy=function(){return this.tc?this.tc.readyState:0};q.rk=function(){try{return this.wy()>2?this.tc.status:-1}catch(a){this.u.S("Can not get status: "+a.message);return-1}};q.z6=function(){try{return this.wy()>2?this.tc.statusText:""}catch(a){this.u.Lc("Can not get status: "+a.message);return""}};q.o5=function(){return String(this.rm)};q.ok=function(){return this.tc?this.tc.responseText:""};q.nk=function(a){if(this.tc){var b=this.tc.responseText;if(a&&b.indexOf(a)==0)b=b.substring(a.length);return wd(b)}};
q.getResponseHeader=function(a){return this.tc&&this.mz()?this.tc.getResponseHeader(a):undefined};q.oy=function(){return this.zg};q.l5=function(){return y(this.po)?this.po:String(this.po)};q.Pl=function(a){return a+" ["+this.Y9+" "+this.rm+" "+this.rk()+"]"};var kj=function(){this.headers=new xc};B(kj,gj);var lj=function(a,b,c,d,f,g,h){var i=new kj;b&&V(i,"success",b);if(c){V(i,"error",c);V(i,"timeout",c);V(i,"abort",c)}V(i,"ready",i.l,l,i);i.send(a,d,f,g,h)};u("gsites.Xhr.send",lj,void 0);kj.prototype.send=function(a,b,c,d,f){var g=new Ed(a),h=Ni("jotxtok");h&&g.fa("jot.xtok",h);if(f)for(var i in f)g.fa(i,f[i]);kj.f.send.call(this,g.toString(),b,c,d)};var mj,nj=function(){return D("knol.ServerProxy")},oj=["blockUser","blockUserFromDiscussion","getAdSenseLocaleList","getBlockList","isBlocked","setAnalyticsCode","setLocalePreferences","knol.ui.DiscussionView.isBlockable","knol.ui.Knol.getPubmedCitation","knol.ui.Knol.getRRNCitation","setNodeLicense"],pj=l,sj=function(a,b,c,d){nj();var f=new Fd;f.add("node",a);f.add("method",b);f.add("args",df(zf(c)));"about to post to args: "+f.z("args");var g=qj(a);return rj(f,g,d,pj)},W=function(a,b,c,d){nj();
var f=new Fd;f.add("func",a);f.add("args",df(zf(b)));"about to post to args: "+f.z("args");var g=d||qj(Vf());return rj(f,g,c,pj)},tj=function(){var a=new window.jstiming.Timer;a.name="rpc";return a},uj=function(a,b){a.tick("ol");qf(a,{rpc:b})},qj=function(a){nj();var b=Vf();a||(a=b);var c=a?Vh(a).webspace:"knol",d=new Ed(document.location.href),f=d.Pf("webspace");if(f)c=f;var g=l;try{g=Wf()instanceof vj}catch(h){e(new Error("Exception when trying to get the user node, node not in cache"))}if(a==b&&
g)c="knol";return c},wj=function(a){if(a&&a.rk()==302){var b=a.getResponseHeader("Location"),c=function(d){return d.replace(/\?.*/,"")};if(c(jf())==c(b)){window.location=jf();return j}}return l};var xj=function(a,b,c,d){if(!(a instanceof S))if(a)e(new Error("object of wrong type"));else e(new Error("object is not valid and is: "+a));if(!y(b)||c&&!y(c)||!ma(d))e(new Error("bad parameters to new Relation"));this.ub=a;this.yj=b;this.SQ=c;if(!d)e(new Error("no inverse type"));this.bYa=d;this.ob=k},yj={pW:"about",Nha:"acknowledgedGroups",Uha:"attachedTo",Vha:"attachments",xW:"authored",SJ:"authors",iia:"contributed",KW:"contributors",TW:"discussed",$J:"discussions",$X:"pendingDiscussed",rC:"pendingDiscussions",
rUa:"editing",MUa:"groups",Hia:"knolTemplates",tVa:"members",NX:"messagesAbout",Kia:"messagesReceived",Lia:"messagesSent",YX:"owned",pK:"owners",fY:"recipients",tK:"relatedKnols",DY:"unrelatedKnols",jY:"reviewAbout",Yia:"reviewTemplates",Mg:"reviews",nY:"sender",Ch:"suggestions",lja:"suggested",rja:"translations",EW:"bunched",hia:"containingBunch"},zj="properties.",Aj={},Bj=function(a,b,c,d,f,g,h,i){if(!y(a)||!ma(b)||!ma(g)||c&&!ma(c)||d==3||d!=0&&i!=0)e(new Error("bad params declaring relation "+
a));this.Wz=a;this.kGa=b;this.rJa=c;this.Zfa=d;Aj[a]=this;this.lGa=g;if(i!=3&&g&&a){var m=g,n=zj+a;if(!m||!n)wf().wa("bad params to  knol.Persistent.registerJsonProperty -  ctor:"+m+" name:"+n);if(!m.lC)m.lC=[];m.lC.push(n)}if(f){this.haa=f;this.LYa=h;this.XPa=i;f in Aj||new Bj(f,g,h,i,a,b,c,d)}else if(i!=3)e(new Error("expected storage type of NONE"))};
Bj.prototype.$Fa=function(a){if(!(a instanceof this.lGa))e(new Error("node is wrong type for relation "+this.Wz));var b=this.rJa||xj,c=new b(a,this.Wz,this.haa,this.kGa);c.I1(this.Wz);return c};q=xj.prototype;q.mR=function(){return this.CE().Zfa==2};q.N1=function(a){this.mR()&&this.Eb("this is a remote relation, cannot call "+a)};q.Zl=function(){return this.ob};q.tb=function(){return this.yj};q.S0=function(a){return new this.Hk(a)};q.Hk=Zg;
q.I1=function(a){var b=this.Hk;this.ob=this.ub.mc(a,function(){return new sg(b)},j)};q.WRa=function(a){var b=this.CE();if(b.Zfa==1||b.XPa==1){var c=Vh(this.ub.p()).webspace,d=Vh(a).webspace;c!=d&&this.Eb("this is a local relation, cannot add "+a)}};q.add=function(a){this.N1("add");return this.Xaa(a,function(b,c,d){b.WRa(d);var f=b.S0(d);f&&!(f instanceof Zg)&&this.Eb("add type error");c.G(d,f);f.aB(xa());return f})};q.remove=function(a){this.N1("remove");this.Xaa(a,Cj)};var Cj=function(a,b,c){b.remove(c)};
q=xj.prototype;q.Xaa=function(){return k};q.zva=function(a){return Dj(a,this.SQ)};q.pb=function(){uc(this.bc(),function(a){this.remove(a)},this)};q.archive=function(){};q.save=function(){};q.replace=function(a){this.ub.ev&&delete this.ub.ev[this.yj];this.ub.Cj(this.yj,a)};
var Dj=function(a,b){if(!(a instanceof S))e(new Error("get relation "+b+" type error, expected Node, saw "+a));if(!a.ev)a.ev=[];var c=a.ev[b];if(!c){if(!(b in Aj))e(new Error('nonexistent relation "'+b+'"'));c=Aj[b].$Fa(a);if(!(c instanceof xj))e(new Error("relation "+b+", not derived from knol.Relation"));a.ev[b]=c}return c};q=xj.prototype;q.CE=function(){return Aj[this.yj]};q.contains=function(a){return this.Zl().Ed(a)};q.Da=function(){return this.Zl().Da()};
q.d6=function(a){return this.Zl().z(a,k)};q.ia=function(){return this.Zl().ia()};q.bc=function(){return this.Zl().zb()};q.qy=function(){var a=[];uc(this.bc(),function(b){a.push(O(b))},this);return a};q.$xa=function(a,b,c){var d=this.Zl().ud();d=a?Ej(d,a):this.sort(d);return d=d.slice(b||0,c||d.length)};q.sort=function(a){return a};q.fj=function(){var a=this.bc();return a.length>0?a[0]:k};q.Yua=function(){var a=this.qy();return a.length>0?a[0]:k};
q.Eb=function(a){a+=", relation = "+this.yj;a+=this.SQ?", inverse = "+this.SQ:" [one sided]";a+="\nRelation: "+Ke(this);e(new Error(a))};q.yRa=function(a,b){y(b)||this.Eb("invalid search result");var c=new sg(this.Hk),d=b,f=c,g=wf();if(d)try{var h=wd(d);Af(f,h)}catch(i){g.S("could not parse and mix: "+d,i)}for(var m=this.ob,n=c.zb(),o=0;o<n.length;o++){var p=n[o],r=m.z(p);if(s(r)){var t=c.z(p);s(t)&&Sd(t,r,j)}}};q.tya=function(){return"rel_ts_"+this.CE().Wz};
q.pxa=function(){var a=l;if(this.mR())a=1E4;return a};q.bv=function(){var a=this.ub.p();D("knol.Relation");var b=this.CE(),c=b.Wz,d=b.haa,f=this.mR(),g=this.pxa(),h,i;if(la(g)){h=xa();i=this.tya();var m=this.ub.m(i);if(m&&h-m<g)return this}else return this;var n=function(r){if(f){this.ub.ZNa(c,r);this.I1(c);this.ub.r_(c,this)}else this.yRa(c,r);i&&this.ub.setProperty(i,h);return this},o=f?"knol.Relation.nodeInRelation":"knol.Relation.nodeHasRelation",p=W(o,[a,c,d]);p.k(n,this);return p};
var Fj=function(a,b){return a.sort(function(c,d){var f=d.sk()-c.sk();return b?-f:f})},Ej=function(a,b){var c=a.length;return a.sort(function(d,f){var g=b in d?d[b]:c,h=b in f?f[b]:c;return g-h})},Gj=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Gj,xj);Gj.prototype.Hk=ch;Gj.prototype.bc=function(){for(var a=this.$xa("authorPosition"),b=[],c=0;c<a.length;c++)b.push(a[c].nodeId);return b};var Hj=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Hj,xj);
Hj.prototype.S0=function(a){var b=O(a);if(b.type==undefined)e(new Error("type error"));return new ah(a,b.type)};var Ij=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Ij,xj);Ij.prototype.Hk=eh;var Jj=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Jj,xj);Jj.prototype.Hk=dh;var Kj=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Kj,xj);Kj.prototype.Hk=fh;var Lj=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Lj,xj);Lj.prototype.Hk=ih;var Mj=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Mj,xj);Mj.prototype.Hk=gh;
Mj.prototype.sort=Fj;var Nj=function(a,b){var c=Ue(),d=b||"/system/knol/images/";d=d.replace(/^\//,"");return c+"knol/"+d+a},Oj=function(){return Nj("cleardot.gif","/system/app/images/")},Pj=Qe["/system/app/embed/icons/icon-cal-address.png"],Qj=Qe["/system/static_files/ifpc_relay.html"],Rj=function(a,b){var c=b||l,d=Ue(),f=d+"knol/"+a;if(c)f+=gg();return f},Sj=function(a){var b;try{b=new Ed(a)}catch(c){return k}var d=b.og();if(!d)return k;d=d.split("/");var f=d.length;if(f<6)return k;var g=5,h=d[g-1],i=d[g];if(g+1<f)i+=
"/"+d[g+1];return h+"."+i},Tj=function(a){var b;try{b=new Ed(a)}catch(c){return k}var d=b.og();d=d.split("/");if(d.length<4)return k;for(var f=b.Nh()+"/"+d[1]+"/-/-",g=2;g<d.length;g++)f+="/"+d[g];return Sj(f)};var Uj=function(a){ja(a)||(a=[]);this.Qb=a||[]};F(Uj,vf);q=Uj.prototype;q.serialize=function(){var a={};a.omit=this.dF();return a};q.T=function(a){a&&this.xI(a.omit)};q.dF=function(){return this.Qb||[]};q.xI=function(a){this.Qb=a||[]};q.contains=function(a){return Bb(this.dF(),a)};
var Wj=function(a,b){for(var c=0;c<Vj.length;c++){var d=Vj[c];if(a.contains(d.value)!=b.contains(d.value))return l}return j},Xj=new Uj([9,8]),Vj=[{C:"Numbering",value:1},{C:"Snippet",value:2},{C:"Author",value:3},{C:"Thumbnail",value:4},{C:"Star Ratings",value:5},{C:"Statistics (like pageviews)",value:6},{C:"Last Modified Information",value:7},{C:"Awards and Badges",value:8},{C:"Version Number",value:9},{C:"Accepted Date (into collection)",value:10}];var Yj=function(){};F(Yj,vf);var Zj=10;Yj.prototype.vNa=function(a){this.ownerId=a};Yj.prototype.N5=function(){return this.ownerId||k};P(Yj,Yj.prototype.N5,"ownerId");Yj.prototype.ui=function(a){this.type=a};Yj.prototype.la=function(){return this.type||k};P(Yj,Yj.prototype.la,"type");Yj.prototype.refresh=function(){this.expirationTime=xa()+Zj*60*1E3};Yj.prototype.Sua=function(){return this.expirationTime||k};P(Yj,Yj.prototype.Sua,"expirationTime");Yj.prototype.Era=function(){this.expirationTime=xa()};
Yj.prototype.fv=function(a,b){if(this.N5()==a&&this.la()==b){this.vNa(k);this.ui(k);this.Era();return j}else return l};var $j=function(){};F($j,vf);$j.prototype.serialize=function(){if(!this.xDa())return k;var a={};a.label=this.ly();a.country=this.dO();a.language=this.getLanguage();return a};$j.prototype.T=function(a){if(a){if(y(a))a=wd(a);this.label=a.label;this.country=a.country;this.language=a.language}};$j.prototype.xDa=function(a,b){var c=this.ly();if(c&&a)c=this.getLanguage()==a;if(c&&b)c=this.dO()==b;return!!c};$j.prototype.ly=function(){return this.label||""};P($j,$j.prototype.ly,"label");
$j.prototype.dO=function(){return this.country||""};P($j,$j.prototype.dO,"country");$j.prototype.getLanguage=function(){return this.language||""};P($j,$j.prototype.getLanguage,"language");var ak=function(){};F(ak,vf);var bk={mWa:"revisions",Ch:"suggestions",Mg:"reviews",$m:"comments",jWa:"replies"};ak.prototype.serialize=function(){var a={};if(this.sy()){var b=this.sy();a.notificationSettings=b.serialize();return a}else return k};ak.prototype.T=function(a){if(a){var b=new sg;b.T(a.notificationSettings);b.Da()||(this.notificationSettings=b)}};ak.prototype.sy=function(){return this.notificationSettings||k};P(ak,ak.prototype.sy,"notificationSettings");q=ak.prototype;
q.tNa=function(a){this.notificationSettings=a};q.ry=function(a){var b=this.sy()||ck();return parseInt(b.z(a,-1),10)};q.Yf=function(a,b){var c=this.sy()||ck();c.G(a,b);this.tNa(c)};q.Iy=function(a){if(a=="comments")return this.ry(10);else if(a=="replies")return this.ry(60);else if(a=="reviews")return this.ry(30);else if(a=="revisions")return this.ry(20);else if(a=="suggestions")return this.ry(40);else e(new Error("unknown symbolicEvent: "+a))};
q.bOa=function(a,b){if(a=="comments"){this.Yf(10,b);this.Yf(11,b);this.Yf(12,b)}else if(a=="replies")this.Yf(60,b);else if(a=="reviews"){this.Yf(30,b);this.Yf(31,b);this.Yf(32,b)}else if(a=="revisions"){this.Yf(20,b);this.Yf(21,b);this.Yf(22,b)}else if(a=="suggestions"){this.Yf(40,b);this.Yf(41,b);this.Yf(42,b);this.Yf(50,b);this.Yf(51,b)}};var dk=k,ck=function(){if(ha(dk)){dk=new sg;for(var a in ek)dk.G(ek[a],24)}return dk};var fk=function(a,b,c,d){if(a)if(y(a)){a.toString();this.nodeId=a}else if(na(a)&&!ma(a))Sd(this,a);else e(new Error("type error"));if(b){if(!la(b))e(new Error("version must be number"));this.version=b}if(c){if(!ma(c))e(new Error("type must be function"));this.type=c}if(d)this.wT=d},gk=function(a,b,c,d){this.nodeId=a;if(b)this.version=b;if(c)this.type=c;if(d)this.wT=d},hk=function(a,b,c,d){return new gk(a,b,c,d)};var ik=function(a){Zh.call(this);this.j$=this.Z=s(a)?a:1;this.Qca=[];if(this.Z<0)e(new Error("out of bounds"));this.Z||Zh.prototype.Ea.call(this)};F(ik,Zh);q=ik.prototype;q.TV=function(a,b){this.Z+=a;this.j$=Math.max(this.j$,this.Z);if(this.Z<0)e(new Error("out of bounds"));a<0&&s(b)&&this.Qca.push(b);a<0&&this.Z==0&&!this.Gh&&Zh.prototype.Ea.call(this,this.Qca)};q.ia=function(){return this.Z};q.Ea=function(a){this.TV(-1,a)};q.Qa=function(a){this.Gh||Zh.prototype.Qa.call(this,a)};
q.$ja=function(a){this.TV(1);a.k(this.Ea,this);a.v(this.Qa,this)};var jk=function(){this.qr=new rg},kk=function(){return D("knol.NodeFetcher")},lk=function(a,b){if(a.search(/ /)!=-1)e(new Error("given nodeId: "+a+" must not contain spaces"));return a+" "+b};q=jk.prototype;q.$aa=function(a){if(!(a instanceof fk))e(new Error("type error"));if(!y(a.nodeId))e(new Error("non-string nodeId of: "+a.nodeId+" is not valid"));if(!s(a.version))a.version=-2;if(a.version<-3)e(new Error("bad knol.NodeFetcher.VersionType specified"));this.qr.G(lk(a.nodeId,a.version),a)};
q.fga=function(a,b){this.Op=new ik(this.qr.ia());a&&this.Op.k(a);b&&this.Op.v(b);this.PKa();this.QKa();this.RKa();return this.Op};q.ia=function(){return this.Op?this.Op.ia():0};q.AN=function(a){for(var b=this.qr.zb(),c=0;c<b.length;c++){var d=b[c],f=this.qr.z(d);f.D7||a.call(this,d,f)}};q.PKa=function(){kk();this.AN(function(a,b){if(b.version!=-3){var c=a.split(" ")[0],d=b.version>0?b.version:k,f=mk.z(c,d);if(f){var g=f.ao();if(g!=f.py())if(b.version==-2)f=k;if(f){b.D7=j;b.node=f;this.EN(b)}}}})};
q.QKa=function(){this.AN(function(a,b){var c=this.T5(a);if(c){kk();b.D7=j;c.oL.push(A(function(d,f){var g=this.qr.z(d);g.node=f;this.EN(g)},this));c.dN.push(A(this.pN,this))}})};var nk=function(){sg.call(this)};F(nk,sg);
jk.prototype.RKa=function(){var a=k;this.AN(function(c,d){a||(a=new nk);a.G(c,[d.nodeId,d.version||k,d.type||k,d.wT||l,d.node?zf(d.node):k]);this.zka(c,d);kk()});if(a){var b=W("knol.NodeFetcher.fulfillOnServer",[a]);b.k(function(c){a.clear();Af(a,c);for(var d=a.zb(),f=0;f<d.length;f++){var g=d[f],h,i=a.z(g),m=new fk(i[0],i[1],i[2],i[3]);if(i[4])m.node=O({Uf:i[4]});h=m;if(!h)e(new Error("missing order"));var n=h.node;this.qr.G(g,h);var o=g.split(" ")[0];kk();if(n){var p=n.ao();mk.reset(o,p,n)}else mk.reset(o,
h.version,k);this.EN(h,g)}},this);b.v(function(c){var d=kk();d.wa("server request failed",c);for(var f=a.zb(),g=0;g<f.length;g++)this.Hca(f[g],k,c);this.pN(c)},this)}};jk.prototype.EN=function(a,b){if(a.Usa)e(new Error("order already fulfilled"));a.Usa=j;a.wT&&!a.node&&this.pN("failed to fulfill order "+Je(a));b&&this.Hca(b,a.node,k);this.Op.Ea()};jk.prototype.pN=function(a){this.Op.Qa(a)};var ok=new rg;jk.prototype.T5=function(a){return ok?ok.z(a):k};
jk.prototype.zka=function(a,b){var c=Oe(b);c.oL=[];c.dN=[];ok.G(a,c)};jk.prototype.Hca=function(a,b,c){kk();var d=this.T5(a);if(d){ok.remove(a);if(c)for(var f=0;f<d.dN.length;f++)d.dN[f](c);else for(f=0;f<d.oL.length;f++)d.oL[f](a,b)}};jk.prototype.hj=function(a,b){s(b)||(b=-2);return this.qr.z(lk(a,b))};var pk=function(a,b,c,d,f){if(!y(a))e(new Error("expected string nodeId, saw "+Ke(a)));var g=new jk;g.$aa(new fk(a,b,c,void 0));g.fga(function(){d(g.hj(a,b).node)},f)};var rk=function(a,b){qk+=1;try{a();qk-=1}catch(c){var d=D("knol.RetryEnv");if(c instanceof Zh){var f=c;f.k(function(){qk-=1;rk(a,b)});f.v(function(g){d.S("deferred failed",g);qk-=1;b&&b(g)})}if(c instanceof fk)pk(c.nodeId,c.version,c.type,function(){qk-=1;rk(a,b)},function(){d.S("failed to get node",c);qk-=1;b&&b(c)});else{qk-=1;if(b)b(c);else e(c)}}},qk=0;var sk=function(a){this.Ta=a;this.uc=[];a.k(this.Sb,this);a.v(this.st,this)};sk.prototype.Sb=function(a){for(var b;b=this.uc.shift();)b.Ea(a);return a};sk.prototype.st=function(a){for(var b;b=this.uc.shift();)b.Qa(a);return a};sk.prototype.L5=function(){var a=new Zh;if(this.Ta.Gh)this.Ta.rB?a.Ea(this.Ta.result):a.Qa(this.Ta.result);else this.uc.push(a);return a};var tk=function(a,b,c){this.bb=1;this.zh=c||0;if(a!=k&&(!na(a)||ma(a)))e(new Error("rpc that type error"));if(b&&!y(b)&&!ma(b))e(new Error("rpc method type error"));this.Qm=a;this.Bk=b};q=tk.prototype;
q.ma=function(a,b,c,d){D("knol.RPC");this.Qla=a=a||[];if(!ja(a))e(new Error("args type error"));if(!ma(b))e(new Error("cb type error"));if(!ma(c))e(new Error("eb type error"));this.bb=2;this.Sb=b;this.st=c;b=A(this.hV,this);c=A(this.Kra,this);this.Dh=new ik(1);this.Cx=new jk;this.zh>0&&window.setTimeout(A(this.GQa,this),this.zh);this.eS(this.Qm);this.eS(a);this.Dh.k(function(){this.bb=3;this.AT(this.Qm);this.AT(a);this.bb=4;if(this.Bk){var f;if(this.Qm instanceof gk){if(!y(this.Bk))e(new Error("Rpc method must be a string for remote nodes"));
if(d&&this.K7()){f=this.Ita();if(f instanceof sk)f=f.L5()}else{f=sj(this.Qm.nodeId,this.Bk,a);if(d)if(f instanceof Zh){var g=new sk(f);f=g.L5();this.q_(g)}else this.q_(f)}}else{if(y(this.Bk))this.Bk=this.Qm[this.Bk];f=this.Bk.apply(this.Qm,a)}if(f instanceof Zh){f.k(b);f.v(c)}else this.hV(f,l)}else this.hV(a,j)},this);this.Dh.v(c);this.Cx.fga(A(this.Dh.Ea,this.Dh),A(this.Dh.Qa,this.Dh))};q.hV=function(a,b){if(this.bb!=6){this.bb=4;return b?this.Sb.apply(k,a):this.Sb(a)}};
q.Kra=function(a){if(this.bb!=6){this.bb=5;return this.st(a)}};q.GQa=function(){if(this.rDa()){this.bb=6;this.st("timeout")}};q.rDa=function(){return this.bb!=6&&this.bb!=4&&this.bb!=5};q.eS=function(a,b,c){if(ja(a))for(var d=0;d<a.length;d++)this.eS(a[d],a,d);else if(a instanceof fk)this.Cx.$aa(a);else if(a instanceof Zh){this.Dh.TV(1);a.k(A(function(f,g,h){if(f)f[g]=h;else this.Qm=h;this.Dh.Ea();return h},this,b,c));a.v(this.Dh.Qa,this.Dh)}};
q.AT=function(a,b,c){if(ja(a))for(var d=0;d<a.length;d++)this.AT(a[d],a,d);else if(a instanceof fk){var f=this.Cx.hj(a.nodeId,a.version);if(b)b[c]=f.node;else this.Qm=f.node}};q.ia=function(){var a=this.Dh?this.Dh.ia():0;a+=this.Cx?this.Cx.ia():0;return a};var uk=k;tk.prototype.QN=function(){if(!this.p_){var a={qZa:this.Qm,method:this.Bk,args:this.Qla};this.p_=yd(a)}return this.p_};tk.prototype.q_=function(a){uk||(uk=new xc);var b=this.QN();uk.G(b,a)};tk.prototype.K7=function(){return!!uk&&uk.Ed(this.QN())};
tk.prototype.Ita=function(){var a=this.QN();if(!this.K7())e(new Error("No cached result for "+a));return uk.z(a)};var vk=function(){this.kU(0)};F(vk,vf);vk.prototype.yxa=function(){return this.result};P(vk,vk.prototype.yxa,"result");vk.prototype.Nua=function(){return this.error_code};P(vk,vk.prototype.Nua,"error_code");vk.prototype.kU=function(a){this.error_code=a};vk.prototype.Nta=function(){return this.captcha_token};P(vk,vk.prototype.Nta,"captcha_token");vk.prototype.pFa=function(){this.kU(2)};var wk=function(a){this.C=a;this.kU(0)};F(wk,vk);var xk=function(){return k};var yk=function(a){this.Ad=a;this.Ie={};this.im={}};q=yk.prototype;q.Zra=function(a){if(!(a in this.im)){if(!a in this.Ie)e(new Error("No revisions exist for the given key: "+a));this.im[a]=-Infinity;for(var b in this.Ie[a]){b=Number(b);if(b>this.im[a])this.im[a]=b}}return this.im[a]};q.add=function(a,b,c){this.Xm(a,b,c);if(a in this.Ie&&b in this.Ie[a])e(new Error("cannot re-add identical key = "+a+" and version = "+b));this.Ie[a]||(this.Ie[a]={});this.Ie[a][b]=c};
q.reset=function(a,b,c){this.Xm(a,b,c);a in this.Ie&&b in this.Ie[a]&&this.remove(a,b);this.add(a,b,c)};q.Xm=function(a,b,c){if(!y(a))e(new Error("invalid key "+a));if(!la(b))e(new Error("invalid versionNumber "+b));if(c!=k&&!(c instanceof this.Ad))e(new Error("cannot cache item "+Ke(c)+" that is not of type: "+this.Ad))};q.pb=function(a){delete this.Ie[a];delete this.im[a]};q.remove=function(a,b){if(!(!a in this.Ie||!this.Ie[a]))if(b in this.Ie[a]){delete this.Ie[a][b];b==this.im[a]&&delete this.im[a]}};
q.z=function(a,b){if(!(!a in this.Ie||!this.Ie[a])){var c=s(b)&&!ha(b)?b:this.Zra(a);return this.Ie[a][c]}};q.zb=function(){return ec(this.im)};var S=function(a,b){var c=new fk(a);c.eCa=b||l;var d;if(c.page){c.nodeId=Yh(c.page);if(c.nodeId){c.version=c.page.revision;d=mk.z(c.nodeId,c.version);if(s(d))return d}d=this.o0(c);d.i7()}else if(c.Uf){var f=c,g,h=c.Uf[Xh.os];g=h;f.nodeId=g;if(c.nodeId){c.version=c.Uf[Xh.BK];d=mk.z(c.nodeId,c.version);if(s(d))return d}d=this.moa(c)}else d=c.nodeId?this.loa(c):this.koa(c);d&&d.LE()&&d.p()&&!c.vYa&&d.Pg();return d};F(S,vf);var mk=new yk(S);S.prototype.Pg=function(){mk.reset(this.p(),this.ao(),this)};
var O=function(a){var b=new S(a,j);return b.LE()?b:k},zk=function(a){var b=new Error("Failure trying to fetch node order("+Ke(a)+") on client side, use RetryEnv or NodeFetcher instead");return b},$g=function(a){return a&&a.message&&y(a.message)&&a.message.indexOf("Failure trying to fetch node")==0};q=S.prototype;q.loa=function(a){if(!y(a.nodeId))e(new Error("expected string nodeId "+a.nodeId));var b=a.version>=0?a.version:k,c=mk.z(a.nodeId,b);if(s(c))return c;if(qk>0)e(a);else e(zk(a))};
q.koa=function(a){if(a.eCa)return this;if(!this.es)e(new Error("expected typeName"));var b=a.nodeId?Vh(a.nodeId):{};if(this.cna())b.webspace="";else if(!b.webspace)e(new Error("new node "+a.nodeId+" must specify webspace"));for(var c=b.path,d=0;d<3;){if(!c||!c.length){b.path=Sh(Ne(),6);b.webspace+"."+Sh(Ne(),6)}b.properties={"main/text":""};b.properties[Ak.yw]="/system/knol/templates/"+this.es;b.addRevisionEntry=l;a.page=jot.lib.savePage(b);break}return this.o0(a)};
q.cna=function(){return this.es=="Knol"||this.es=="User"||this.es=="Group"};q.o0=function(a){var b=this,c=this.H5(a.page);if(Bk(c)){var d=Ck[c];if(this.constructor!=d){var f=function(){};f.prototype=d.prototype;f.prototype.constructor=d;b=new f}}b.dJa(a);a.type&&!(b instanceof a.type)&&b.Eb("unexpected page type");return b};
q.moa=function(a){if(a&&s(a.Uf)){var b=this,c=a.Uf[Xh.ww];if(Bk(c)){var d=Ck[c];if(this.constructor!=d){var f=function(){};f.prototype=d.prototype;f.prototype.constructor=d;b=new f}}Af(b,a.Uf);a.type&&!(b instanceof a.type)&&b.Eb("unexpected page type");return b}};var Bk=function(a){var b=Ck[a];return b&&b.prototype instanceof S};S.prototype.i7=function(){};
var Ak={qs:"main/text",mp:"language",kK:"license",RJ:"adSensePolicy",QJ:"accessPolicy",ZB:"accessType",ZW:"emailPolicy",zw:"title",XJ:"createUser",yw:"sys/template",KX:"logicalVersion",PX:"nextChild",hY:"redFlags",zW:"blacklisted",MX:"mailEventsId",UX:"nvc",pia:"effk",oia:"efd",cX:"enableContributorsList",hX:"enableTableOfContents",jX:"enableUnsolicitedReviews",$W:"enableAlsoWrote",fX:"enableRelatedKnols",aX:"enableCategories",eX:"enableReaderCategories",bX:"enableComments",uw:"enableCommentApproval",
dX:"enableModeratorList",wY:"titleUrlOptOut"},Xh={ww:"nodeType",os:"id",EY:"url",CK:"webspace",XWa:"wuid",Pia:"path",ZX:"pathEncoded",BK:"versionNumber",HX:"latestVersionNumber",YW:"editTime",cK:"editTimeMs",MW:"createTime",NW:"createTimeMs",mX:"exists"};S.prototype.T=function(a){for(var b in a)if(this.Iu(Ak,b)||this.Iu(yj,b)){var c=a[b]?a[b].kT||a[b].constructor:k;if(yf(c))typeof a[b]=="boolean"?this.tv(b,a[b]):this.setProperty(b,a[b]);else this.r8(b,a[b])}else if(this.Iu(Xh,b))this[b]=a[b]};
var Dk=function(a,b,c){for(var d in c)if(b.Iu(a,d)){var f=c[d]?c[d].kT||c[d].constructor:k;if(yf(f))typeof c[d]=="boolean"?b.tv(d,c[d]):b.setProperty(d,c[d]);else b.r8(d,c[d])}};S.prototype.Iu=function(a,b){if(b.search(Le)!=-1)return l;for(var c in a)if(a[c]==b)return j;return l};S.prototype.Rb=function(a){this.Nna();Af(this,a)};var Ek=function(){return D("knol.Node")};S.prototype.he=function(){return Ek()};var Ck={},Fk=function(a,b,c){F(a,b);a.prototype.es=c;Ck[c]=a};S.prototype.remove=function(){};
S.prototype.GJa=function(a,b){for(var c=a.bc(),d=0;d<c.length;d++){var f=c[d],g=O(f),h=k;if(g)h=a.zva(g);else this.he().S("missing counterpart of "+this.p()+" in relation = "+Ke(a));a.remove(f);if(h&&h.Da())if(ma(b))b.call(this,g);else if(b==2)g.remove();else!b||b==1||this.Eb("removeFromRelation, unknown policy "+b)}};S.prototype.H5=function(a){var b;if(!this[Xh.ww]){b=a?a.flatData[Ak.yw]:this.m(Ak.yw);this[Xh.ww]=y(b)?b.indexOf("/system/knol/templates")!=0?k:b.split("/").pop():k}return this[Xh.ww]};
P(S,S.prototype.H5,Xh.ww);q=S.prototype;q.m=function(a,b){y(a)||this.Eb("invalid property "+a);return this.ir&&a in this.ir?this.ir[a]:this.properties&&a in this.properties?this.properties[a]:s(b)?b:k};q.removeProperty=function(a){this.Bh&&delete this.Bh[a];this.properties&&delete this.properties[a];this.ir&&delete this.ir[a]};q.setProperty=function(a,b){y(a)||this.Eb("invalid property "+a);if(!this.ir)this.ir={};this.Bh&&delete this.Bh[a];this.properties&&delete this.properties[a];this.ir[a]=b};
q.rb=function(a,b){var c=this.m(a,b?1:0);return Boolean(c&&c!="0")};q.tv=function(a,b){this.setProperty(a,b&&b!="0"?1:0)};q.N6=function(){if(!this.Bh)this.Bh={}};q.mc=function(a,b,c){Ek();y(a)||this.Eb("invalid property");this.N6();if(!(a in this.Bh)){var d={};if(b)d=b.call(k);var f,g=this.m(a);f=g;var h=k;if(f)h=f.value?f.value:f;if(h){if(ma(d.parse))d.parse(df(h));else if(na(h))Af(d,h);else e(new Error("unknown property type for: "+a));this.Bh[a]=d}else if(c)this.Bh[a]=d}return this.Bh[a]};
q.Cj=function(a,b){this.WNa(a,gc(b)?k:zf(b))};q.WNa=function(a,b){this.r_(a,b);this.uU(a,gc(b)?k:b)};q.uU=function(a,b){y(a)||this.Eb("invalid property name: "+a);b&&!na(b)&&this.Eb("invalid property("+a+") value: "+b);var c=b?b:k;this.setProperty(a,c)};q.ZNa=function(a,b){this.uU(a,wd(b))};q.r8=function(a,b){y(a)||this.Eb("invalid property");this.removeProperty(a);this.uU(a,b);this.Bh&&delete this.Bh[a]};q.r_=function(a,b){y(a)||this.Eb("invalid property");this.N6();this.Bh[a]=b};
q.Nna=function(){delete this.Bh;delete this.YB;delete this.ev;this.Y_()};q.hOa=function(a,b){if(!this.YB)this.YB={};this.YB[a]=b};q.RI=function(){};q.vya=function(a){return this.YB?this.YB[a]||k:k};q.dza=function(a,b,c){Ek();var d=this.vya(a);if(d)return d;if((d=this.m(a,b))&&!y(d))if(c)if(typeof d=="object")d=d.toXmlString();else this.Eb("unexpected type of value ("+typeof d+") for property: "+a);else d=d.toHtml();this.hOa(a,d);return d};q.mF=function(a){var b=this.m(a);return b?O(b):k};
q.V4=function(a,b,c){var d=this.mc(a,c);if(d){var f=b.call(d);if(f)return f}var g=this.TE();if(g)return g.V4(a,b);return k};q.TE=function(){return k};q.ha=function(){return this[Xh.EY]};P(S,S.prototype.ha,Xh.EY);S.prototype.uy=function(){return this.ha()};S.prototype.LE=function(){return this[Xh.mX]};P(S,S.prototype.LE,Xh.mX);S.prototype.Wl=function(a){return this.dza(Ak.qs,k,a)};S.prototype.uI=function(a){delete this.WEa;delete this.SG;this.RI(Ak.qs,a,l,l)};
S.prototype.bF=function(){if(!s(this.SG)){var a;this.Wl();this.p();this.SG=a=k}return this.SG};S.prototype.p=function(){s(this[Xh.os])||(this[Xh.os]=this.path?Yh(this):k);return this[Xh.os]};P(S,S.prototype.p,Xh.os);S.prototype.bm=function(){return this[Xh.CK]};P(S,S.prototype.bm,Xh.CK);S.prototype.Rwa=function(){return this[Xh.ZX]};P(S,S.prototype.Rwa,Xh.ZX);S.prototype.rwa=function(){return this.m(Ak.PX,1)};P(S,S.prototype.rwa,Ak.PX);S.prototype.ao=function(){return this[Xh.BK]||1};
P(S,S.prototype.ao,Xh.BK);S.prototype.py=function(){return this[Xh.HX]};P(S,S.prototype.py,Xh.HX);var Gk={hWa:"read",WWa:"write",eTa:"addChild",dTa:"addAttachment",Oia:"owner"};q=S.prototype;q.aNa=function(a,b){this.setProperty("sys/permission/"+a,b)};q.uOa=function(a){var b=["write","addChild","addAttachment","owner"];C(b,function(c){this.setProperty("sys/permission/"+c,a)},this)};q.vJa=function(){for(var a in Gk)this.removeProperty("sys/permission/"+a)};q.addRevisionEntry=function(){return l};
q.save=function(){};q.getLanguage=function(){return this.m(Ak.mp)};P(S,S.prototype.getLanguage,Ak.mp);S.prototype.kO=function(){return Dj(this,yj.$J)};S.prototype.S5=function(){return Dj(this,yj.rC)};S.prototype.w5=function(){return Dj(this,yj.NX)};S.prototype.Vn=function(){var a=this.m(Ak.kK);return a?Dg(a.replace(/"/g,"")):new Cg};P(S,S.prototype.Vn,Ak.kK);S.prototype.hea=function(a){this.setProperty(Ak.kK,a.toString())};S.prototype.En=function(){return this.mc(Ak.RJ,function(){return new jh})};
P(S,S.prototype.En,Ak.RJ);S.prototype.yda=function(a){this.Cj(Ak.RJ,a)};S.prototype.hf=function(){var a,b=this.m(Ak.QJ);if(b){var c=this.mc(Ak.QJ,function(){return new Sg("moderated")});a=c.jF()}s(a)||(a=this.m(Ak.ZB,"moderated"));return a};P(S,S.prototype.hf,Ak.ZB);S.prototype.XT=function(a){this.Cj(Ak.QJ,k);this.setProperty(Ak.ZB,a)};S.prototype.E4=function(){return this.mc(Ak.ZW,function(){return new ak},j)};P(S,S.prototype.E4,Ak.ZW);S.prototype.kd=function(){return this.m(Ak.zw)};
P(S,S.prototype.kd,Ak.zw);q=S.prototype;q.Ye=function(a){this.setProperty(Ak.zw,a);this.Y_()};q.Th=function(){if(!s(this.Xv))this.Xv=bf(this.kd(),250)||"Untitled";return this.Xv};q.Y_=function(){delete this.Xv};q.tk=function(){return this.kd()||"Untitled"};q.Yva=function(){return this.m(Ak.MX)};P(S,S.prototype.Yva,Ak.MX);S.prototype.mO=function(){return this[Xh.YW]};P(S,S.prototype.mO,Xh.YW);S.prototype.$x=function(){return this[Xh.cK]};P(S,S.prototype.$x,Xh.cK);S.prototype.iua=function(){return this[Xh.MW]};
P(S,S.prototype.iua,Xh.MW);S.prototype.i4=function(){return this[Xh.NW]};P(S,S.prototype.i4,Xh.NW);S.prototype.jua=function(){return this.m(Ak.XJ)};P(S,S.prototype.jua,Ak.XJ);S.prototype.oMa=function(a){this.setProperty(Ak.XJ,a)};S.prototype.Vva=function(){return this.m(Ak.KX,0)};P(S,S.prototype.Vva,Ak.KX);q=S.prototype;q.G5=function(){return this.rb(Ak.UX,l)};q.pU=function(a){this.tv(Ak.UX,a);if(a){this.setProperty(Ak.hY,k);this.fMa(l)}};
q.mxa=function(){return this.mc(Ak.hY,function(){return new sg},j)};q.x9=function(){for(var a=this.mxa(),b=a.zb(),c=0;c<b.length;c++){var d=b[c];if(d!="102"&&a.z(d))return j}return l};q.P3=function(){return this.m(Ak.zW)=="1"};q.fMa=function(a){this.setProperty(Ak.zW,a?"1":"0")};q.KE=function(){return this.rb(Ak.pia)};q.by=function(){return this.rb(Ak.oia)};q.Qh=function(){Ek().wa("this node does not specify permission levels");this.Eb("type error")};q.qO=function(){return this.rb(Ak.cX,j)};
P(S,S.prototype.qO,Ak.cX);S.prototype.HE=function(){return this.rb(Ak.hX,j)};P(S,S.prototype.HE,Ak.hX);S.prototype.IE=function(){return this.rb(Ak.jX,j)};P(S,S.prototype.IE,Ak.jX);S.prototype.oO=function(){return this.rb(Ak.$W,j)};P(S,S.prototype.oO,Ak.$W);S.prototype.sO=function(){return this.rb(Ak.fX,j)};P(S,S.prototype.sO,Ak.fX);S.prototype.pO=function(){return this.rb(Ak.aX,j)};P(S,S.prototype.pO,Ak.aX);S.prototype.GE=function(){return this.rb(Ak.eX,j)};P(S,S.prototype.GE,Ak.eX);
S.prototype.Pt=function(){return this.rb(Ak.bX,j)};P(S,S.prototype.Pt,Ak.bX);S.prototype.Kn=function(){return this.rb(Ak.uw,l)};S.prototype.rO=function(){return this.rb(Ak.dX,j)};P(S,S.prototype.rO,Ak.dX);S.prototype.K6=function(){return this.rb(Ak.wY,l)};P(S,S.prototype.K6,Ak.wY);S.prototype.Eb=function(a){a=this.es+" nodeId: "+this.p()+" "+a;var b=Ek();b.wa(a);var c=new Error(a);c.C=a;e(c)};S.prototype.S=function(a){a=this.es+" nodeId: "+this.p()+" "+a;var b=Ek();b.S(a)};S.prototype.mya=function(){return this.m(Ak.yw)};
P(S,S.prototype.mya,Ak.yw);q=S.prototype;q.dJa=function(){};q.log=function(){};q.removeNode=function(){};q.J9=function(){return l};q.purgeCache=function(){};q.Gwa=function(){return Hk(sf(this.p()))};var Ik={},Hk=function(a){var b,c=a,d=Ik,f,g;if(y(c)){f=c;g=k}else{f=c.nodeId;g=c.type;delete c.type}if(!(f in d))try{d[f]=O(c)}catch(h){if($g(h))e(h);else d[f]=k}var i=d[f];if(i&&g&&!(i instanceof g)){var m=Ek();m.wa("Wrong type of offline node found at key = "+f);i=k}return b=i};
S.prototype.uq=function(a,b){var c=k;try{c=this.Gwa()}catch(d){}if(c){var f=c.m(a,b);if(f)return f}return this.m(a,b)};var Jk=function(a){return S.call(this,a)};Fk(Jk,S,"Attachment");Jk.prototype.remove=function(){};Jk.prototype.attach=function(){};Jk.prototype.detach=function(){};var Kk=function(a){return S.call(this,a)};Fk(Kk,Jk,"ImageAttachment");Kk.prototype.attach=function(){};Kk.prototype.detach=function(){};var Lk=function(a){return S.call(this,a)};Fk(Lk,S,"ChatLogNode");Lk.prototype.ge=function(){return this.p().substring(0,this.p().length-8)};Lk.prototype.va=function(){return this.m("knolId")};Lk.prototype.Xf=function(a){return this.setProperty("knolId",a)};var Mk=function(a){a&&this.US(a)};F(Mk,vf);q=Mk.prototype;q.US=function(a){var b=wd(a);this.CXa=b.daily;this.eSa=b.weekly;this.DV=b.total;this.sA=b.quantile;this.wd=b.history};q.IP=function(){return this.eSa};q.DP=function(){return this.DV};q.Z5=function(){return this.sA};q.EO=function(){return this.wd};var Nk=function(a){a&&y(a)&&this.US(a)};F(Nk,vf);
Nk.prototype.US=function(a){this.xi=wd(a);this.Mw=0;this.kXa="";for(var b=ec(this.xi),c=0;c<b.length;c++){var d=b[c];if(d=="score")this.TYa=this.xi[d];else if(d=="quantile"){this.sA=this.xi[d];if(this.sA>this.Mw){this.Mw=this.sA;this.wma="all"}}else{var f=this.xi[d],g=f.quantile;if(g>this.Mw){this.Mw=g;this.wma=d}}}};Nk.prototype.Z5=function(){return this.sA};Nk.prototype.Eta=function(){return this.Mw};var Ok=function(a){return S.call(this,a)};Fk(Ok,S,"KnolOffline");var Pk={Be:"knolId",Hi:"knolMetaId",Cw:"webContentDuplicates",Bw:"ttsVersion",Aw:"ttsBlobstoreId",Xia:"restrictSearch",tK:"relatedKnols",mp:"langidLanguageCode",Gia:"knolRQ",nC:"knolQQ",Lg:"pageviews",$m:"comments",Mg:"reviews",np:"ratings",Ch:"suggestions",qw:"badges",DX:"knolTemplateCount",lY:"reviewTemplateCount",eja:"spamScore",fWa:"zipitRatingAvg",gWa:"zipitRatingCount",vY:"titleUrl",xY:"titleUrlTimestamp"};
Ok.prototype.T=function(a){Dk(Pk,this,a);Ok.f.T.call(this,a)};Ok.prototype.va=function(){return this.m(Pk.Be)};P(Ok,Ok.prototype.va,Pk.Be);Ok.prototype.Xf=function(a){return this.setProperty(Pk.Be,a)};Ok.prototype.ge=function(){var a=this.p();return a.substring(0,a.length-8)};P(Ok,Ok.prototype.ge,Pk.Hi);Ok.prototype.yF=function(){return this.m(Pk.Cw)};P(Ok,Ok.prototype.yF,Pk.Cw);Ok.prototype.yP=function(){return this.m(Pk.Bw,0)};P(Ok,Ok.prototype.yP,Pk.Bw);Ok.prototype.xP=function(){return this.m(Pk.Aw)};
P(Ok,Ok.prototype.xP,Pk.Aw);Ok.prototype.getLanguage=function(){return this.m(Pk.mp)};Ok.prototype.i5=function(){return this.m(Pk.nC)};Ok.prototype.Xn=function(){var a=this.m(Pk.Lg);return new Mk(a)};P(Ok,Ok.prototype.Xn,Pk.Lg);Ok.prototype.AE=function(){var a=this.m(Pk.$m);return new Mk(a)};P(Ok,Ok.prototype.AE,Pk.$m);Ok.prototype.lP=function(){var a=this.m(Pk.Mg);return new Mk(a)};P(Ok,Ok.prototype.lP,Pk.Mg);Ok.prototype.lF=function(){var a=this.m(Pk.np);return new Mk(a)};P(Ok,Ok.prototype.lF,Pk.np);
Ok.prototype.rF=function(){var a=this.m(Pk.Ch);return new Mk(a)};P(Ok,Ok.prototype.rF,Pk.Ch);Ok.prototype.Gva=function(){return this.m(Pk.DX,0)};P(Ok,Ok.prototype.Gva,Pk.DX);Ok.prototype.Axa=function(){return this.m(Pk.lY,0)};P(Ok,Ok.prototype.Axa,Pk.lY);Ok.prototype.x6=function(){return this.m(Pk.eja,0)};Ok.prototype.CP=function(){return this.m(Pk.vY)};P(Ok,Ok.prototype.CP,Pk.vY);Ok.prototype.uya=function(){return this.m(Pk.xY)};P(Ok,Ok.prototype.uya,Pk.xY);var Qk=function(a,b){this.Ia=a;this.ona=b||[]},Rk=[],Sk={},Tk=function(a){var b=new a;Rk.push(b);Sk[b.p()]=b};Qk.prototype.p=function(){return this.Ia};Qk.prototype.Mta=function(){return this.ona};Qk.prototype.mo=function(){return j};Qk.prototype.JQ=j;var Uk=function(){};F(Uk,vf);var Vk={YWa:"yes",QVa:"p_yes",CVa:"neutral",PVa:"p_no",FVa:"no",KVa:""};q=Uk.prototype;q.serialize=function(){var a={};a.question=this.$t();a.rating=this.Yl();a.canned=this.vE();a.detail=this.Kt();return a};
q.T=function(a){this.HH=Sk[a.question]||k;this.uea(a.rating||"");this.Tw=a.canned||k;this.Sda(a.detail||"")};q.xc=function(a){return!!a&&this.nb()&&a.nb()&&this.$t()==a.$t()&&this.Yl()==a.Yl()&&this.vE()==a.vE()&&this.Kt()==a.Kt()};q.nb=function(){return!!this.HH&&tc(Vk,this.xm)&&(!this.Tw||Bb(this.HH.Mta(),this.Tw))};q.$t=function(){return this.HH.p()};q.Yl=function(){return this.xm};q.uea=function(a){this.xm=a};q.dBa=function(){return!!this.Tw};q.vE=function(){return this.Tw};
q.Kt=function(){return this.dBa()?k:this.M1};q.Sda=function(a){this.M1=Ya(a,300)};q.Da=function(){return(this.Yl()=="neutral"||this.Yl()=="")&&!this.vE()&&!this.Kt()};var Wk=function(){this.jl={}};F(Wk,vf);var Zk=function(){return new Wk};q=Wk.prototype;q.serialize=function(){var a={};a.answers=vb(rc(this.jl),zf);return a};q.T=function(a){C(a.answers,function(b){var c=new Uk;c.T(b);this.Dda(c)},this)};
q.xc=function(a){return!!a&&this.jl&&a.jl&&qc(this.jl)==qc(a.jl)&&wc(this.jl,function(b){return b.xc(a.jl[b.$t()])},this)};q.K3=function(a){return this.jl[a]||k};q.rta=function(a){return this.K3(a.p())};q.Dda=function(a){if(a.nb())this.jl[a.$t()]=a};q.Da=function(){for(var a,b=[],c=Rk,d=0;d<c.length;d++)c[d].JQ&&b.push(c[d]);a=b;for(var f=0;f<a.length;f++){var g=this.rta(a[f]);if(g&&!g.Da())return l}return j};var $k=function(a){return S.call(this,a)};Fk($k,S,"KnolScores");$k.prototype.Iu=function(a,b){var c;var d=b;c=ya(d,"userScores_")?d.replace("userScores_","").replace(/_/g,"."):k;if(c)return j;return $k.f.Iu.call(this,a,b)};$k.prototype.ge=function(){return this.p().substring(0,this.p().length-7)};var al=function(a){this.ig=this.ig||3;return S.call(this,a)};Fk(al,S,"Message");var bl=1296E6,cl=function(){return D("knol.Message")};q=al.prototype;q.type=0;q.remove=function(){this.he();this.Cy().pb();this.b6().pb();this.Kx().pb();al.f.remove.call(this)};q.vma=function(){this.Ab()!=6&&this.Kb(5)};
q.send=function(a,b,c){cl();this.Ab()!=1&&this.Eb("message already sent!");var d=this.Cy(),f=this.b6(),g=this.Kx();a&&d.add(a);b&&f.add(b);c&&g.add(c);d.Da()&&this.Eb("message has no sender!");this.Xm();xk(A(function(){this.Kb(2);this.Hs()&&this.gma();d.save();f.save();g.save()},this))};q.Hs=function(){if(this.b5())return l;else{var a=Vg(O(this.Cy().fj()),this.Kx().qy(),this.ig);return a==4}};q.Xm=function(){};q.gma=function(){cl();this.Rba();this.WH(1,this.Cy().fj(),"")};
q.ce=function(){var a=this.Ab();if(a==1||a==2){this.vma();return j}else return l};q.Rba=function(){this.Kb(3)};q.WH=function(a,b,c){cl();this.Ab()==3&&a==1&&this.yB();this.Kb(4);this.NNa(a);var d=this.Cy().fj();if(d!=b){var f=new al(this.bm());f.uI(c||"");f.send(b,d,this.p())}};q.yB=function(){};q.Cy=function(){return Dj(this,yj.nY)};q.b6=function(){return Dj(this,yj.fY)};q.Kx=function(){return Dj(this,yj.pW)};q.Ab=function(){var a=this.m("messageState",1);return a?Number(a):k};
P(al,al.prototype.Ab,"messageState");al.prototype.Kb=function(a){return this.setProperty("messageState",a)};al.prototype.vxa=function(){var a=this.m("messageResolution");return a?Number(a):k};P(al,al.prototype.vxa,"messageResolution");al.prototype.NNa=function(a){return this.setProperty("messageResolution",a)};al.prototype.Vt=function(){var a=this.m("messageLevel");return a?Number(a):k};P(al,al.prototype.Vt,"messageLevel");al.prototype.Rr=function(a){return this.setProperty("messageLevel",a)};
al.prototype.b5=function(){return!!this.m("inhibitResolvePref")};P(al,al.prototype.b5,"inhibitResolvePref");al.prototype.of=function(){var a=this.m("messageToken");if(!a){a=Sh(Ne(),5)+Sh(Ne(),5)+Sh(Ne(),5);this.So(a)}return a};P(al,al.prototype.of,"messageToken");al.prototype.So=function(a){return this.setProperty("messageToken",a)};var dl=function(a){return S.call(this,a)};Fk(dl,S,"AuthorMailAcks");var ek={hVa:10,ZUa:11,cVa:12,kVa:20,bVa:21,eVa:22,jVa:30,aVa:31,dVa:32,iVa:40,$Ua:41,TTa:42,CWa:50,AWa:51,XTa:60};var el=function(a){return S.call(this,a)};Fk(el,S,"NodeMailEvents");var fl=function(a,b){return S.call(this,a,b)};Fk(fl,S,"SubCollectionSuggestions");q=fl.prototype;q.ge=function(){return this.p().substring(0,this.p().length-25)};q.va=function(){return this.m("knolId")};q.Xf=function(a){return this.setProperty("knolId",a)};q.qF=function(){return this.mc("submissions",gl,j)};q.yU=function(a){this.Cj("submissions",a)};q.Cq=function(){return this.mc("suggestions",hl,j)};q.AU=function(a){this.Cj("suggestions",a)};var il=function(){};F(il,vf);q=il.prototype;
q.serialize=function(){return{}};q.T=function(){};q.lf=function(){var a=this.hP();return ec(a)};q.getSize=function(){return this.lf().length};q.hP=function(){return{}};q.Un=function(a){return a.knolUrl};var jl=function(){};F(jl,il);var hl=function(){return new jl};jl.prototype.serialize=function(){return this.uB||{}};jl.prototype.T=function(a){this.uB=a||{}};jl.prototype.hP=function(){return this.uB};
jl.prototype.Un=function(a){if(a instanceof Array&&a.length>0)a=a[0];return il.prototype.Un.call(this,a)};var kl=function(){};F(kl,il);var gl=function(){return new kl};kl.prototype.serialize=function(){return this.Ok||{}};kl.prototype.T=function(a){this.Ok=a||{}};kl.prototype.hP=function(){return this.Ok};var ll=function(a,b,c,d,f,g,h){this.qc=a;this.Ad=b;this.gA=c;this.Jw=d;this.pB=g;this.qB=h;this.Ud=f};F(ll,vf);q=ll.prototype;q.serialize=function(){var a={};a.knolId=this.va();a.type=this.la();a.order=this.hj();a.annotation=this.hq();a.submittedTimestamp=this.wP();a.submitterId=this.Wh();a.hidden=this.Pn();return a};q.T=function(a){if(a){this.Xf(a.knolId);this.ui(a.type);this.qU(a.order);this.ZT(a.annotation);this.zU(a.submittedTimestamp);this.FI(a.submitterId);this.qI(a.hidden)}};
q.xc=function(a){return!!a&&this.nb()&&a.nb()&&this.va()==a.va()&&this.la()==a.la()&&this.hj()==a.hj()&&this.hq()==a.hq()&&this.Wh()==a.Wh()&&this.Pn()==a.Pn()};q.va=function(){return this.qc};q.la=function(){return this.Ad};q.hj=function(){return this.gA};q.hq=function(){return this.Jw};q.wP=function(){return this.pB};q.Wh=function(){return this.qB};q.Pn=function(){return this.Ud};q.Xf=function(a){this.qc=a};q.ui=function(a){this.Ad=a};q.qU=function(a){this.gA=a};q.ZT=function(a){this.Jw=a};
q.zU=function(a){this.pB=a};q.FI=function(a){this.qB=a};q.qI=function(a){this.Ud=a};q.nb=function(){return!!this.va()&&!!this.la()};q.mo=function(a){if(!this.nb())return l;var b=a.z(this.va());return this.la()=="add"?!b:!!b};var ml=function(){this.iD=[]};F(ml,vf);var nl=function(){return new ml};q=ml.prototype;q.serialize=function(){return vb(this.iD,zf)};q.T=function(a){if(ja(a))for(var b=0;b<a.length;b++){var c=new ll;c.T(a[b]);c.nb()&&this.iD.push(c)}};q.lf=function(){return this.iD};
q.tI=function(a){this.iD=a||[]};q.Da=function(){return!this.lf().length};q.ua=function(){var a=nl();a.tI(this.lf().concat());return a};q.Rb=function(a){var b=l;if(a){for(var c=this.lf(),d=[],f=0;f<c.length;f++)if(c[f].mo(a))d.push(c[f]);else b=j;b&&this.tI(d)}return b};q.V3=function(a,b){for(var c=this.lf(),d=0;d<c.length;d++)if(c[d].la()==b&&c[d].va()==a)return c[d];return k};var ol=function(a,b){return S.call(this,a,b)};Fk(ol,S,"Submissions");q=ol.prototype;q.ge=function(){return this.p().substring(0,this.p().length-12)};q.va=function(){return this.m("knolId")};q.Xf=function(a){return this.setProperty("knolId",a)};q.qF=function(){return this.mc("submissions",nl,j)};q.yU=function(a){this.Cj("submissions",a)};q.getMerged=function(){return this.rb("merged")};q.mNa=function(a){this.tv("merged",a)};
q.zFa=function(){if(!this.getMerged()){for(var a=this.qF(),b=a.lf(),c=O(this.ge()),d=c&&c.Cq(),f=d&&d.bc()||[],g=0;g<f.length;g++){var h=O(f[g]);if(!(!h||h.Ab()!=1))for(var i=h.Wta().lf(),m=0;m<i.length;m++){i[m].FI(h.oq());b.push(i[m])}}this.mNa(j);this.yU(a)}};q.Vya=function(a){for(var b=this.qF().lf(),c=nl(),d=c.lf(),f=0;f<b.length;f++)b[f].Wh()==a&&d.push(b[f]);return c};q.Rb=function(a){var b=this.qF();if(b.Rb(a)){this.yU(b);this.save()}};
var pl=function(a,b,c,d,f){this.vf=a;this.cn=b;this.hD=c;this.gca=d;this.lS=f;this.EB=xa()};F(pl,vf);q=pl.prototype;q.serialize=function(){var a={};a.token=this.of();a.accept=this.ata();var b=this.V3();if(b)a.change=b.serialize();var c=this.qxa();if(c)a.relatedChanges=c.serialize();a.moderatorId=this.dwa();a.timestamp=this.sk();return a};
q.T=function(a){if(a){this.So(a.token);this.KLa(a.accept);var b=new ll;b.T(a.change);this.iMa(b);var c=nl();c.T(a.relatedChanges);this.INa(c);this.qNa(a.moderatorId);this.aB(a.timestamp)}};q.nb=function(){return!!this.vf&&!!this.hD&&this.hD.nb()&&!!this.lS&&s(this.cn)};q.of=function(){return this.vf};q.So=function(a){this.vf=a};q.ata=function(){return this.cn};q.KLa=function(a){this.cn=a};q.V3=function(){return this.hD};q.iMa=function(a){this.hD=a};q.qxa=function(){return this.gca};
q.INa=function(a){this.gca=a};q.dwa=function(){return this.lS};q.qNa=function(a){this.lS=a};q.sk=function(){return this.EB};q.aB=function(a){this.EB=a};var ql=function(){this.Ya={}};F(ql,vf);q=ql.prototype;q.cb=function(a){if(a&&a.nb())this.Ya[a.of()]=a};q.Ao=function(a){a&&delete this.Ya[a]};q.contains=function(a){return ia(this.Ya[a])};q.serialize=function(){return ac(this.Ya,zf)};q.T=function(a){if(na(a))for(var b in a){var c=new pl;c.T(a[b]);if(c.nb())this.Ya[b]=c}};q.lf=function(){return this.Ya};
q.tI=function(a){this.Ya=a||{}};var rl=function(a){return S.call(this,a)};Fk(rl,S,"Suggestion");Sd(rl.prototype,vf.prototype);var sl={bK:"editorId",Be:"knolId",WJ:"contentVersion",gK:"knolContentVersion",xw:"subtitle",op:"references",pw:"abstract",xK:"state",pp:"snippet",QW:"diffCount",LX:"magnitude",dia:"collectionChanges",rs:"moderatedCollection"};rl.prototype.T=function(a){Dk(sl,this,a);rl.f.T.call(this,a)};rl.prototype.remove=function(){};rl.prototype.dc=function(a,b){this.BMa(b);this.Xf(a);this.fea(O(this.va()).kk())};
rl.prototype.eu=function(){return this.m(sl.xw)};P(rl,rl.prototype.eu,sl.xw);rl.prototype.xy=function(){return this.mc(sl.op,function(){return new Nh},j)};P(rl,rl.prototype.xy,sl.op);rl.prototype.wea=function(a){this.Cj(sl.op,a)};rl.prototype.oE=function(){return this.m(tl.pw)};P(rl,rl.prototype.oE,sl.pw);q=rl.prototype;q.FA=function(){var a=this.yna();if(a!=0)return a;this.Kb(2);var b=this.Ja(),c=b.Cq();c.remove(this.p());return a};q.accept=function(){D("knol.Suggestion");return 199};
q.pl=function(){var a=Xf(),b=this.Ja();return Vg(O(a),b,14)==4};q.yna=function(a,b){D("knol.Suggestion");if(this.Ab()!=1)return 103;else if(a&&a!=this.ao())return 102;else if(b&&b!=O(this.va()).kk())return 109;return 0};q.Kb=function(a){this.$Ba();this.setProperty(sl.xK,a)};q.Ab=function(){return this.m(sl.xK)||1};P(rl,rl.prototype.Ab,sl.xK);rl.prototype.BMa=function(a){this.setProperty(sl.bK,a)};rl.prototype.oq=function(){return this.m(sl.bK)};P(rl,rl.prototype.oq,sl.bK);
rl.prototype.Xf=function(a){this.setProperty(sl.Be,a)};rl.prototype.va=function(){return this.m(sl.Be)};P(rl,rl.prototype.va,sl.Be);rl.prototype.Ja=function(){return O(this.va()).Ja()};rl.prototype.$Ba=function(){this.setProperty(sl.WJ,this.Xx()+1)};rl.prototype.Xx=function(){return this.m(sl.WJ)||1};P(rl,rl.prototype.Xx,sl.WJ);rl.prototype.fea=function(a){this.setProperty(sl.gK,a)};rl.prototype.St=function(){return this.m(sl.gK)};P(rl,rl.prototype.St,sl.gK);q=rl.prototype;
q.uI=function(a){this.RI(Ak.qs,a,j,j);delete this.WEa;delete this.SG};q.N7=function(){var a=this.m(Ak.qs);return y(a)&&!a.length};q.Wl=function(){return this.N7()?k:rl.f.Wl.call(this,j)};q.bF=function(){return this.N7()?k:rl.f.bF.call(this)};q.Eea=function(a){this.setProperty(sl.pp,a)};q.pk=function(){return this.m(sl.pp)};P(rl,rl.prototype.pk,sl.pp);rl.prototype.Lt=function(){return parseInt(this.m(sl.QW,0),10)};P(rl,rl.prototype.Lt,sl.QW);
rl.prototype.aF=function(){return parseInt(this.m(sl.LX,0),10)};P(rl,rl.prototype.aF,sl.LX);rl.prototype.Qh=function(a){if(a==this.oq())return 4;else{var b=O(this.va()),c=1;if(b)c=b.Qh(a);return c}};rl.prototype.Wta=function(){return this.mc(sl.dia,nl,j)};rl.prototype.bwa=function(){return this.m(sl.rs)};P(rl,rl.prototype.bwa,sl.rs);var T=function(a){return S.call(this,a)};Fk(T,S,"KnolMeta");
var ul={fK:"homeOf",Be:"knolId",vw:"knolPageVersionMap",sK:"publishedVersionMap",rK:"publishedVersion",XW:"editLock",aC:"attachmentsSize",Cw:"webContentDuplicates",Bw:"ttsVersion",Aw:"ttsBlobstoreId",Xia:"restrictSearch",tK:"relatedKnols",DY:"unrelatedKnols",mp:"langidLanguageCode",Gia:"knolRQ",mVa:"knolRS",nC:"knolQQ",lVa:"knolQS",oX:"featuredTime",pX:"featuredVersion",ria:"featuredBy",Lg:"pageviews",KWa:"uniqueVisits",uY:"templateId",GX:"labels",qw:"badges",cWa:"promotion",wUa:"eifs",vUa:"efp",
JW:"collectionType",aK:"editorialCollection",HW:"collectionBranding",rw:"collectionDisplay",kp:"collectionSort",ms:"collectionReverse",GY:"verifiedWebsite",tX:"guidelinesUrl",MWa:"unpubFeedToken",yY:"translatedFromKnol",zY:"translatedFromLang",uX:"hasChatLog",uK:"rrnid",ps:"knolUrl",IW:"collectionReviewFor",VW:"editorialAuthors",WW:"editorialCollectionType",yK:"submissionCount",zK:"subCollectionSuggestionCount",mC:"knolPermanentUrl"};q=T.prototype;q.T=function(a){Dk(ul,this,a);T.f.T.call(this,a)};
q.remove=function(){};q.jd=function(a){var b;if(a)if(a==-1){b=this.jd();if(b.ao()<b.py())b=O({nodeId:this.va(),version:b.py()})}else b=O({nodeId:this.va(),version:a});else b=O(this.va());return b};q.Tt=function(){return Hk({nodeId:sf(this.p()),type:Ok})};q.va=function(){return this.m(ul.Be)};P(T,T.prototype.va,ul.Be);T.prototype.Xf=function(a){return this.setProperty(ul.Be,a)};T.prototype.sta=function(){return parseInt(this.m(ul.aC),10)};P(T,T.prototype.sta,ul.aC);q=T.prototype;
q.iqa=function(a){D("knol.KnolMeta");var b=parseInt(this.m(ul.aC),10)-a;if(b<0){"Warning: negative accumulated attachment size on knol ID: "+this.m(ul.Be);b=0}this.setProperty(ul.aC,b)};q.bi=function(a){if(!a)return l;var b=new Ac(this.Ph().bc());if(b.contains(a))return j;return l};q.T8=function(){return l};q.ec=function(a){if(!a)return l;var b=new Ac(this.Sx().bc());b.GC(this.Ph().bc());if(b.contains(a))return j;return l};q.C4=function(){new sg;var a=this.mc(ul.VW,function(){return new sg},j);return a};
P(T,T.prototype.C4,ul.VW);T.prototype.oz=function(a){var b=this.C4();return b?s(b.z(a)):l};T.prototype.V8=function(a){return this.getContributors().contains(a)};T.prototype.Vx=function(){return this.m(ul.IW)};P(T,T.prototype.Vx,ul.IW);T.prototype.Qh=function(a,b){y(a)||this.Eb("getPermissionsLevel, bad type");if(cf.test(a))return 1;var c=this.Mf(),d=l;if(c&&this.oz(a))d=j;if(this.bi(a))return d?6:4;if(this.ec(a))return d?7:3;if(d)return 5;if(b&&this.V8(a))return 2;return 1};
T.prototype.hf=function(){var a=this.cP(),b=this.pq();if(b==4)a="managed";return a};P(T,T.prototype.hf,Ak.ZB);q=T.prototype;q.cP=function(){return T.f.hf.call(this)};q.Ph=function(){return Dj(this,yj.pK)};q.Sx=function(){return Dj(this,yj.SJ)};q.getContributors=function(){return Dj(this,yj.KW)};q.zy=function(){return Dj(this,yj.jY)};q.Cq=function(){return Dj(this,yj.Ch)};q.Bwa=function(){var a=this.Cq(),b=a.bc(),c=[];b&&C(b,function(d){a.d6(d).Lt()!=0&&c.push(d)});return c};
q.I5=function(){return(this.Bwa()||[]).length};q.$O=function(){if(this.fd()==0)return 0;return this.m(ul.yK,0)};q.Awa=function(){return this.$O(j)};P(T,T.prototype.Awa,ul.yK);T.prototype.B6=function(){if(!this.pG())return 0;return this.m(ul.zK,0)};T.prototype.fya=function(){return this.B6(j)};P(T,T.prototype.fya,ul.zK);q=T.prototype;q.kya=function(a,b){var c=b||1,d=this.Cq();if(!d.Da())for(var f=d.bc(),g=0;g<f.length;g++){var h=d.d6(f[g]);if(h.oq()==a&&h.Ab()==c)return h}return k};
q.hya=function(a){if(this.Ca()){var b;var c=this.p(),d=c+"_SUBMISSIONS",f=O(d);if(f)b=f;else{var g=d,h=new ol(g,j);h[Xh.os]=g;h.Xf(O(h.ge()).va());h.zFa();b=h}if(b)return b.Vya(a)}return nl()};q.ek=function(a,b,c){var d=Vg(a,this,b);if(d==1)return d;if(b==2&&s(c)&&c<this.Vl())return 1;if(a&&this.pg()==-2&&!a.kg()&&!this.ec(a.p()))return 1;return d};q.ana=function(a,b){return!this.Ca()&&(!this.Mf()||this.Mf()==b)&&!!a&&(this.ec(a.p())||this.oz(a.p())||a.Fb())};q.hd=function(){return this.Ph().fj()};
q.TE=function(){var a=this.hd();return a?O(a):vl};q.t0=function(a){var b=this.XE();return parseInt(b.z(String(a)),10)};q.PHa=function(a){a=parseInt(a,10);for(var b=this.XE(),c=b.zb(),d=-1,f=0;f<c.length;f++){var g=parseInt(c[f],10),h=parseInt(b.z(c[f]),10);if(a>=h&&(d<=g||d==-1))d=g}return d};q.Vl=function(){for(var a=this.XE(),b=a.zb(),c=1,d=0;d<b.length;d++){var f=parseInt(b[d],10);if(f>c)c=f}return c};
q.Kxa=function(a,b,c){D("knol.KnolMeta");var d=this.pg();if(!c&&d==-2)return[-2,-1];var f=this.Vl();if(!la(a)||a<0||a>f)a=s(b)?this.PHa(b):f;if(!s(b)&&!s(a))b=this.t0(Number(a));return[a,b]};q.qL=function(){var a=this.pg()==-2;return!a&&!this.cR()&&!this.G3()};q.gEa=function(){return this.jd().x9()};q.fEa=function(){return this.jd().P3()};q.cR=function(){if(!s(this.d9))this.d9=this.Wma();return this.d9};q.G3=function(){if(!s(this.AZ))this.AZ=this.Vma();return this.AZ};
q.Vma=function(){var a=this.Ph().bc();for(var b in a){var c=O(a[b]),d=c.Ft();if(d){if(!d.R4())return l}else return l}return j};q.Wma=function(){if(this.jd().G5())return l;var a=l,b=this.Tt();if(b){if(b.x6()>=0.99)a=j;var c=O(this.hd()),d=c.wq().xq();if(d==4)a=j}if(a&&!this.tBa())return j;var f=this.Ph().bc();for(var g in f){c=O(f[g]);if(c.Nx())return j;var h=c.Ft();if(h)if(h.S4())return j}return this.gEa()||this.fEa()};q.tBa=function(){var a=this.Ph().bc();for(var b in a){var c=O(a[b]);if(c.qk())return j}return l};
q.XE=function(){var a=this.mc(ul.vw,function(){return new sg},j);a.Da()&&a.G(String(1),1);var b=this.jd();if(!b.sDa()&&!b.u9()){for(var c=b.py(),d=a.zb(),f=l,g=0;g<d.length;g++){var h=parseInt(d[g],10),i=parseInt(a.z(d[g]),10);if(i>c){this.he().S("found page version mapped: "+i+" which is larger than the latest: "+c);a.remove(d[g]);f=j}if(c==b.ao()&&h>b.kk()){this.he().S("found content version mapped: "+h+" which is larger than the latest: "+b.kk());a.remove(d[g]);f=j}}f&&this.dNa(a)}return a};
P(T,T.prototype.XE,ul.vw);T.prototype.dNa=function(a){this.Cj(ul.vw,a)};T.prototype.YE=function(){return this.m(ul.GX)||[]};P(T,T.prototype.YE,ul.GX);T.prototype.Xka=function(a,b,c){var d=c||1;if(b==-1)a.G(String(this.Vl()),d);else if(b>0)a.G(String(b),d);else a.z(String(this.Vl()))&&d==3&&a.G(String(this.Vl()),d);return a};T.prototype.Y5=function(){var a=this.mc(ul.sK,function(){return new sg},j);if(a.Da()){a=this.Xka(a,this.pg());this.FNa(a)}return a};P(T,T.prototype.Y5,ul.sK);
T.prototype.FNa=function(a){this.Cj(ul.sK,a)};T.prototype.pg=function(){var a=this.m(ul.rK,-1);return a};P(T,T.prototype.pg,ul.rK);T.prototype.ENa=function(a){if(a!=-1&&a!=-2)e(new Error("policy argument to setPublishedVersion must be a member of: knol.PublishedVersion"));this.setProperty(ul.rK,a)};T.prototype.lva=function(){return this.m(ul.fK)};P(T,T.prototype.lva,ul.fK);T.prototype.Hua=function(){return this.mc(ul.XW,function(){return new Yj},j)};P(T,T.prototype.Hua,ul.XW);q=T.prototype;q.Hz=function(){return k};
q.refresh=function(a){return this.Hz(a,l)};q.MV=function(){return k};q.FO=function(){return this.mF(ul.fK)};q.h4=function(a,b){var c=this.getContributors().Zl(),d=c.zb(),f={};f.CV=0;f.JR=[];for(var g=0;g<d.length;g++){var h=d[g],i=c.z(h);i instanceof ih||this.Eb("contribution type error");if(!(b&&!i.Owa())){if(a==4){if(!this.bi(i.ng()))continue}else if(a==3)if(!this.ec(i.ng()))continue;if(!(i.aO()<=0)){f.JR.push(i);f.CV+=i.aO()}}}return f};q.kd=function(){return this.jd().kd()};q.sq=function(){return this.jd().sq()};
q.kj=function(){return this.jd().kj()};q.log=function(a){S.prototype.log.call(this,a);this.purgeCache()};q.purgeCache=function(){var a=this.jd();a&&a.purgeCache()};q.yF=function(){return this.uq(Pk.Cw)};P(T,T.prototype.yF,ul.Cw);q=T.prototype;q.J9=function(a){return this.cta(a)!=k};q.cta=function(a){if(!a)return k;this.w5().bv();for(var b=this.w5().Zl().ud(),c=0;c<b.length;c++)if(xa()-b[c].sk()<=bl){var d=O(b[c].ng());if(d.of()==a&&(d.Ab()==2||d.Ab()==3))return d}return k};
q.KE=function(){if(T.f.KE.call(this))return j;var a=O(this.hd());if(!a)return j;return a.KE()};q.by=function(){if(T.f.by.call(this))return j;var a=O(this.hd());if(!a)return j;return a.by()};q.L4=function(){return this.m(ul.oX)};q.IMa=function(a){this.setProperty(ul.oX,a)};q.Tua=function(){return this.m(ul.pX)};q.JMa=function(a){this.setProperty(ul.pX,a)};q.HMa=function(a){this.setProperty(ul.ria,a)};q.yP=function(){return this.uq(Pk.Bw,0)};P(T,T.prototype.yP,ul.Bw);T.prototype.xP=function(){return this.uq(Pk.Aw)};
P(T,T.prototype.xP,ul.Aw);T.prototype.getLanguage=function(){return this.uq(Pk.mp)};P(T,T.prototype.getLanguage,ul.mp);T.prototype.i5=function(){return this.uq(Pk.nC)};T.prototype.kga=function(){return k};T.prototype.Xn=function(){var a=this.uq(Pk.Lg);return new Mk(a)};P(T,T.prototype.Xn,ul.Lg);T.prototype.Kta=function(){var a=this.Tt();if(!a)return l;var b=this.Vwa(a);return this.Lta(b)};
T.prototype.Lta=function(a){if(Se("trustAllAuthors")=="true")return j;if(this.by())return l;var b=O(this.hd());if(!b)return l;if(b.qk())return j;if(b.wq().xq()==4)return l;var c=b.Ft();if(!c)return l;var d=this.Tt();if(!d)return l;var f=c.NN();if(!f||f<a.ama)return l;var g=d.i5();if(!g||g<a.jEa||d.x6()>a.kEa)return l;return j};T.prototype.Vwa=function(){var a={};a.ama=0.5;a.hXa=0.75;a.jEa=0.8;a.kYa=0.85;a.kEa=0.75;return a};T.prototype.pya=function(){return this.m(ul.uY)};P(T,T.prototype.pya,ul.uY);
T.prototype.tE=function(){var a=new mh;a.RY(this.m(ul.qw));return a};P(T,T.prototype.tE,ul.qw);T.prototype.fd=function(){return this.m(ul.JW,0)};P(T,T.prototype.fd,ul.JW);T.prototype.Ca=function(){return this.fd()!=0};T.prototype.Id=function(){var a=this.fd();return a>=2};T.prototype.pG=function(){var a=this.fd();return a==4};T.prototype.Mf=function(){return this.m(ul.aK)};P(T,T.prototype.Mf,ul.aK);T.prototype.CMa=function(a){this.setProperty(ul.aK,a)};
T.prototype.pq=function(){var a=this.m(ul.WW);if(!a)return k;return a};P(T,T.prototype.pq,ul.WW);T.prototype.Ht=function(){return this.mc(ul.rw,function(){return new Uj},j)};P(T,T.prototype.Ht,ul.rw);T.prototype.kq=function(){return this.m(ul.kp,19)};P(T,T.prototype.kq,ul.kp);T.prototype.Jda=function(a){this.setProperty(ul.kp,a)};T.prototype.jq=function(){return this.rb(ul.ms)};P(T,T.prototype.jq,ul.ms);T.prototype.jMa=function(a){this.tv(ul.ms,a)};
T.prototype.XN=function(){return this.mc(ul.HW,Hh,j)};P(T,T.prototype.XN,ul.HW);T.prototype.xF=function(){return this.m(ul.GY)};P(T,T.prototype.xF,ul.GY);T.prototype.hy=function(){return this.m(ul.tX)};P(T,T.prototype.hy,ul.tX);T.prototype.zya=function(){return this.m(ul.yY)};P(T,T.prototype.zya,ul.yY);T.prototype.Aya=function(){return this.m(ul.zY)};P(T,T.prototype.Aya,ul.zY);T.prototype.L7=function(){return this.rb(ul.uX)};P(T,T.prototype.L7,ul.uX);T.prototype.Jxa=function(){return this.m(ul.uK)};
P(T,T.prototype.Jxa,ul.uK);T.prototype.Fva=function(a,b){var c=this.jd(),d=this.m(ul.ps);d||(d=c.m(tl.ps));if(a||b){var f=Rd(b||{});s(a)&&f.G("version",String(a));var g=f.toString();return d+(g?"?"+g:"")}return d};P(T,T.prototype.Fva,ul.mC);T.prototype.eNa=function(a){this.setProperty(ul.ps,a)};T.prototype.Kn=function(){var a=l,b=this.rb(Ak.uw,l);return a||b};P(T,T.prototype.Kn,Ak.uw);var wl=function(a){return S.call(this,a)};Fk(wl,S,"KnolHistory");Sd(wl.prototype,vf.prototype);wl.prototype.getTime=function(){return this.m("time")};P(wl,wl.prototype.getTime,"time");wl.prototype.setTime=function(a){this.setProperty("time",a)};wl.prototype.Hva=function(){return this.m("knolVersion")};P(wl,wl.prototype.Hva,"knolVersion");wl.prototype.St=function(){return this.m("knolContentVersion")};P(wl,wl.prototype.St,"knolContentVersion");
wl.prototype.fea=function(a){this.setProperty("knolContentVersion",a)};wl.prototype.lua=function(){return this.m("creatorId")};P(wl,wl.prototype.lua,"creatorId");wl.prototype.ewa=function(){return this.m("modificationType")};P(wl,wl.prototype.ewa,"modificationType");wl.prototype.gwa=function(){return this.mc("modifierMap",function(){return new sg},j)};P(wl,wl.prototype.gwa,"modifierMap");wl.prototype.va=function(){return this.m(ul.Be)};P(wl,wl.prototype.va,"knolId");
wl.prototype.Xf=function(a){return this.setProperty(ul.Be,a)};wl.prototype.fwa=function(){return this.mc("modifiedMap",function(){return new sg},j)};P(wl,wl.prototype.fwa,"modifiedMap");wl.prototype.zxa=function(){return this.mc("revertsMap",function(){return new sg},j)};P(wl,wl.prototype.zxa,"revertsMap");wl.prototype.addRevisionEntry=function(){return j};var of=function(a){return S.call(this,a)};Fk(of,S,"Knol");Sd(of.prototype,Yg.prototype);Sd(of.prototype,vf.prototype);var tl={pw:"abstract",sW:"affiliation",DW:"bootstrapKnol",BX:"keywords",CX:"knolContentVersionNumber",hK:"knolHistoryId",Hi:"knolMetaId",pp:"snippet",xw:"subtitle",op:"references",pVa:"mainTextMd5Sum",eia:"collectionItems",ps:"knolUrl",mC:"knolPermanentUrl",EX:"knolTitleUrl"};q=of.prototype;q.T=function(a){Dk(tl,this,a);of.f.T.call(this,a)};
q.log=function(a){of.f.log.call(this,a);this.purgeCache();var b=this.Ja(),c=O(b.hd());c.purgeCache()};q.remove=function(){};q.sDa=function(){return this.u9()||s(this.pZa)};q.u9=function(){return s(this.oZa)};q.kk=function(){return this.m(tl.CX,1)};P(of,of.prototype.kk,tl.CX);of.prototype.ge=function(){return this.m(tl.Hi)};P(of,of.prototype.ge,tl.Hi);of.prototype.gea=function(a){this.setProperty(tl.Hi,a)};of.prototype.Ja=function(){return this.D=O({nodeId:this.ge(),type:T})};
of.prototype.Tt=function(){return Hk({nodeId:sf(this.ge()),type:Ok})};of.prototype.MO=function(){return this.m(tl.hK)};P(of,of.prototype.MO,tl.hK);of.prototype.bNa=function(a){this.setProperty(tl.hK,a)};of.prototype.Eva=function(){return this.dEa=O({nodeId:this.MO(),type:wl})};of.prototype.Ye=function(a){of.f.Ye.call(this,a);this.cha()};of.prototype.eu=function(){return this.m(tl.xw)};P(of,of.prototype.eu,tl.xw);of.prototype.xy=function(){return this.mc(tl.op,function(){return new Nh},j)};
P(of,of.prototype.xy,tl.op);q=of.prototype;q.wea=function(a){this.Cj(tl.op,a)};q.Wl=function(){var a=of.f.Wl.call(this,j);return a};q.uI=function(a){of.f.RI.call(this,Ak.qs,a,j,j);this.cha()};q.Zva=function(){var a=this.Wl();if(!a||!a.length)return j;return l};q.fta=function(){return this.m(tl.sW)};P(of,of.prototype.fta,tl.sW);of.prototype.Dva=function(){return this.m(tl.BX)};P(of,of.prototype.Dva,tl.BX);of.prototype.pk=function(){return this.m(tl.pp)};P(of,of.prototype.pk,tl.pp);
of.prototype.Eea=function(a){this.setProperty(tl.pp,a)};of.prototype.cha=function(){var a=this.oE();if(!a){a=this.Wl()||"";var b=a;if(b){b=b.replace(/<[^>]*>/g," ");a=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}else a=b;a=Wa(Ca(a))}a=$e(a,125);this.Eea(a);this.cJa()};of.prototype.oE=function(){return this.m(tl.pw)};P(of,of.prototype.oE,tl.pw);of.prototype.R3=function(){return this.rb(tl.DW,l)};P(of,of.prototype.R3,tl.DW);
of.prototype.i7=function(){if(!this.ge()){this.he();this.Pg();D("knol.Group");var a=k;if(!a){a=k;a.XT("closed")}var b;if(this.ge())b=this.Ja();else{b=new T(this.bm());this.gea(b.p());b.Xf(this.p());b.oMa(a.p());b.XT("closed");this.qRa("closed")}var c;if(this.MO())c=this.Eva();else{c=new wl(this.bm());this.bNa(c.p());c.Xf(this.p())}b.Ph().add(a.p());a.save([this,b,c])}};of.prototype.ha=function(){return this.m(tl.ps)};P(of,of.prototype.ha,tl.ps);of.prototype.uy=function(){return this.m(tl.mC)};
P(of,of.prototype.uy,tl.mC);of.prototype.CP=function(){return this.m(tl.EX)};P(of,of.prototype.CP,tl.EX);q=of.prototype;
q.qRa=function(a){D("knol.Knol");var b=this.Ja(),c=b&&b.Ca(),d=(new Sg(a)).GN(c);if(d){var f=[],g=[],h=d.zb();C(h,function(n){var o=[],p=Xg(n);if(p==k)o.push(n);else if(p==4)o=b.Ph().bc();else if(p==3)o=b.Sx().bc();else if(p==2)o=b.getContributors().bc();else p==1&&o.push("#registered");var r=d.z(n);C(o,function(t){if(r==1)!Bb(f,t)&&!Bb(g,t)&&g.push(t);else if(!Bb(f,t)){f.push(t);Bb(g,t)&&Fb(g,t)}},this)},this);var i=[];C(f,function(n){i.push(n.indexOf("#")==0?n:"")},this);C(g,function(n){i.push("-"+
(n.indexOf("#")==0?n:""))},this);for(var m=0;m<i.length;m++)if(i[m]=="-#registered")i[m]="#registered";this.uOa(i);this.Ja().aNa("addAttachment",i)}else this.vJa()};q.rxa=function(){return this.sT=this.sT||pf(this.$x())};q.JNa=function(a){this.sT=a};q.Qh=function(a,b){var c=this.Ja();if(c)return c.Qh(a,b);return 1};q.cJa=function(){var a=this.Ja();if(a){var b=a.hd();if(b){var c=O(b);c.tb()}}this.kd();var d;this.p();d="";a.eNa(d);return d};q.addRevisionEntry=function(){return j};
q.Ux=function(){return this.mc(tl.eia,Lh,j)};var xl=function(a,b){switch(b){case 1:return a%4==0&&(a%100!=0||a%400==0)?29:28;case 5:case 8:case 10:case 3:return 30}return 31},yl=function(a,b,c,d,f,g){if(y(a)){var h=a,i=b;this.Ei=h=="y"?i:0;this.ii=h=="m"?i:0;this.Jh=h=="d"?i:0;this.Vd=h=="h"?i:0;this.Re=h=="n"?i:0;this.We=h=="s"?i:0}else{this.Ei=a||0;this.ii=b||0;this.Jh=c||0;this.Vd=d||0;this.Re=f||0;this.We=g||0}};
yl.prototype.FB=function(a){var b=Math.min(this.Ei,this.ii,this.Jh,this.Vd,this.Re,this.We),c=Math.max(this.Ei,this.ii,this.Jh,this.Vd,this.Re,this.We);if(b<0&&c>0)return k;if(!a&&b==0&&c==0)return"PT0S";var d=[];b<0&&d.push("-");d.push("P");if(this.Ei||a)d.push(Math.abs(this.Ei)+"Y");if(this.ii||a)d.push(Math.abs(this.ii)+"M");if(this.Jh||a)d.push(Math.abs(this.Jh)+"D");if(this.Vd||this.Re||this.We||a){d.push("T");if(this.Vd||a)d.push(Math.abs(this.Vd)+"H");if(this.Re||a)d.push(Math.abs(this.Re)+
"M");if(this.We||a)d.push(Math.abs(this.We)+"S")}return d.join("")};yl.prototype.xc=function(a){return a.Ei==this.Ei&&a.ii==this.ii&&a.Jh==this.Jh&&a.Vd==this.Vd&&a.Re==this.Re&&a.We==this.We};yl.prototype.ua=function(){return new yl(this.Ei,this.ii,this.Jh,this.Vd,this.Re,this.We)};yl.prototype.add=function(a){this.Ei+=a.Ei;this.ii+=a.ii;this.Jh+=a.Jh;this.Vd+=a.Vd;this.Re+=a.Re;this.We+=a.We};
var zl=function(a,b,c){if(la(a)){this.Q=new Date(a,b||0,c||1);this.dS(c||1)}else if(na(a)){this.Q=new Date(a.getFullYear(),a.getMonth(),a.getDate());this.dS(a.getDate())}else{this.Q=new Date;this.Q.setHours(0);this.Q.setMinutes(0);this.Q.setSeconds(0);this.Q.setMilliseconds(0)}};q=zl.prototype;q.zt=0;q.Gx=3;q.ua=function(){var a=new zl(this.Q);a.zt=this.zt;a.Gx=this.Gx;return a};q.getFullYear=function(){return this.Q.getFullYear()};q.zF=function(){return this.getFullYear()};q.getMonth=function(){return this.Q.getMonth()};
q.getDate=function(){return this.Q.getDate()};q.getTime=function(){return this.Q.getTime()};q.getDay=function(){return this.Q.getDay()};q.Bva=function(){return(this.getDay()+6)%7};q.cza=function(){return(this.Bva()-this.zt+7)%7};q.getUTCFullYear=function(){return this.Q.getUTCFullYear()};q.getUTCMonth=function(){return this.Q.getUTCMonth()};q.getUTCDate=function(){return this.Q.getUTCDate()};q.getUTCDay=function(){return this.Q.getDay()};q.getUTCHours=function(){return this.Q.getUTCHours()};
q.getUTCMinutes=function(){return this.Q.getUTCMinutes()};q.AO=function(){return this.zt};q.Zua=function(){return this.Gx};q.J5=function(){return xl(this.getFullYear(),this.getMonth())};q.bza=function(){var a,b=this.getFullYear(),c=this.getMonth(),d=this.getDate(),f=new Date(b,c,d),g=this.Gx||3,h=this.zt||0,i=(f.getDay()+6)%7,m=(i-h+7)%7,n=(g-h+7)%7,o=f.valueOf()+(n-m)*864E5,p=(new Date((new Date(o)).getFullYear(),0,1)).valueOf();return a=Math.floor(Math.round((o-p)/864E5)/7)+1};
q.getTimezoneOffset=function(){return this.Q.getTimezoneOffset()};q.BP=function(){var a,b=this.getTimezoneOffset();if(b==0)a="Z";else{var c=Math.abs(b)/60,d=Math.floor(c),f=(c-d)*60;a=(b>0?"-":"+")+bb(d,2)+":"+bb(f,2)}return a};q.G=function(a){this.Q=new Date(a.getFullYear(),a.getMonth(),a.getDate())};q.setFullYear=function(a){this.Q.setFullYear(a)};q.setMonth=function(a){this.Q.setMonth(a)};q.setDate=function(a){this.Q.setDate(a)};q.setTime=function(a){this.Q.setTime(a)};q.setUTCFullYear=function(a){this.Q.setUTCFullYear(a)};
q.setUTCMonth=function(a){this.Q.setUTCMonth(a)};q.setUTCDate=function(a){this.Q.setUTCDate(a)};q.Xda=function(a){this.zt=a};q.Yda=function(a){this.Gx=a};
q.add=function(a){if(a.Ei||a.ii){var b=this.getMonth()+a.ii+a.Ei*12,c=this.zF()+Math.floor(b/12);b%=12;if(b<0)b+=12;var d=xl(c,b),f=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(f)}if(a.Jh){var g=new Date(this.zF(),this.getMonth(),this.getDate(),12),h=new Date(g.getTime()+a.Jh*864E5);this.setDate(1);this.setFullYear(h.getFullYear());this.setMonth(h.getMonth());this.setDate(h.getDate());this.dS(h.getDate())}};
q.FB=function(a,b){var c=[this.getFullYear(),bb(this.getMonth()+1,2),bb(this.getDate(),2)];return c.join(a?"-":"")+(b?this.BP():"")};q.xc=function(a){return this.zF()==a.zF()&&this.getMonth()==a.getMonth()&&this.getDate()==a.getDate()};q.toString=function(){return this.FB()};q.dS=function(a){if(this.getDate()!=a){var b=this.getDate()<a?1:-1;this.Q.setUTCHours(this.Q.getUTCHours()+b)}};q.valueOf=function(){return this.Q.valueOf()};
var Al=function(a,b,c,d,f,g,h){this.Q=la(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():xa())};B(Al,zl);q=Al.prototype;q.getHours=function(){return this.Q.getHours()};q.getMinutes=function(){return this.Q.getMinutes()};q.getSeconds=function(){return this.Q.getSeconds()};q.getMilliseconds=function(){return this.Q.getMilliseconds()};q.getUTCDay=function(){return this.Q.getUTCDay()};q.getUTCHours=function(){return this.Q.getUTCHours()};q.getUTCMinutes=function(){return this.Q.getUTCMinutes()};
q.getUTCSeconds=function(){return this.Q.getUTCSeconds()};q.getUTCMilliseconds=function(){return this.Q.getUTCMilliseconds()};q.setHours=function(a){this.Q.setHours(a)};q.setMinutes=function(a){this.Q.setMinutes(a)};q.setSeconds=function(a){this.Q.setSeconds(a)};q.setMilliseconds=function(a){this.Q.setMilliseconds(a)};q.setUTCHours=function(a){this.Q.setUTCHours(a)};q.setUTCMinutes=function(a){this.Q.setUTCMinutes(a)};q.setUTCSeconds=function(a){this.Q.setUTCSeconds(a)};q.setUTCMilliseconds=function(a){this.Q.setUTCMilliseconds(a)};
q.add=function(a){zl.prototype.add.call(this,a);a.Vd&&this.setHours(this.Q.getHours()+a.Vd);a.Re&&this.setMinutes(this.Q.getMinutes()+a.Re);a.We&&this.setSeconds(this.Q.getSeconds()+a.We)};q.FB=function(a,b){var c=zl.prototype.FB.call(this,a);if(a)return c+" "+bb(this.getHours(),2)+":"+bb(this.getMinutes(),2)+":"+bb(this.getSeconds(),2)+(b?this.BP():"");return c+"T"+bb(this.getHours(),2)+bb(this.getMinutes(),2)+bb(this.getSeconds(),2)+(b?this.BP():"")};q.xc=function(a){return this.getTime()==a.getTime()};
q.toString=function(){return this.FB()};q.ua=function(){var a=new Al(this.Q);a.Xda(this.AO());a.Yda(this.Zua());return a};var Bl=function(a){return S.call(this,a)};Fk(Bl,S,"AuthorFeedEvents");var Cl=function(a){this.DV=a.total;this.wd=a.history;this.BRa=a.update_timestamp};F(Cl,vf);Cl.prototype.DP=function(){return this.DV};Cl.prototype.EO=function(){return this.wd};Cl.prototype.IP=function(){if(!this.wd||this.wd.length==0)return k;for(var a=Math.min(this.wd.length,7),b=0,c=0;c<a;c++)b+=this.wd[c];return b};Cl.prototype.Mya=function(){return this.BRa};var Dl=function(a){return S.call(this,a)};Fk(Dl,S,"AuthorOffline");var El={xia:"gaiaDisabled",wia:"gaiaDeleted",yia:"gradsSpamScoreBeta",RTa:"clusterScore",Zha:"authorRQ",cC:"authorQQ",Lg:"pageviews",Yha:"authorEventsPageviewTotal",Wha:"authorEventsPageviewHistory",Xha:"authorEventsPageviewHistoryTimestamp",$m:"comments",Mg:"reviews",np:"ratings",Ch:"suggestions",qw:"badges",STa:"collectionCategories"};q=Dl.prototype;q.T=function(a){Dk(El,this,a);Dl.f.T.call(this,a)};q.S4=function(){return this.rb(El.xia)};
q.R4=function(){return this.rb(El.wia)};q.NN=function(){return this.m(El.cC)};q.Xn=function(){var a=this.m(El.Lg),b=this.m(El.Yha,0),c=this.m(El.Xha,xa()),d=this.m(El.Wha,"[]"),f=wd(d),g,h=b,i=c,m=f;a&&a.length>0&&new Mk(a);var n={};n.total=h;n.update_timestamp=i||0;n.history=m;return g=new Cl(n)};P(Dl,Dl.prototype.Xn,El.Lg);Dl.prototype.AE=function(){var a=this.m(El.$m);return new Mk(a)};P(Dl,Dl.prototype.AE,El.$m);Dl.prototype.lP=function(){var a=this.m(El.Mg);return new Mk(a)};
P(Dl,Dl.prototype.lP,El.Mg);Dl.prototype.lF=function(){var a=this.m(El.np);return new Mk(a)};P(Dl,Dl.prototype.lF,El.np);Dl.prototype.rF=function(){var a=this.m(El.Ch);return new Mk(a)};P(Dl,Dl.prototype.rF,El.Ch);Dl.prototype.tE=function(){var a=this.m(El.qw),b=new mh;b.RY(a);return b};var Fl=function(a){return S.call(this,a)};Fk(Fl,of,"Review");Sd(Fl.prototype,vf.prototype);var Gl={FX:"knolVersionNumber",mY:"reviewType",kY:"reviewDetails"};q=Fl.prototype;q.T=function(a){Dk(Gl,this,a);Fl.f.T.call(this,a)};q.nBa=function(){return!this.Ja().zy().Da()};q.jd=function(){var a=this.Ja().zy();if(!a.Da())return O(a.fj()).jd();return k};q.dna=function(a){if(!this.nBa())return l;if(this.Ja().ec(a))return l;return!this.Ja().zy().Yua().ec(a)};
q.YCa=function(){return Da(this.eu())&&this.Zva()&&this.f6().Da()};q.Iva=function(){return this.m(Gl.FX)};P(Fl,Fl.prototype.Iva,Gl.FX);Fl.prototype.Bxa=function(){return this.m(Gl.mY)};P(Fl,Fl.prototype.Bxa,Gl.mY);Fl.prototype.f6=function(){return this.mc(Gl.kY,Zk,j)};P(Fl,Fl.prototype.f6,Gl.kY);var nf=function(a){return S.call(this,a)};Fk(nf,S,"Author");Sd(nf.prototype,Yg.prototype);Sd(nf.prototype,vf.prototype);
var Hl={$B:"admin",UJ:"authName",RW:"disambiguation",dK:"homeKnol",eK:"homeKnolUrl",QX:"nickName",aY:"profile",cY:"publishNewKnols",eY:"quota",FY:"useAuth",rW:"adsensePublisherId",fTa:"adsenseSetupDate",yia:"gradsSpamScoreBeta",ITa:"canIndex",Qha:"allOKB",Pha:"allOCB",iY:"rto",qW:"activeTimeMS",Zha:"authorRQ",vTa:"authorRS",cC:"authorQQ",uTa:"authorQS",uW:"awa",tW:"aai",YUa:"ktd",VTa:"ctd",FTa:"blocksMade",ETa:"blocksConfirmed",bTa:"abuseReportsMade",DTa:"blocksAgainst",aTa:"abuseReportsAgainst",
tTa:"authorMailAcksId",qX:"feedEventsId",EUa:"flagged",FUa:"flaggedCorrectly",GUa:"flaggedIncorrectly",rw:"collectionDisplay",kp:"collectionSort",ms:"collectionReverse",SW:"disambiguationArray"};nf.prototype.T=function(a){Dk(Hl,this,a);nf.f.T.call(this,a)};nf.prototype.Ql=function(){return this.m(Hl.rW)};P(nf,nf.prototype.Ql,Hl.rW);q=nf.prototype;q.ota=function(){return this.m(Hl.uW)==1};q.Cda=function(a){this.setProperty(Hl.uW,a?1:0)};q.mta=function(){return this.m(Hl.tW)==1};
q.Bda=function(a){this.setProperty(Hl.tW,a?1:0)};q.Nx=function(){return this.rb(Hl.Qha)};q.kta=function(){var a=this.i4(),b=l;if(a<1235071979220)b=this.Nx();return b||this.rb(Hl.Pha)};q.Cxa=function(){var a=this.Dxa();if(a!=0)return a;if(this.qk())return 1;if(this.wq().xq()==4)return-1;var b=this.Ft();if(!b)return 0;var c=b.NN();if(c>0.99)return 1;return 0};q.Dxa=function(){return parseInt(this.m(Hl.iY,0),10)};q.DI=function(a){this.setProperty(Hl.iY,a)};
q.C3=function(){return parseInt(this.m(Hl.qW,0),10)};q.LLa=function(a){this.setProperty(Hl.qW,a)};q.NN=function(){return this.uq(El.cC)};q.remove=function(){};q.Voa=function(){return k};q.getAdSensePending=function(){return k};q.wq=function(){var a=this.mc(Hl.eY,function(){return new Fg},j);a.wRa(this);return a};q.GNa=function(a){this.Cj(Hl.eY,a)};q.Jwa=function(){return Dj(this,yj.YX)};q.yta=function(){return Dj(this,yj.xW)};q.jva=function(){return this.mF(Hl.dK)};q.kva=function(){return this.m(Hl.dK)};
P(nf,nf.prototype.kva,Hl.dK);nf.prototype.jk=function(){return this.m(Hl.eK)||""};P(nf,nf.prototype.jk,Hl.eK);nf.prototype.Ova=function(){return this.m(Hl.eK)};nf.prototype.TE=function(){return vl};var vl={};vl.lm=l;vl.mc=function(a){if(!this.lm){this.lm=j;this.adsensePolicy=new jh;this.license=new Cg;this.accessType=new "moderated"}return this[a]};vl.V4=function(a,b){var c=this.m(a);return c?b.call(c):k};nf.prototype.L3=function(){return this.m(Hl.UJ)};P(nf,nf.prototype.L3,Hl.UJ);
nf.prototype.Fda=function(a){this.setProperty(Hl.UJ,a);this.Mna()};nf.prototype.E5=function(){var a=this.Nn();if(a)return a&&(a.fullName||a.nickName);return this.m(Hl.QX)};P(nf,nf.prototype.E5,Hl.QX);nf.prototype.GP=function(){return this.rb(Hl.FY,j)};P(nf,nf.prototype.GP,Hl.FY);nf.prototype.cxa=function(){return Boolean(this.m(Hl.cY,j))};P(nf,nf.prototype.cxa,Hl.cY);q=nf.prototype;
q.tb=function(a){var b;if(this.GP())b=this.L3();if(!b||!b.length)b=this.E5();if(a)return b||"";if(!y(b)||!b.length)b="Anonymous";return b};q.ij=function(){if(!s(this.wV))this.wV=bf(this.tb(),100);return this.wV};q.Mna=function(){delete this.wV};q.tta=function(){if(this.GP())return this.Y4()=="verified";return l};q.Nn=function(){return k};var Il=function(){return k};nf.prototype.bxa=function(){return this.m(Hl.aY)};P(nf,nf.prototype.bxa,Hl.aY);vl.TE=function(){return k};q=nf.prototype;q.kj=function(){return this.sq()};
q.sq=function(){var a=Yg.prototype.kj.call(this);if(!a){var b=window.manifest.serverBase,c=this.Nn();a=c&&c.photo?b+c.photo:b+"/static/images/NoPicture.gif"}return a};q.Y4=function(){var a=this.Nn(),b="";if(a){b=a.idvStatus;s(b)||(b="")}return b};q.Ewa=function(){var a=this.Nn();return a?a.occupation:""};q.ZE=function(){var a=this.Nn();return a?a.location:""};q.Mt=function(){var a=this.Nn();if(a){var b=this.Jn();return b.join("\n")}else return this.m(Hl.RW)};P(nf,nf.prototype.Mt,Hl.RW);
nf.prototype.Jn=function(){var a=this.Nn();if(a){var b=[];if(a.occupation&&a.currentCompany){var c=a.occupation+(" at "+a.currentCompany);b[0]=c}else if(a.occupation)b[0]=a.occupation;else if(a.currentCompany)b[0]=a.currentCompany;if(a.location)b[1]=a.location;return b}else return this.m(Hl.SW)};P(nf,nf.prototype.Jn,Hl.SW);q=nf.prototype;q.aza=function(){var a=this.Nn();return a?a.websites:[]};q.kg=function(){return l};q.Fb=function(){return l};q.Ft=function(){return Hk({nodeId:sf(this.p()),type:Dl})};
q.gna=function(a,b){if(!a)return l;var c=a.Ja();if(!c)return l;var d=a instanceof Fl;if(b){if(!d)return l}else{if(d)return l;if(!(a instanceof of))return l}if(c.ec(this.p()))return j;if(c.pg()!=-1)return l;var f=a.Vn();if(f.type==2)return l;return j};q.uta=function(){return this.m(Hl.qX)};P(nf,nf.prototype.uta,Hl.qX);nf.prototype.qk=function(){return l};nf.prototype.Ht=function(){return this.mc(Hl.rw,function(){return Xj},j)};P(nf,nf.prototype.Ht,Hl.rw);
nf.prototype.kq=function(){return this.m(Hl.kp,19)};P(nf,nf.prototype.kq,Hl.kp);nf.prototype.Jda=function(a){this.setProperty(Hl.kp,a)};nf.prototype.jq=function(){return this.rb(Hl.ms)};P(nf,nf.prototype.jq,Hl.ms);nf.prototype.Kn=function(){return this.rb(Ak.uw,l)};P(nf,nf.prototype.Kn,Ak.uw);var Jl,X={};X.G=function(a,b){a.className=b};X.z=function(a){var b=a.className;return b&&typeof b.split=="function"?b.split(/\s+/):[]};X.add=function(a){var b=X.z(a),c=Mb(arguments,1),d=X.qZ(b,c);a.className=b.join(" ");return d};X.remove=function(a){var b=X.z(a),c=Mb(arguments,1),d=X.BA(b,c);a.className=b.join(" ");return d};X.qZ=function(a,b){for(var c=0,d=0;d<b.length;d++)if(!Bb(a,b[d])){a.push(b[d]);c++}return c==b.length};
X.BA=function(a,b){for(var c=0,d=0;d<a.length;d++)if(Bb(b,a[d])){Nb(a,d--,1);c++}return c==b.length};X.oQa=function(a,b,c){for(var d=X.z(a),f=l,g=0;g<d.length;g++)if(d[g]==b){Nb(d,g--,1);f=j}if(f){d.push(c);a.className=d.join(" ")}return f};X.Fka=function(a,b,c){var d=X.z(a);if(y(b))Fb(d,b);else ja(b)&&X.BA(d,b);if(y(c)&&!Bb(d,c))d.push(c);else ja(c)&&X.qZ(d,c);a.className=d.join(" ")};X.mj=function(a,b){return Bb(X.z(a),b)};X.Ic=function(a,b,c){c?X.add(a,b):X.remove(a,b)};
X.Yv=function(a,b){var c=!X.mj(a,b);X.Ic(a,b,c);return c};var Kl="A",Ll="P";var Ol=function(a){return a?new Ml(Nl(a)):Jl||(Jl=new Ml)},Pl=function(a){return y(a)?document.getElementById(a):a},Y=Pl,Rl=function(a,b,c){return Ql(document,a,b,c)},Ql=function(a,b,c,d){var f=d||a,g=b&&b!="*"?b.toUpperCase():"";if(f.querySelectorAll&&(g||c)&&(!pe||Sl(a)||Fe("528"))){var h=g+(c?"."+c:"");return f.querySelectorAll(h)}if(c&&f.getElementsByClassName){var i=f.getElementsByClassName(c);if(g){for(var m={},n=0,o=0,p;p=i[o];o++)if(g==p.nodeName)m[n++]=p;m.length=n;return m}else return i}i=
f.getElementsByTagName(g||"*");if(c){m={};for(o=n=0;p=i[o];o++){var r=p.className;if(typeof r.split=="function"&&Bb(r.split(/\s+/),c))m[n++]=p}m.length=n;return m}else return i},Tl=Rl,Vl=function(a,b){Zb(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Ul)a.setAttribute(Ul[d],c);else a[d]=c})},Ul={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",
usemap:"useMap",frameborder:"frameBorder",type:"type"},Wl=function(a){var b;var c=a||window,d=c.document;if(pe&&!Fe("500")&&!qe){if(typeof c.innerHeight=="undefined")c=window;var f=c.innerHeight,g=c.document.documentElement.scrollHeight;if(c==c.top)if(g<f)f-=15;b=new sh(c.innerWidth,f)}else{var h=Sl(d)&&(!oe||oe&&Fe("9.50"))?d.documentElement:d.body;b=new sh(h.clientWidth,h.clientHeight)}return b},Xl=function(a){var b=a||ba||window;return Ol(b.document).Sl()},Yl=function(a){return!pe&&Sl(a)?a.documentElement:
a.body},Zl=function(a){return a?a.parentWindow||a.defaultView:window},am=function(){return $l(document,arguments)},$l=function(a,b){var c=b[0],d=b[1];if(H&&d&&(d.name||d.type)){var f=["<",c];d.name&&f.push(' name="',Ta(d.name),'"');if(d.type){f.push(' type="',Ta(d.type),'"');d=va(d);delete d.type}f.push(">");c=f.join("")}var g=a.createElement(c);if(d)if(y(d))g.className=d;else Vl(g,d);if(b.length>2)for(var h=function(n){if(n)g.appendChild(y(n)?a.createTextNode(n):n)},i=2;i<b.length;i++){var m=b[i];
ka(m)&&!(na(m)&&m.nodeType>0)?C(bm(m)?Jb(m):m,h):h(m)}return g},cm=am,em=function(a){return dm(document,a)},dm=function(a,b){var c=a.createElement("div");c.innerHTML=b;if(c.childNodes.length==1)return c.removeChild(c.firstChild);else{for(var d=a.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d}},Sl=function(a){return a.compatMode=="CSS1Compat"},fm=function(a,b){a.appendChild(b)},gm=function(a){for(var b;b=a.firstChild;)a.removeChild(b)},hm=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,
b)},im=function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},Z=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):k},jm=function(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)},km=function(a){var b,c=a.parentNode;if(c&&c.nodeType!=11)if(a.removeNode)return a.removeNode(l);else{for(;b=a.firstChild;)c.insertBefore(b,a);return Z(a)}},mm=function(a){return lm(a.firstChild,j)},lm=function(a,b){for(;a&&a.nodeType!=1;)a=b?a.nextSibling:a.previousSibling;return a},nm=function(a,
b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},qm=function(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if("sourceIndex"in a||a.parentNode&&"sourceIndex"in a.parentNode){var c=a.nodeType==1,d=b.nodeType==1;if(c&&d)return a.sourceIndex-b.sourceIndex;else{var f=a.parentNode,g=b.parentNode;if(f==g)return om(a,
b);if(!c&&nm(f,b))return-1*pm(a,b);if(!d&&nm(g,a))return pm(b,a);return(c?a.sourceIndex:f.sourceIndex)-(d?b.sourceIndex:g.sourceIndex)}}var h=Nl(a),i,m;i=h.createRange();i.selectNode(a);i.collapse(j);m=h.createRange();m.selectNode(b);m.collapse(j);return i.compareBoundaryPoints(ba.Range.START_TO_END,m)},pm=function(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return om(d,a)},om=function(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1},rm=function(){var a,
b=arguments.length;if(b){if(b==1)return arguments[0]}else return k;var c=[],d=Infinity;for(a=0;a<b;a++){for(var f=[],g=arguments[a];g;){f.unshift(g);g=g.parentNode}c.push(f);d=Math.min(d,f.length)}var h=k;for(a=0;a<d;a++){for(var i=c[0][a],m=1;m<b;m++)if(i!=c[m][a])return h;h=i}return h},Nl=function(a){return a.nodeType==9?a:a.ownerDocument||a.document},sm=function(a){var b;return b=pe?a.document||a.contentWindow.document:a.contentDocument||a.contentWindow.document},tm=function(a,b){if("textContent"in
a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{gm(a);var c=Nl(a);a.appendChild(c.createTextNode(b))}},um=function(a){if("outerHTML"in a)return a.outerHTML;else{var b=Nl(a),c=b.createElement("div");c.appendChild(a.cloneNode(j));return c.innerHTML}},wm=function(a,b){var c=[],d=vm(a,b,c,j);return d?c[0]:undefined},xm=function(a,b){var c=[];vm(a,b,c,l);return c},vm=function(a,b,c,d){if(a!=k)for(var f=
0,g;g=a.childNodes[f];f++){if(b(g)){c.push(g);if(d)return j}if(vm(g,b,c,d))return j}return l},ym={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},zm={IMG:" ",BR:"\n"},Am=function(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){var c=a.tabIndex;return la(c)&&c>=0}return l},Bm=function(a,b){if(b)a.tabIndex=0;else a.removeAttribute("tabIndex")},Dm=function(a){var b;if(H&&"innerText"in a)b=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var c=[];Cm(a,c,j);b=c.join("")}b=b.replace(/\xAD/g,"");b=b.replace(/ +/g,
" ");if(b!=" ")b=b.replace(/^\s*/,"");return b},Em=function(a){var b=[];Cm(a,b,l);return b.join("")},Cm=function(a,b,c){if(!(a.nodeName in ym))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in zm)b.push(zm[a.nodeName]);else for(var d=a.firstChild;d;){Cm(d,b,c);d=d.nextSibling}},bm=function(a){if(a&&typeof a.length=="number")if(na(a))return typeof a.item=="function"||typeof a.item=="string";else if(ma(a))return typeof a.item=="function";
return l},Gm=function(a,b,c){var d=b?b.toUpperCase():k;return Fm(a,function(f){return(!d||f.nodeName==d)&&(!c||X.mj(f,c))},j)},Fm=function(a,b,c,d){if(!c)a=a.parentNode;for(var f=d==k,g=0;a&&(f||g<=d);){if(b(a))return a;a=a.parentNode;g++}return k},Ml=function(a){this.Sc=a||ba.document||document};q=Ml.prototype;q.L=Ol;q.M=function(){return this.Sc};q.e=function(a){return y(a)?this.Sc.getElementById(a):a};q.Ec=Ml.prototype.e;q.EE=function(a,b,c){return Ql(this.Sc,a,b,c)};q.Mha=Ml.prototype.EE;
q.Yya=function(a){return Wl(a||this.ka())};q.h=function(){return $l(this.Sc,arguments)};q.Zm=Ml.prototype.h;q.createElement=function(a){return this.Sc.createElement(a)};q.createTextNode=function(a){return this.Sc.createTextNode(a)};
q.Qi=function(a,b,c){for(var d,f=this.Sc,g=a,h=b,i=!!c,m=["<tr>"],n=0;n<h;n++)m.push(i?"<td>&nbsp;</td>":"<td></td>");m.push("</tr>");m=m.join("");var o=["<table>"];for(n=0;n<g;n++)o.push(m);o.push("</table>");var p=f.createElement("DIV");p.innerHTML=o.join("");return d=p.removeChild(p.firstChild)};q.NBa=function(a){return dm(this.Sc,a)};q.kG=function(){return Sl(this.Sc)};q.ka=function(){return this.Sc.parentWindow||this.Sc.defaultView};q.y4=function(){return Yl(this.Sc)};
q.Sl=function(){var a,b=Yl(this.Sc);return a=new oh(b.scrollLeft,b.scrollTop)};q.appendChild=fm;q.removeChildren=gm;q.QQ=hm;q.eG=im;q.removeNode=Z;q.replaceNode=jm;q.wN=km;q.P4=mm;q.contains=nm;q.M5=Nl;q.csa=xm;q.G6=Dm;var Hm="javascript:void(0)",Im={AREA:j,BASE:j,BASEFONT:j,BR:j,COL:j,FRAME:j,HR:j,IMG:j,INPUT:j,ISINDEX:j,LINK:j,META:j,PARAM:j},Jm={IMG:[{name:"alt",value:""}]},Km={c:"class"},Lm={d:k,b:k,children:k},Mm=function(a,b,c,d){this.name=a;this.attributes=b||[];this.text=c||"";this.children=d||[];this.Hka()},Nm="___FRAGMENT___";Mm.prototype.eR=function(){return this.name==Nm};var Om="___TEXT_NODE___";q=Mm.prototype;q.tG=function(){return this.name==Om};q.Td=function(){return Boolean(this.children.length)};
q.Hka=function(){var a=this.name.toUpperCase(),b=Jm[a];b&&C(b,function(c){ha(this.Qx(c.name))&&this.ae(Pm(c.name,c.value))},this)};q.HDa=function(){return!!(this.name&&this.name.toLowerCase()=="img"&&this.Qx("sprite"))};
q.IPa=function(){var a=this.Qx("src");if(a){var b=a.lastIndexOf("/");if(b!=-1)a=a.substring(b+1);b=a.lastIndexOf(".");if(b!=-1)a=a.substring(0,b);var c=this.Qx("sprite");a="knol-sprite-"+c+"-"+a;var d=this.Qx("class");if(d)d+=" "+a;else d=a;this.ae(Pm("class",d));var f=Oj();this.ae(Pm("src",f));this.removeAttribute("sprite")}};
q.ae=function(a){if(this.eR()||this.tG())e(new Error("cannot add attributes to a fragment"));if(a)if(a instanceof Qm){this.removeAttribute(a.name);this.attributes.push(a)}else e(new Error("invalid attribute specified: "+a));return this};q.removeAttribute=function(a){Hb(this.attributes,function(b){return b.name==a})};
q.Qx=function(a){if(this.eR()||this.tG())e(new Error("cannot get attributes from a fragment"));for(var b=0;b<this.attributes.length;b++)if(this.attributes[b].name==a)return this.attributes[b].value;return k};q.addElement=function(a){if(this.tG())e(new Error("cannot add elements to a text node"));if(a)if(y(a))this.children.push(K({b:Om,d:a}));else na(a)&&!ma(a)&&this.children.push(K(a))};q.P=function(){this.addElement(K({b:"br"}))};var Rm=function(){return K({b:"div",c:"knol-clearer-div"})};
Mm.prototype.na=function(){this.addElement(Rm())};Mm.prototype.w=function(){var a=[],b=this.eR()||this.tG(),c=Im[this.name.toUpperCase()];this.HDa()&&this.IPa();if(!b){a.push("<"+this.name);for(var d=0;d<this.attributes.length;d++)a.push(" "+this.attributes[d].w());c&&a.push(" /");a.push(">")}if(!c){a.push(this.xva());b||a.push("</"+this.name+">")}return a.join("")};Mm.prototype.Oh=function(){return em(this.w())};
Mm.prototype.xva=function(){var a=[];a.push(this.text);for(var b=0;b<this.children.length;b++)a.push(this.children[b].w());return a.join("")};var Sm=/^[a-zA-Z][a-zA-Z0-9\-\_\:\.]*$/,Qm=function(a,b){if(!Sm.test(a))e(new Error("illegal html attribute name: "+a+" with value: "+b));this.name=a;this.sOa(b)};Qm.prototype.sOa=function(a){if(this.kDa())if(a)this.value=this.name;else delete this.value;else this.value=Pe(a)};
var Tm=["compact","checked","declare","readonly","disabled","selected","defer","ismap","nohref","noshade","nowrap","multiple","noresize"];Qm.prototype.kDa=function(){return Bb(Tm,this.name)};Qm.prototype.w=function(){return s(this.value)?this.name+'="'+this.value+'"':""};
var Um=function(a){var b=a||new Mm(Nm);if(b instanceof Mm)return b;var c=b.children||[],d=b.b||k,f=b.d||k,g;if(d)g=new Mm(d,k,f,k);else e(new Error("cannot create an HTML element without a tag name"));for(var h in b)h in Lm||g.ae(Pm(h,b[h]));for(var i=0;i<c.length;i++){var m=k;try{m=K(c[i])}catch(n){D("knol.ui.HTML").S("could not create element from: "+Ke(c[i]),n)}g.addElement(m)}return g},K=Um,Pm=function(a,b){var c=Km[a]||a;if(c)return new Qm(c,b)},Vm=function(a,b){return Pm(a,b)},Wm=function(a,
b){var c=a||Hm,d={b:"a",href:c};if(y(b))d.d=b;else if(na(b)&&!ma(b))d.children=[K(b)];else e(new Error('cannot create inner text or children from: "'+b+'" of type "'+Cc(typeof b)+'"'));return K(d)};var Xm=function(){},Ym=l;q=Xm.prototype;q.X8=function(){return l};q.y9=function(a){return a!="gadget"};q.G4=function(){return"full"};q.Kua=function(a){var b=new Ed(document.location.href);return String(b.Pf("embed."+a))};q.dDa=function(){return this.G4()=="full"};
var $m=function(){window.jstiming.load.tick("prt");Zm(Nf(2));Of(2);Ym=j},an=function(){Zm(Nf(1));Of(1);var a=window.jstiming.load,b=fg();if(b)a.name=b;qf(a)},Zm=function(a){for(var b=D("knol.ui.Component"),c=0;c<a.length;c++){var d=a[c];try{eval(d)}catch(f){b.wa('failed to eval "'+d+'"',f)}}};q=Xm.prototype;q.create=function(){};q.write=function(a){if(!this.Pe)this.Pe=[];a&&this.Pe.push(a.toString())};q.zn=function(a,b,c,d){Gf(2,a,b,c,d)};q.Zj=function(a,b,c,d){Gf(1,a,b,c,d)};
q.K=function(a){if(a&&a instanceof Mm){if(!this.Pe)this.Pe=[];this.Pe.push(a.w())}};q.JJ=function(a,b,c,d,f){this.K(this.Zb(a,b,c,d,f))};q.Zb=function(a,b,c,d,f){if(!b||!b.length)b="Untitled";var g=Wm(a,b.toString());c&&g.ae(Pm("target",c));d&&g.ae(Pm("name",d));f&&g.ae(Pm("class",f));return g};q.Pe=k;q.T_=function(){this.Pe=[]};q.eh=function(){this.T_();this.create();return this.YDa()};q.YDa=function(){if(!this.Pe)return k;var a="",b=this.Pe.join(a);delete this.Pe;return b};
q.Pc=function(){var a=D("knol.ui.Component");if(this.y9(this.G4()))try{rk(A(function(){var c=this.eh();if(this.e())this.e().innerHTML=c;this.kw()},this))}catch(b){if(ya(String(b.javaException),"com.google.jotspot.server.ui.RedirectException"))a.F("Redirect");else{a.wa("failed to writeHTML:"+a.tb(),b);if(this.X8())e(b)}}};q.kw=function(){};var bn=function(){};F(bn,Xm);var cn=[{id:"knol-manage-page-manage-general",eo:j,yp:j},{id:"knol-manage-page-manage-events",eo:j,yp:l,Uaa:["ar"]},{id:"knol-manage-page-manage-collection",eo:j,yp:l,cba:j,GU:j},{id:"knol-manage-page-manage-owners",eo:l,yp:l,cba:j},{id:"knol-manage-page-manage-authors",eo:l,yp:l},{id:"knol-manage-page-manage-reviewers",eo:l,yp:l,GU:l},{id:"knol-manage-page-manage-unpublish",eo:l,yp:j}];
bn.prototype.create=function(){var a=K({b:"div",id:"knol-manage"});a.addElement(dn());this.write(a.w())};
var dn=function(){var a=K({b:"div"});a.addElement({b:"div",id:"knol-manage-pane"});for(var b=0;b<cn.length;b++){var c=cn[b];en(c,Uf(),Q(),Wf())&&a.addElement({b:"div",id:c.id})}return a},en=function(a,b,c,d){if(a.cba){if(!d)return l;if(!d.kg()&&!b.Ja().bi(d.p()))return l}var f=b instanceof Fl,g=f&&!!c.Vx(),h=c.fd()!=0;if(f&&(!a.yp||g))return l;if(a.GU!=undefined&&!!a.GU^h)return l;if(a.Uaa&&!Bb(a.Uaa,eg()))return l;return j},fn=function(a){var b="/"+a;return"/k/-/-"+b},gn=function(a,b){var c=Ue()+
"-/-/"+a;if(b){if(b.charAt(0)!="_")c+="_";c+=b}return c};var hn=function(a){this.yja=a||"moderated"};F(hn,Xm);
var jn=function(a){if(!a)return j;return a.pq()!=4||a.cP()=="open"},kn=function(a){if(!a)return j;return a.pq()!=4||a.cP()=="open"},ln=[{name:"open",fB:"Open collaboration",label:"Open collaboration model",Rc:"All signed in users may edit the knol",nM:"All signed in users may edit the collection",mM:"All signed in users may edit the knol or the collection",type:"open",mb:"icons/open_collaboration.png",JG:fn("si57lahl1w25/3#Open_Collaboration"),visible:jn,AH:kn},{name:"moderated",label:"Moderated collaboration model",
fB:"Moderated collaboration",Rc:"All signed in users can suggest edits to the knol, but these need approval from an author before being published",nM:"All signed in users can suggest edits and make submissions to the collection, but these need approval from an owner or a moderator before being published",mM:"All signed in users can suggest edits to the knol and make submissions to the collection, but these need approval from an owner, an author, or a moderator of the knol or the collection before being published",
type:"moderated",mb:"icons/moderated_collaboration.png",JG:fn("si57lahl1w25/3#Moderated_Collaboration"),visible:jn,AH:kn},{name:"closed",label:"Closed collaboration model",fB:"Closed collaboration",Rc:"Only owners and authors may edit the knol",nM:"Only owners and moderators may edit the collection",mM:"Only owners, authors, and moderators may edit the knol or the collection",type:"closed",mb:"icons/closed_collaboration.png",JG:fn("si57lahl1w25/3#Closed_Collaboration"),visible:jn,AH:kn},{name:"managed",
label:"Moderator-centric collection collaboration model",fB:"Moderator-centric collection collaboration",Rc:"Owners and authors of the knol can suggest edits to the knol, but these edits will need the approval by moderators of the collection it belongs to.",type:"managed",mb:"icons/closed_collaboration.png",JG:fn("si57lahl1w25/3#Managed_Collaboration"),visible:function(a){if(!a)return l;return a.pq()==4},AH:function(a){if(!a)return l;return a.pq()==4}}];
hn.prototype.create=function(){var a=K({b:"div"});a.addElement(this.Rg());this.K(a)};hn.prototype.Pc=function(){Xm.prototype.Pc.call(this)};hn.prototype.Rb=function(){Y("knol-access-badge").parentNode.innerHTML=this.Rg().w()};
hn.prototype.Rg=function(){var a=mn(this.yja);K({b:"span",c:"knol-access-badge-type",d:a.fB});return K({b:"div",id:"knol-access-badge",children:[K({b:"img",c:"knol-access-badge-icon",sprite:"main",src:Nj(a.mb)}),K({b:"span",c:"knol-access-badge-desc",children:[K({b:"span",c:"knol-access-badge-type",children:[{b:"a",href:a.JG,d:a.fB}]})]})]})};var mn=function(a){for(var b=ln,c=0;c<b.length;c++)if(a==b[c].type)return b[c];return k};var wn=function(a){this.uYa=!!a;var b=Wf();this.cYa=b&&b.Fb()};F(wn,Xm);
var xn=[{C:"title",value:1},{C:"subtitle",value:2},{C:"keywords",value:4,nGa:j},{C:"summary",value:8},{C:"author names",value:16},{C:"contents",value:32},{C:"affiliation",value:64,nGa:j},{C:"category",value:128},{C:"references",value:256}],yn=[{KD:j,C:"Search all documents",pS:"Search all authors"},{C:"Search only my documents",pS:"Search only my coauthors",UEa:j},{ZZ:j},{xa:j}],zn=[{KD:j,C:"Knols"},{C:"Reviews"},{C:"Comments"},{C:"Authors"},{C:"Knol Templates",gn:l},{C:"Review Templates",gn:j},{C:"Collections"},
{C:"Moderated collections"},{C:"Strictly knols, no collections",gn:j}],An=[{KD:j,C:"last modified",id:1},{C:"creation date",id:2},{C:"page views",id:4},{C:"alphabetical",id:8}];new Cg(1);new Cg(3);new Cg(4);new Cg(2);new Cg(5);new Cg(6);new Cg(7);
var Bn=[{C:"Calendar",value:1},{C:"Document",value:2},{C:"Picasa Slideshow",value:4},{C:"Presentation",value:8},{C:"Spreadsheet",value:16},{C:"Spreadsheet Form",value:32},{C:"Video",value:64},{C:"Equation",value:128}],Cn=[{C:"page views",value:1},{C:"unique visitors",value:2,gn:j},{C:"Comments",value:4},{C:"Reviews",value:8},{C:"Ratings",value:16,gn:l},{C:"Suggestions",value:32,gn:j},{C:"Top pick",value:64},{C:"Unique commenters",value:128,gn:j}];wn.prototype.create=function(){};
wn.prototype.Lf=function(a,b,c){var d=b||"knol-advancedsearch-description",f=K({b:"div",c:"knol-advancedsearch-query-desc",children:[{b:"div",c:d,d:a}]});c&&f.ae(Pm("id",c));return f};var Dn=function(a,b){if(s(a)){for(var c=parseInt(a,10),d=0;d<b.length;d++)if(c==b[d].id)return d;if(c>=0&&c<b.length)return c}};wn.prototype.Nxa=function(a,b,c){var d=K({b:"input",type:"text",name:a,size:30,maxlength:2E3,value:b,c:"knol-advancedsearch-input-box"});c&&d.ae(Pm("id",c));return d};
wn.prototype.xxa=function(a,b,c){if(this.YZ&&!this.Cs)this.Cs=lf(this.YZ);var d=K({b:"div",id:"knol-restrict-radio-list"});d.addElement(this.Lf("What do you want to search? "));d.P();for(var f="restrict",g=Dn(b,yn),h=0;h<yn.length;h++){var i=yn[h];if(!(i.UEa&&!Wf()))if(!(i.ZZ&&!this.Cs)){var m="knol-advancedsearch-restrict-"+h,n="knol-advancedsearch-restrict",o=s(g)?g==h:i.KD,p=i.C;if(a==3&&i.pS)p=i.pS;if(i.ZZ){var r=this.Cs.w();if(a!=3){var t="Search only documents by the author(s) of "+r;p=t}else{var v=
"Search only the author(s) of "+r;p=v}}if(i.xa){var w="url",x=c||"";r=K({b:"span",children:[this.Nxa(w,x,"knol-restrict-url")]}).w();if(a!=3){var z="Search only documents by the author(s) of this knol (enter the address of the knol): "+r;p=z}else{var E="Search only the author(s) of this knol (enter the address of the knol): "+r;p=E}}if(p){d.addElement({b:"input",type:"radio",id:m,c:n,checked:o,name:f,value:""+h});d.addElement({b:"label","for":m,d:p,c:"knol-advancedsearch-restrict"});d.na()}}}return d};var En=function(){},Fn={reverse:"reverse",VIa:"flag1",xma:"flag2",ABa:"flag3",aBa:"flag4",QC:"unpub",PC:"pub",Vaa:"onlytts",linkExact:"linkExact",Z7:"holiday08",kW:"weekly",JPa:"ssoutput",Dga:"translateFrom",collected:"collected",collections:"collections",VQa:"translation"},Gn={start:"start",ZH:"num",qi:"restrict",sort:"sort",Jba:"pubdate",t2:"editdate",L0:"createdate",jla:"op1",jc:"doctype",f$:"license",b0:"collab",$Sa:"zipitRating",ZSa:"zipitNum",hn:"authorType",Zqa:"editedstarttime",Hpa:"createdstarttime",
Xqa:"editedendtime",Fpa:"createdendtime",kla:"op2"},Hn={Vra:"lb1",Xra:"ub1",Wra:"lb2",Yra:"ub2"},In={yo:"q",YC:"back",JIa:"qexact",hT:"qor1",iT:"qor2",jT:"qor3",gT:"qneg",xa:"url",B2:"num2",language:"language",eEa:"knolId",link:"link",EH:"promo",templateId:"templateId",template:"templateUrl",locale:"locale",Yqa:"editedstart",Gpa:"createdstart",Wqa:"editedend",Epa:"createdend"};q=En.prototype;q.yo="";q.start=0;q.ZH=10;q.admin=0;q.userId="";q.groups="";q.Fx=k;q.qi=0;q.hT="";q.iT="";q.jT="";q.gT="";
q.Bs="";q.locale="";q.sort=0;q.reverse=0;q.Jba=0;q.t2=0;q.L0=0;q.jla=0;q.Vra=0;q.Xra=0;q.kla=0;q.Wra=0;q.Yra=0;q.VIa="";q.xma="";q.ABa="";q.B2="";q.language="";q.jc=0;q.f$=0;q.b0=0;q.$Sa=0;q.ZSa=0;q.aBa="";q.hn=0;q.Vaa="";q.embeds=k;q.QC=0;q.PC=1;q.GB=k;q.kW=0;q.eEa="";q.templateRestrict=0;q.link="";q.linkExact=0;q.EH="";q.templateId="";q.HKa="";q.Zna="";q.collected=0;q.collections=0;q.Vna=0;q.Nra=0;q.VQa=0;q.YC="";q.xa="";q.JIa="";q.Z7=0;q.template="";q.JPa="";q.Dga=0;q.Yqa="";q.Zqa=0;q.Wqa="";
q.Xqa=0;q.Gpa="";q.Hpa=0;q.Epa="";q.Fpa=0;var Jn=[{ea:"pageviews",Ci:j,Um:l,Ej:j,aV:0,knol:{mb:"top_viewed",C:"Top Viewed Knol Award",wj:Pk.Lg,Rc:"Award given to knols or authors that have the highest pageviews."},Af:{mb:"top_viewed",C:"Top Viewed Author Award",wj:El.Lg,Rc:"Award given to knols or authors that have the highest pageviews."}},{ea:"comments",Ci:l,Um:l,Ej:j,aV:2,knol:{mb:"water_cooler",C:"Most Discussed Award",wj:Pk.$m,Rc:"Award given to knols or authors that have the highest number of comments."},Af:{mb:"commenter",C:"Most Comments Award",
wj:El.$m,Rc:"Award given to knols or authors that have the highest number of comments."}},{ea:"reviews",Ci:l,Um:l,Ej:j,aV:3,knol:{mb:"",C:"",wj:Pk.Mg,Rc:"Award given to authors that have reviewed the highest number of knols."},Af:{mb:"top_reviewer",C:"Top Reviewer Award",wj:El.Mg,Rc:"Award given to authors that have reviewed the highest number of knols."}},{ea:"ratings",Ci:l,Um:l,Ej:j,knol:{mb:"top_rated",C:"Top Rated Award",wj:Pk.np,Rc:"Award given to knols or authors that have the highest ratings."},
Af:{mb:"top_rated",C:"Top Rated Award",wj:El.np,Rc:"Award given to knols or authors that have the highest ratings."}},{ea:"suggestions",Ci:l,Um:l,Ej:j,knol:{mb:"refined",C:"Most Suggestions Award",wj:Pk.Ch,Rc:"Award given to knols or authors that have the most collaboration going on."},Af:{mb:"editor",C:"Most Suggestions Award",wj:El.Ch,Rc:"Award given to knols or authors that have the most collaboration going on."}},{ea:"quality",Ci:j,Um:l,Ej:j,aV:6,fGa:j,knol:{mb:"quality",C:"Top Pick Knol Award",
dT:Pk.nC,cT:Pk.Ria,Rc:"Award given to knols or authors that have the highest quality of work."},Af:{mb:"quality",C:"Top Pick Author Award",dT:El.cC,cT:El.Ria,Rc:"Award given to knols or authors that have the highest quality of work."}},{ea:"risingStar",Ci:l,Um:l,Ej:l,knol:{mb:"rising_star",C:"Up and Coming Award",Rc:"Award given to knols or authors that are new and promising."},Af:{mb:"rising_star",C:"Up and Coming Award",Rc:"Award given to knols or authors that are new and promising."}},{ea:"peopleChoice",
Ci:l,Um:l,Ej:l,knol:{mb:"people_choice",C:"People's Choice Award",Rc:"Award given to knols or authors because readers repeatedly told us they deserved it."},Af:{mb:"people_choice",C:"People's Choice Award",Rc:"Award given to knols or authors because readers repeatedly told us they deserved it."}},{ea:"holiday08",Ci:j,RRa:l,Um:l,Az:["en"],Ej:l,WI:"http://knol.google.com/k/holiday-knols/holiday-crafts/qvhc9i31ndek/1",knol:{mb:"holiday08",C:"Holiday 2008",Rc:"Knols in the 2008 Knol Holiday Crafts contest."},
Af:{mb:"",C:"",Rc:"Knols in the 2008 Knol Holiday Crafts contest."}},{ea:"dummies",Ci:j,RRa:l,Um:l,Az:["en"],uD:["us"],Ej:l,WI:"http://www.google.com/landing/knolfordummies/",knol:{mb:"dummies",C:"Knols for Dummies.com",Rc:"How-to knols for our Knol for Dummies.com contest"},Af:{mb:"",C:"",Rc:"How-to knols for our Knol for Dummies.com contest"}}],Kn={holiday08:8,peopleChoice:7,risingStar:6,dummies:9,pageviews:0,quality:5},Ln=function(a){var b=Kn[a];if(ia(b)){var c=Jn[b];if(c)return c}return k},Mn=
function(a,b){if(a.WI)return a.WI;var c=Rj("system/knol/pages/Badges");return c+"#"+("badge-"+a.ea+(b?"knol":"author"))},Nn=function(a,b){return Nj("icons/"+(b?a.knol.mb:a.Af.mb)+"_badge.png")},Pn=function(a,b,c,d){var f=d||Ln(a);if(ia(f)){if(f&&f.Ci&&(!f.Az||Bb(f.Az,eg()))&&(!f.uD||Bb(f.uD,rf().toLowerCase()))){var g=Nn(f,b),h=b?f.knol.C:f.Af.C,i=Mn(f,b);if(h&&i){var m=K();m.addElement({b:"div",c:"knol-badge-item-msg-knol",children:[{b:"img",c:"knol-badge-img",sprite:"main",title:h,alt:h,src:g},
{b:"a",href:i,d:h}]});if(!c){var n=K({b:"a",href:Hm,c:"knol-author-toolbox-change",d:"Remove",id:"knol-badge-remove-"+f.ea});m.addElement(n)}m.na();return m}}}else return On(a,c);return k},Qn=function(a,b,c){if(!a)return k;var d=K({b:"div"}),f=l;if(b&&a instanceof Ok||!b&&a instanceof Dl)for(var g=0;g<Jn.length;g++){var h=Jn[g];if(h.Ej){var i;var m=a,n=b,o=h,p=c;if(!m||!(n&&m instanceof Ok)&&!(!n&&m instanceof Dl)||o.fGa&&p&&(p.qk()||p.Nx()))i=l;else{var r=0,t=n?o.knol.wj:o.Af.wj,v=n?o.knol.dT:o.Af.dT,
w=n?o.knol.cT:o.Af.cT;if(t){var x=m.m(t),z=new Mk(x);if(z){var E=z.Z5();if(E){var M=E.all||0,J=E[eg()]||0;r=J>M?J:M}}}else if(w){x=m.m(w);z=new Nk(x);if(x&&z)r=z.Eta();else if(v)r=m.m(v)}else if(v)r=m.m(v);i=r>0.99?j:l}if(i){var U=Pn(h.ea,b,j,h);if(U){f=j;d.addElement(U)}}}}if(f)return d;return k},Tn=function(a,b,c,d){var f=b.promo;if(f&&d){var g=Rn(f,d);var h=a,i=g;if(i){var m=i.promoLanguage||"",n=i.promoCountry||"",o=(!m||m==eg())&&(!n||n==rf().toLowerCase());if(o){var p=i.promoIcon||"";p=Sn(p);
var r=i.promoTooltip||"",t=i.promoUrl||"",v=t?"a":"div";p&&h.addElement({b:v,c:"knol-search-knol-info knol-search-knol-info-badges",href:t,children:[{b:"img",c:"knol-badge-small",src:p,alt:r,title:r}]})}}a=h}for(var w=0;w<Jn.length;w++){g=Jn[w];var x=l;if(g.Ej){var z=b[g.ea+"Top"];x=g.Ci&&z&&(y(z)&&(Ua(z,"all")||Ua(z,eg()))||ja(z)&&(Bb(z,"all")||Bb(z,eg())))}else{var E=f&&Ua(f,g.ea);x=g.Ci&&E&&(!g.Az||Bb(g.Az,eg()))&&(!g.uD||Bb(g.uD,rf().toLowerCase()))}if(x){var M=Nn(g,c),J=c?g.knol.C:g.Af.C;a.addElement({b:"a",
c:"knol-search-knol-info knol-search-knol-info-badges",href:Mn(g,c),children:[{b:"img",c:"knol-badge-small",sprite:"main",src:M,alt:J,title:J}]})}}return a},Sn=function(a){if(a)a+=Ua(a,"?")?"&":"?";return a},Rn=function(a,b){if(!b)return k;for(var c=ec(b),d=0,f=-1,g=0;g<c.length;g++){var h=b[c[g]],i=h.promoLabel||"",m=h.promoLanguage||"",n=h.promoCountry||"",o=n==rf().toLowerCase(),p=m==eg(),r=i==a,t=n&&!o||m&&!p||i&&!r?0:r*(o*2+p+1);if(t>d)f=g}if(f<0)return k;return b[c[f]]},On=function(a,b){var c=
jot.lib.knol.search.promotionSearch(a);if(!c)return k;var d=wd(c);if(!d)return k;var f=Rn(a,d);if(!f)return k;var g=f.promoIcon||"";g=Sn(g);var h=f.promoTooltip||"",i=f.promoUrl||"",m=f.promoName||"";if(m&&i&&g){var n=K();n.addElement({b:"div",c:"knol-badge-item-msg-knol",children:[{b:"img",c:"knol-badge-img",title:h,alt:h,src:g},{b:"a",href:i,d:m}]});if(!b){var o=K({b:"a",href:Hm,c:"knol-author-toolbox-change",d:"Remove",id:"knol-badge-remove-"+a});n.addElement(o)}return n}return k};var Un=function(a){return S.call(this,a)};Fk(Un,S,"AuthorPlonk");var Vn=function(a){return S.call(this,a)};Fk(Vn,nf,"User");Sd(Vn.prototype,vf.prototype);
var Wn={IUa:"gaiaId",$B:"admin",IX:"limitedAdmin",tw:"email",JX:"locale",gX:"enableRtl",iX:"enableTransliteration",qY:"staff",jia:"createRole",lWa:"reviewRole",sX:"groupMemberships",nX:"favoriteKnols",iK:"labelBrowser",wW:"analyticsCode",Aia:"human",KTa:"captchaAttempts",pTa:"apCompactK",Sha:"apSortK",Rha:"apCompactR",Tha:"apSortR"},Xn=function(a){var b="Blocking a user will prevent that user from commenting on, editing, or making suggestions or submissions to any knol which you own. It will also remove existing comments by this user. <br><br> You cannot block co-owners' write access to a knol you jointly own. <br><br> Blocking is permanent, but can be reversed by going to the Preferences > Blocked Users panel, and unblocking the user by name. <br><br> <a href=\""+(fn("si57lahl1w25/81")+
('">Learn more about blocking.</a> <br><br>Do you wish to block '+(a+"?")));return b},Yn=function(a){var b="The user "+(a+" is now blocked.<br><br> You can unblock users on the Preferences > Blocked Users panel.");return b},Zn=function(a){var b="Unblock "+a;return b},$n=function(a){var b="Would you like to unblock "+(a+" from your knols?");return b},ao=function(a){var b="Unable to block "+(a+(". This is normally because "+(a+(" is unblockable or "+(a+" is already blocked.")))));return b};q=Vn.prototype;
q.T=function(a){Dk(Wn,this,a);Vn.f.T.call(this,a)};q.remove=function(a){this.he();Vn.f.remove.call(this,a)};q.PL=function(){return k};q.Qh=function(a){y(a)||this.Eb("getPermissionsLevel, bad type");if(this.p()==a)return 4;return 1};q.zQa=function(a,b,c){var d=c||1,f=this.wq(),g=f.U3(a);if(g<d){if(!b){f.aCa(a);this.WMa(l)}}else f.Dra(a,d);this.GNa(f);this.LLa(xa());this.save();if(!b&&g<d){var h=new wk;h.pFa();e(h)}return j};q.ALa=function(){return l};q.u5=function(){return String(this.m(Wn.JX))};
P(Vn,Vn.prototype.u5,Wn.JX);Vn.prototype.nP=function(){return this.rb(Wn.gX,l)};P(Vn,Vn.prototype.nP,Wn.gX);Vn.prototype.uF=function(){return this.rb(Wn.iX,l)};P(Vn,Vn.prototype.uF,Wn.iX);Vn.prototype.qk=function(){return this.rb(Wn.qY,l)};P(Vn,Vn.prototype.qk,Wn.qY);Vn.prototype.WMa=function(a){this.tv(Wn.Aia,a)};Vn.prototype.kg=function(){return this.rb(Wn.$B,l)};P(Vn,Vn.prototype.kg,Wn.$B);Vn.prototype.Fb=function(){var a=this.rb(Wn.$B,l)||this.rb(Wn.IX,l);return a};P(Vn,Vn.prototype.Fb,Wn.IX);
Vn.prototype.yy=function(){return String(this.m(Wn.tw,""))};P(Vn,Vn.prototype.yy,Wn.tw);Vn.prototype.sendEmail=function(){return l};Vn.prototype.hua=function(){return this.mF(Wn.jia)||this};Vn.prototype.eva=function(){return this.m(Wn.sX,"")};P(Vn,Vn.prototype.eva,Wn.sX);Vn.prototype.xO=function(){var a=this.m(Wn.nX,"");return a&&a.length?wd(a):[]};P(Vn,Vn.prototype.xO,Wn.nX);Vn.prototype.wta=function(){return parseInt(this.m(Wn.Sha,0),10)};Vn.prototype.vta=function(){return this.rb(Wn.Rha,l)};
Vn.prototype.xta=function(){return parseInt(this.m(Wn.Tha,0),10)};Vn.prototype.NO=function(){return this.m(Wn.iK,"")};P(Vn,Vn.prototype.NO,Wn.iK);Vn.prototype.fNa=function(a){this.setProperty(Wn.iK,a)};Vn.prototype.qE=function(){return this.m(Wn.wW,"")};P(Vn,Vn.prototype.qE,Wn.wW);Vn.prototype.listUsersSites=function(){};var Ug=function(a){return S.call(this,a)};Fk(Ug,S,"Discussion");Sd(Ug.prototype,vf.prototype);Ug.prototype.Rb=function(){};Ug.prototype.uI=function(a){this.RI(Ak.qs,"<div>"+a+"</div>",j,j)};Ug.prototype.remove=function(){};Ug.prototype.removeNode=function(){};var bo={bC:"author",oK:"nodeHidden",SX:"nodeApproved",Hi:"knolMetaId"};q=Ug.prototype;q.T=function(a){Dk(bo,this,a);Ug.f.T.call(this,a)};q.Cua=function(){return Dj(this,yj.TW)};q.Twa=function(){return Dj(this,yj.$X)};
q.qI=function(a){this.setProperty(bo.oK,a)};q.rz=function(){return this.m(bo.oK)==j};P(S,Ug.prototype.rz,bo.oK);Ug.prototype.NCa=function(){return this.m(bo.SX)==j};P(S,Ug.prototype.NCa,bo.SX);Ug.prototype.ge=function(){return this.m(bo.Hi)};P(Ug,Ug.prototype.ge,bo.Hi);Ug.prototype.gea=function(a){this.setProperty(bo.Hi,a)};Ug.prototype.x4=function(){var a=this.Cua().fj();a||(a=this.Twa().fj());return a};Ug.prototype.hk=function(){return this.mF(bo.bC)};Ug.prototype.MN=function(){return this.m(bo.bC)};
P(Ug,Ug.prototype.MN,bo.bC);q=Ug.prototype;q.PCa=function(){return this.hk().kta()};q.Qh=function(a){var b=1,c=this.hk();if(c)b=Math.max(b,c.Qh(a));var d=this.x4();if(d){var f=O(d);if(f)b=Math.max(b,f.Qh(a))}return b};q.log=function(a){S.prototype.log.call(this,a);this.purgeCache()};q.purgeCache=function(){var a=this.x4();if(a){var b=O(a);b&&b.purgeCache&&b.purgeCache()}};q.fna=function(){return(this.G5()||!this.x9()&&!this.P3())&&!this.PCa()&&!this.rz()};q.addRevisionEntry=function(){return j};var co=function(){};F(co,Xm);co.prototype.create=function(){};
co.prototype.wja=function(a,b,c,d,f,g,h,i,m){var n=K({b:"a",d:"instructions for notification of copyright infringement",href:"http://www.google.com/dmca_knol.html"}),o="If you believe this content infringes upon your copyright, please see our "+(n.w()+"."),p=K({b:"div",id:"knol-report-div-"+a+"-abuse",style:c,c:b}),r="knol-report-div-"+a;if(d)r="";d?p.addElement({b:"h1",c:"knol-settings-title",d:"Report abusive content"}):p.addElement({b:"b",d:"Report abusive content"});p.P();var t=ig(),v=gn("si57lahl1w25/12",
t),w=gn("si57lahl1w25/13",t),x="Google takes abuse of its services very seriously. In the fields below, please provide us with information about the knol, collection or comment that you believe is in violation of our "+('<a href="'+v+'">'+("Terms of Service"+("</a>"+(" or "+('<a href="'+w+'">Content Policy</a>. We will investigate your report and will follow up with you if we require more information or we have additional information to share.'))))),z=K({b:"div",style:"margin:1.5em 1em;",d:x});p.addElement(z);
var E=K({b:"div",id:"error_msg"});i?E.addElement({b:"span",c:"knol-report-error",id:r+"submiterror",name:r+"submiterror",d:"There was an error in submitting the form."}):E.addElement({b:"span",c:"knol-report-error",id:r+"submiterror",name:r+"submiterror",style:"display: none",d:"There was an error in submitting the form."});g?E.addElement({b:"span",c:"knol-report-error",id:r+"typeerror",name:r+"typeerror",d:"Please select an issue."}):E.addElement({b:"span",c:"knol-report-error",id:r+"typeerror",
name:r+"typeerror",style:"display: none",d:"Please select an issue."});h?E.addElement({b:"span",c:"knol-report-error",id:r+"quotaerror",name:r+"quotaerror",d:"Sorry! you have reached your daily limit for sending abuse reports. Please try again tomorrow!"}):E.addElement({b:"span",c:"knol-report-error",id:r+"quotaerror",name:r+"quotaerror",style:"display: none",d:"Sorry! you have reached your daily limit for sending abuse reports. Please try again tomorrow!"});p.addElement(E);var M=K({b:"table",border:"0",
width:580,c:"knol-abuse-table"}),J=K({b:"tr"}),U=K({b:"td",width:"30%",c:"knol-top-aligned-td"}),R=K({b:"div",align:"right"}),N=K({b:"td"});U.addElement(R);J.addElement(U);J.addElement(N);M.addElement(J);J=K({b:"tr"});U=K({b:"td",align:"right",c:"knol-top-aligned-td"});U.addElement(K({b:"p",d:"Why are you reporting this content? This content contains:"}));N=K({b:"td",c:"knol-top-aligned-td"});N.addElement({b:"input",type:"radio",name:r+"type",id:r+"type_sexually_explicit",title:"Sexually explicit content",
value:"SEXUALLY_EXPLICIT",style:""});N.addElement({b:"span",d:"Sexually explicit content"});N.P();N.addElement({b:"input",type:"radio",name:r+"type",id:r+"type_hate_speech",title:"Violent or hateful speech",value:"HATE_SPEECH",style:""});N.addElement({b:"span",d:"Violent or hateful speech"});N.P();N.addElement({b:"input",type:"radio",name:r+"type",id:r+"type_general_abuse",title:"Objectionable or abusive content",value:"GENERAL_ABUSE",style:""});N.addElement({b:"span",d:"Objectionable or abusive content"});
N.P();N.addElement({b:"input",type:"radio",name:r+"type",id:r+"type_impersonation",title:"Content that impersonates me",value:"IMPERSONATION",style:""});N.addElement({b:"span",d:"Content that impersonates me"});N.P();N.addElement({b:"input",type:"radio",name:r+"type",id:r+"type_spam",title:"Spam or malicious code",value:"SPAM",style:""});N.addElement({b:"span",d:"Spam or malicious code"});N.P();N.addElement({b:"input",type:"radio",name:r+"type",id:r+"type_other",title:"Other (additional information required below)",
value:"OTHER",style:""});N.addElement({b:"span",d:"Other (additional information required below)"});N.P();N.P();J.addElement(U);J.addElement(N);M.addElement(J);J=K({b:"tr"});U=K({b:"td",width:"30%",c:"knol-top-aligned-td"});R=K({b:"div",align:"right"});R.addElement(K({b:"p",d:"Additional information (please be specific): "}));U.addElement(R);N=K({b:"td",c:"knol-top-aligned-td"});N.addElement({b:"textarea",type:"radio",id:r+"body",name:r+"body",cols:"45",rows:"7",style:""});J.addElement(U);J.addElement(N);
M.addElement(J);if(m){J=K({b:"tr"});U=K({b:"td",width:"30%",c:"knol-top-aligned-td"});N=K({b:"td",c:"knol-top-aligned-td"});N.addElement({b:"div",id:"knol-abuse-block-div-"+a,children:[{b:"input",type:"checkbox",name:r+"block",id:r+"block"},{b:"span",d:"Also block this user"}]});J.addElement(U);J.addElement(N);M.addElement(J)}J=K({b:"tr"});U=K({b:"td"});N=K({b:"td",c:"knol-top-aligned-td"});if(d){N.addElement({b:"input",type:"submit",c:"knol-abuse-button",value:"Send"});N.addElement({b:"input",type:"button",
onclick:"window.location='"+f+"';",c:"knol-abuse-button",value:"Cancel"})}else{N.addElement({b:"a",id:"knol-report-send-link-"+a,name:"knol-report-send-link-"+a,href:Hm,d:"Send"});N.P()}J.addElement(U);J.addElement(N);M.addElement(J);J=K({b:"tr"});U=K({b:"td"});N=K({b:"td",c:"knol-top-aligned-td"});N.P();N.addElement({b:"p",d:o});J.addElement(U);J.addElement(N);M.addElement(J);p.addElement(M);if(d){p.addElement({b:"input",type:"hidden",name:"nId",id:"nId",value:a});p.addElement({b:"input",type:"hidden",
name:"action",id:"action",value:"SUBMIT"});p.addElement({b:"input",type:"hidden",name:"jot.xtok",id:"jot.xtok"});this.zn(k,k,"knol.ui.AbuseReport.initOnLoad",[])}p.P();return p};co.prototype.pPa=function(a){var b=Y("knol-report-div-"+a+"-abuse");b.style.display=""};co.prototype.GBa=function(a){var b=Y("knol-report-div-"+a+"-abuse");b.style.display="none"};var eo=function(){Y("jot.xtok").value=Ni("jotxtok")};u("knol.ui.AbuseReport.initOnLoad",eo,void 0);var fo=function(a,b,c){if(!(a instanceof S))e(new Error("type error"));this.ub=a;this.Ir=b;this.Pj=c;if(!c)this.mi=-1};F(fo,Xm);q=fo.prototype;q.he=function(){return D("knol.ui.NodeList")};q.ub=k;q.Ir="";q.maa=l;q.Tra=l;q.Z$=1;q.aJ=0;q.mi=5;q.TOa=50;q.yj=k;q.XFa=function(){return this.maa};q.mea=function(){this.maa=j};q.create=function(){this.GSa(this.aJ,this.mi);if(this.XFa()){var a=[this.Ob(),this.ub.p(),this.Pj,"div","f7f7f7",this.Tra];this.zn(k,k,"knol.ui.client.NodeList.initPage",a)}};
q.CKa=function(){if(!this.wi)this.wi=this.Zxa()};q.VI=k;q.Zxa=function(){this.yj=Dj(this.ub,this.Ir);var a=this.yj.bv();if(a instanceof Zh)e(a);this.yj=a;var b=this.yj.Zl().ud();if(this.VI)b.sort(this.VI);else b=this.yj.sort(b);return b};
q.Ana=function(a,b,c){var d,f,g,h=function(){d=a.length;f=Math.max(b<0?d+b:b,0);g=c<0?d:Math.min(f+c,d)};h();for(var i=0;i<g;i++){var m=l;try{m=this.da(a[i])}catch(n){this.he().S("exception caught while calling isVisible on "+(a[i]&&a[i].nodeId||"(unknown node)"),n)}if(!m){a.splice(i,1);h();i--}}this.Yd=d;this.Jm=f;this.YD=g;this.Yu=g-f};
q.GSa=function(a,b){var c=this.he();this.CKa();this.Ana(this.wi,a,b);if(this.Yd>=this.Z$||this.TD){this.lw(this.wi);for(var d,f=0,g=this.Jm;g<this.YD;g++){var h=this.Pe.length,i=this.wi[g];try{this.ls(i)}catch(m){this.Pe.length=h;if(m instanceof fk)e(m);var n=m.toString();if(d!=n){d=n;c.S("failed to writeItem: "+Ke(i),m)}else f+=1}}f>0&&c.S(f+" similar warnings suppressed");this.ip(this.wi)}};q.Iha=function(a){this.K(K({b:"h3",c:this.HQa,d:a}))};q.TD=l;q.HQa=k;q.lw=function(){};q.ip=function(){};
q.ls=function(a){if(!(a instanceof Zg))e(new Error("type error"));this.write("<p>"+a.Th()+"</p>")};
q.HSa=function(){if(!this.Pj||!this.Ob()||this.mi<=0)e(new Error("Unable to write to write page links."));var a=this.Jm>0,b=this.YD<this.Yd,c=a||b,d=this.Yu>this.mi,f=c||d;f&&this.ISa();if(c){if(a){var g=Math.max(this.Jm-this.mi,0);this.write(this.uH(g,this.mi,this.X5()));this.write(this.W5())}this.write(this.Nwa(this.MPa(this.Jm+1),this.jGa(this.YD),this.UQa(this.Yd)));if(b){this.write(this.B5());this.write(this.uH(this.YD,this.mi,this.C5()))}if(this.yla()){this.write(this.r6());this.PRa?this.K(K({b:"a",
href:this.PRa(),d:this.qP()})):this.write(this.uH(0,this.Yd,this.qP()))}}else d&&this.write(this.uH(this.aJ,this.mi,this.o6(String(this.mi))));if(f){this.JSa();this.K(this.NHa([this.OHa(this.Jm,this.Yu)]));this.mea()}};q.uH=function(a,b,c){return K({b:"a",href:Hm,c:"knol-nodelist-pagination-"+this.gF(a,b),d:c}).w()};q.NHa=function(a){return K({b:"span",id:"knol-nodelist-page-key-"+this.Ob(),children:a})};q.OHa=function(a,b){return K({b:"span",c:"knol-nodelist-page-key-"+this.gF(a,b)})};
q.gF=function(a,b){return a+"_"+b};q.P5=function(a){return"_"+a};q.N_=function(a){return a.charAt(0)=="_"?a.substring(1):k};q.ISa=function(){this.write('<div class="knol-nodelist-pagination">')};q.JSa=function(){this.write("</div>")};q.Ob=function(){return""};q.Nwa=function(a,b,c){var d=a+(" - "+(b+(" of "+c)));return d};q.MPa=function(a){return K({b:"span",id:"knol-nodelist-start-"+this.Ob(),d:String(a)}).w()};q.jGa=function(a){return K({b:"span",id:"knol-nodelist-items-"+this.Ob(),d:String(a)}).w()};
q.UQa=function(a){return K({b:"span",id:"knol-nodelist-total-"+this.Ob(),d:String(a)}).w()};q.yla=function(){return this.Yd<=this.TOa};q.r6=function(){return" "};q.qP=function(){return"Show all"};q.o6=function(a){var b="Show first "+a;return b};q.X5=function(){return"<b>&#xAB;</b>"};q.W5=function(){return" "};q.C5=function(){return"<b>&#xBB;</b>"};q.B5=function(){return" "};q.da=function(){return j};q.OSa=function(a,b){this.K(this.txa(a,b))};
q.txa=function(a,b){var c=K({b:"div",style:"display: none"});c.addElement({b:"a",rel:"nofollow",c:"knol-less-important-small-link",href:Hm,d:"Remove from list",id:this.Ob()+"-"+a});this.Zj(k,k,b,[a,this.Ob()]);return c};var go=function(a,b,c){var d=b||yj.$J,f=c||"knol.ui.DiscussionView";fo.call(this,a,d,f);this.Tq=za(window.location.pathname,"/knol/Help")};F(go,fo);q=go.prototype;q.ei="knol-comment-list";q.mi=10;q.aJ=0;q.TD=j;q.Ln=function(){return Q().Pt()};q.create=function(){this.Ma=this.Ln();this.Bha();if(this.Ma){this.Eha();this.aoa();this.TSa();go.f.create.call(this)}};q.VI=function(a,b){return b.sk()-a.sk()};q.Ob=function(){return this.ei};q.lw=function(){this.write('<div id="'+this.Ob()+'">')};
q.ip=function(){this.HSa();this.write("</div>")};q.da=function(a){return ho(a)};var ho=function(a){var b=O(a.nodeId);if(!b||!b.fna())return l;return j};q=go.prototype;q.qP=function(){return this.Tq?"Show all questions":"Show all comments"};q.r6=function(){return" &#xA0; "};q.o6=function(a){var b="Show newest "+(a+" comments only"),c="Show newest "+(a+" questions only");return this.Tq?c:b};q.X5=function(){return"&#xAB; "+(this.Tq?"Newer questions":"Newer comments")};q.W5=function(){return" &#xA0; "};
q.C5=function(){return(this.Tq?"Older questions":"Older comments")+" &#xBB;"};q.B5=function(){return" &#xA0; "};
q.Bha=function(){var a="",b=Q();if(b.Pt()){this.K(K({b:"h3",id:"knol-comment-header",d:this.Tq?"Questions and Answers":"Comments"}));if(b.Kn()){a=b.Ca()?"Comments are moderated, and will not be visible until one of the owners or moderators of this collection approves.":"Comments are moderated, and will not be visible until one of the authors of this knol approves.";this.K(K({b:"p",c:"knol-comment-moderated",d:a}))}}else{a=b.Ca()?"Comments have been disabled on this collection":"Comments have been disabled on this knol";
this.K(K({b:"p",d:a}))}};
q.Eha=function(){var a=Q(),b=K({b:"div",id:"knol-comment-new",style:"display: none",c:"knol-comment knol-element-toggle-level-0 knol-comment"});b.addElement(K({b:"h4",id:"knol-comment-new-show",children:[{b:"a",href:Hm,d:this.Tq?"Ask a Question &#9660;":"Write New Comment &#9660;"}]}));b.addElement(K({b:"h4",c:"knol-element-toggle-threshold-1",style:"display: none",d:this.Tq?"Ask a Question":"Write New Comment"}));var c=K({b:"div",c:"knol-element-toggle-threshold-1",style:"display: none"});c.addElement(K({b:"div",
c:"knol-comment-new-title",children:[{b:"input",id:"knol-comment-new-title",type:"text",maxlength:250}]}));c.addElement(K({b:"div",c:"knol-comment-new-text",children:[io("knol-comment-new-text")]}));var d=K({b:"div",c:"knol-comment-new-submit"});d.addElement(K({b:"div",id:"knol-comment-new-spinner",c:"knol-spinner knol-comment-spinner goog-inline-block"}));d.addElement(K({b:"a",id:"knol-comment-new-submit",href:Hm,c:"knol-link-disabled",d:a&&a.Ca()?"Submit comment to this collection":"Submit comment to this knol"}));
c.addElement(d);b.addElement(c);this.K(b);this.K(K({b:"div",id:"knol-comment-pending-list"}))};q.TSa=function(){this.K(K({b:"div",id:"knol-comment-new-sign-in",style:"display: none",c:"knol-comment",children:[{b:"a",href:jf(),d:"Sign in to write a comment"}]}))};
q.aoa=function(){var a=Q(),b=a&&a.Ca()?"Sorry! This collection's owner(s) have blocked you from editing, making submissions, or commenting here.":"Sorry! This knol's owner(s) have blocked you from editing, making suggestions, or commenting here.";this.K(K({b:"div",style:"display: none",id:"knol-comments-not-permitted",c:"knol-comment",children:[{b:"p",d:b}]}))};var io=function(a){var b={b:"textarea",id:a,cols:"40",rows:"5"},c;if(c=k){b.c="knol-comment-lorem-ipsum";b.children=[{b:Om,d:Pe(c)}]}return K(b)};
go.prototype.ls=function(a){D("knol.ui.DiscussionView");this.K(jo(a))};var jo=function(){D("knol.ui.DiscussionView");return k};var lo=function(a){var b=Rj("Search")+"?q=incategory%3A"+Ma(ko(a)),c=Sf();if(c)b+="&back="+c;return K({b:"a",href:b,target:"_blank",c:"knol-labels-title",d:bf(a)})},ko=function(a){if(!a)return"";if(Ua(a," ")&&!Ua(a,'"'))a='"'+a+'"';return a};var mo=function(a,b){this.zo=a||"";this.ld=b};F(mo,Xm);
mo.prototype.create=function(){if(this.ld.sBa()){this.K(K({b:"span",id:"knol-label-browser-hide",children:[{b:"a",href:Hm,c:"knol-labels-deleter goog-inline-block"}]}));this.K(K({b:"div",c:"knol-label-browser-title",d:"Categories"}));this.K(K({b:"div",c:"knol-label-browser-subtitle",d:"Click individual categories to expand"}));this.K(this.qpa());this.K(K({b:"div",children:[{b:"a",c:"knol-label-browser-link",href:fn("3vd571esbn0f5/18"),d:"Learn more about categories"}]}));Gf(2,k,k,"knol.ui.client.LabelBrowser.initLabelBrowser",
[this.zo,this.ld.YE(),this.ld.nta()])}};
mo.prototype.qpa=function(){var a=K({b:"div",id:"knol-label-browser"}),b=Oj(),c=new Ed(Rj("Search"));c.fa("q",this.zo);a.addElement({b:"div",c:"goog-tree-row",children:[{b:"img",c:"goog-tree-icon goog-tree-expanded-folder-icon",src:b},{b:"a",c:"goog-tree-item-label",href:c.toString(),d:Pe(this.zo)}]});for(var d=this.ld.YE()||[],f=0;f<d.length;f++){var g=d[f][1];c.fa("q",this.zo+" incategory:"+ko(g));a.addElement({b:"div",c:"goog-tree-row",children:[{b:"img",c:f==d.length-1?"goog-tree-icon goog-tree-expand-icon goog-tree-expand-icon-l":
"goog-tree-icon goog-tree-expand-icon goog-tree-expand-icon-t",src:b},{b:"img",c:"goog-tree-icon goog-tree-collapsed-folder-icon",src:b},{b:"a",c:"goog-tree-item-label",href:c.toString(),d:Pe(g)}]})}return a};mo.prototype.da=function(){return!this.I9()&&!this.g9()};mo.prototype.lk=function(){if(this.I9())return this.Lya();if(this.g9())return this.W4();return""};var no=/(^|\s)allin(title|author|comment|owner|review|category):/;mo.prototype.I9=function(){return no.test(this.zo)};
mo.prototype.g9=function(){var a=Wf();return a instanceof Vn&&a.NO()=="hide"};mo.prototype.Lya=function(){var a=K({b:"span",c:"knol-label-browser-unsupported",d:"Category browser does not apply for special searches"});return a.w()};mo.prototype.W4=function(){var a=K({b:"a",href:Hm,id:"knol-label-browser-show",d:"&#xAB; Browse categories"});return a.w()};var oo=function(a,b,c){this.ima=a;this.Z=b;var d=c||"ffffff";if(d.charAt(0)=="#")d=d.substring(1);this.lma=d.toLowerCase()};oo.prototype.dfa=function(){return this.Z>=5};oo.prototype.C0=function(){for(var a=K({b:"span",c:"zzAggregateRating"}),b=0;b<5;b++)a.addElement({b:"img",c:"zzSmallStar",src:this.bya(this.ima-b)});return a};oo.prototype.bya=function(a){var b=a<0.25?"empty":a>=0.75?"full":"half";return"http://www.google.com/reviews/images/small_star_"+b+"-"+this.lma+".gif"};var po=function(){};
F(po,oo);var ro=function(a,b,c,d,f,g,h,i,m,n,o){b=Math.min(b,o||800);var p=K({b:"div",c:"knol-search-pagination"});i&&p.ae(Pm("id",i));var r=f+"-prev",t=f+"-next",v=f+"-link",w=f+"-curr",x=l;if(a>0){x=j;var z=Math.max(0,a-c),E=qo(d,"Previous",z,c,f,g,h,m,n);p.addElement({b:"div",c:r,children:[E]})}if(b>c){x=j;for(var M=Math.max(0,a/c-10),J=Math.min(a/c+10,b/c),U=M;U<J;U++)if(U!=a/c){E=qo(d,""+(U+1),U*c,c,f,g,h,m,n);p.addElement({b:"div",c:v,children:[E]})}else{p.addElement({b:"div",c:w,d:" "+(U+1)});i&&h&&
p.addElement({b:"span",id:i+"-current-page-start",style:"display: none",d:String(a)})}}if(a+c<b){x=j;z=Math.min(b,a+c);E=qo(d,"Next",z,c,f,g,h,m,n);p.addElement({b:"div",c:t,children:[E]})}x&&p.P();return p},qo=function(a,b,c,d,f,g,h,i,m){var n="",o="";if(i)o="_unpublish";return n=m?K({b:"a",href:a+"&"+m+"start="+c+"&"+m+"num="+d+g,c:f+"_"+c+"_"+d+o,d:b}):h?K({b:"a",href:a,c:f+"_"+c+"_"+d+o,d:b}):K({b:"a",href:a+"&start="+c+"&num="+d+g,d:b})};var so=function(){this.wfa=j};F(so,Xm);var to={},uo=function(a){return a.replace("-zipit-display-","-zipit-count-display-")};
so.prototype.create=function(){var a=[],b="",c=new po(Rf());a.push(c.C0());c.dfa()||(b="display: none");var d=[{b:"div",style:b,d:"Article rating:"}],f=[{b:"div",style:b,children:[{b:"span",id:"knol-zipit-article",children:a},{b:"span",id:"knol-zipit-count"}]}];if(this.wfa){d.push({b:"div",d:"Your rating:"});f.push({b:"div",children:[{b:"span",id:"knol-zipit-user"},{b:"div",id:"knol-zipit-user-desc"}]})}this.K(K({b:"div",c:"g-section g-tpl-33-67",id:"knol-zipit-container",children:[{b:"div",c:"g-unit g-first",
children:d},{b:"div",c:"g-unit",children:f}]}));this.Zj(k,k,"knol.getSingleton(knol.ui.client.Zipit).constructor.constructor",[])};var vo=function(){};F(vo,so);
vo.prototype.create=function(){var a=K({b:"div",id:"knol-review-zipit-container"});a.addElement({b:"div",id:"knol-review-zipit-ratings"});a.addElement({b:"span",children:[{b:"span",id:"knol-review-zipit-user-msg",d:"Did you find this review helpful?",style:"display:none"},{b:"span",id:"knol-review-zipit-user"}]});this.K(a);this.Zj(k,k,"knol.getSingleton(knol.ui.client.ReviewZipit).constructor.constructor",[])};var wo=function(a){if(a=="admin"){var b=Wf();a=b&&b.Fb()}this.Nj=!!a;this.Qb=[];this.g2=this.eGa=l};F(wo,Xm);wo.prototype.g0="knol-search-";wo.prototype.VRa=l;var xo=function(){return D("knol.ui.SearchResults")};q=wo.prototype;q.search=function(a){this.cG(a);this.Pc()};q.cG=function(a){this.hA=a;var b=new En;this.Se=b;this.setStart(a.start);this.PNa(a.wYa);b.qi=a.qi};q.zta=function(a){var b=O(a),c;return c=b?b.ij():"(Unknown)"};
q.create=function(){this.gZa&&this.RSa();var a=this.Ez&&this.Ez.eh();if(a){var b=!this.Ez.da||this.Ez.da();this.write('<div class="g-section g-tpl-25-75">');this.write('<div id="knol-search-left-side" class="g-unit g-first"');b||this.write(' style="display: none"');this.write(">");this.write(a);this.write("</div>");this.write('<div id="knol-search-contents"');b&&this.write(' class="g-unit"');this.write(">")}var c=this.Se;if(this.Cfa){if(this.$Ya){this.Qb[100]||this.Fha(j);this.K(Rm())}}else{this.write('<div class="knol-search-top">');
var d,f;if(this.e6())if(this.VRa){f=this.zta(c.nodeId);var g=f+"'s knols:";d=g}else d="My knols:";else d="Search Results:";var h=K({b:"div",c:"knol-search-results-title",d:d});this.K(h);var i=(new yo).iv(),m=K({b:"div",id:"knol-search-write-knol"});m.addElement(i);this.K(m);this.Qb[100]||this.Fha();this.write('<div id="knol-search-message"');var n=!b&&a&&this.Ez.lk&&this.Ez.lk();if(n){this.write(">");this.write(n);this.write("</div>")}else this.write(' style="display: none"></div>');if(c.YC){this.K(Rm());
this.K(mf(c.YC))}this.write("</div>")}this.K(Rm());if(this.kQa){var o=this.P6(["q","SSO"]),p=o.xa+o.fE;p+="&q="+this.kQa;var r=K({b:"a",href:p,d:this.kZa}),t="Did you mean "+(r.w()+"?");this.K(K({b:"div",c:"knol-search-promo",d:t}))}if(this.kv>0){if(this.Nj){var v=K({b:"div",c:"knol-search-selectors"});v.addElement(K({b:"a",c:"knol-fake-link",href:Hm,id:"knol-search-select-all",d:"Select all"}));v.addElement(K({b:"span",d:" "}));v.addElement(K({b:"a",c:"knol-fake-link",href:Hm,id:"knol-search-select-none",
d:"Select none"}));this.K(v)}this.write('<div id="knol-searchresults-id">');this.write("<ul>");for(var w=0;w<this.kv;w++)if(this.ld&&this.ld[w])try{this.K(this.QSa(this.ld[w]))}catch(x){xo().wa("Error writing ["+w+"]: "+x+" "+Ke(this.ld[w]))}this.write("</ul>");this.write("</div>")}else this.zfa||this.nW();if(this.Afa)this.ZYa&&this.Gha();else{this.Gha();if(!this.cZa){this.write("<br />");this.write(this.DSa().w())}this.write("<br />");this.dZa||this.write(this.zSa().w())}a&&this.write("</div></div>")};
q.exa=function(){var a=this.Se,b=this.fxa();b=b?K({b:"span",c:"knol-search-query",d:b}).w():"";if(a.EH||a.Z7&&eg()=="en"){var c=a.EH?a.EH:"holiday08",d=Ln(c),f,g,h;if(ia(d)){g=Nn(d,j);f=d.knol.C;h=Mn(d,j)}else if(c&&this.Gba)if(d=this.Gba[c]){g=Sn(d.promoIcon);f=d.promoName;h=d.promoUrl}if(f&&g&&h){var i=K({b:"a",href:h,children:[{b:"img",src:g,alt:f,c:"knol-badge-small",title:f}]});b+=" "+i.w()}}if(a.link){b+=" <i>";var m=O(a.link);b+=m&&m instanceof of?m.ha():Pe(a.link);b+="</i>"}if(a.hT)b+=" OR ("+
Pe(a.hT)+")";if(a.iT)b+=" OR ("+Pe(a.iT)+")";if(a.jT)b+=" OR ("+Pe(a.jT)+")";if(a.gT)for(var n=a.gT.split(" "),o=0;o<n.length;o++){var p=Ja(n[o]);if(p.length>0)b+=" -"+Pe(p)}if(a.jc){var r,t=zn[a.jc];if(r=t?t.C:"")b+=" "+("&lt;"+Pe(r)+"&gt;")}var v="";if(a.language){var w=jot.lib.knol.locale.getLanguageName(a.language,eg());w=w?wd(w):{};if(w.displayName)v=w.displayName}for(var x=b,z,E=[[a.Jba,"published date"],[a.t2,"edit date"],[a.L0,"creation date"],[a.language,bf(v)],[a.f$,"license"],[a.b0,"collaboration mode"],
[a.Vaa,"audio"],[a.embeds,"embeddings"],[a.GB&&!a.kW,"top stats"],[a.GB&&a.kW,"week's top stats"],[a.templateId,"template"],[a.collected,"collected"],[a.collections||a.Vna,"collections"],[a.Dga,"translation"]],M="",J=0;J<E.length;J++){var U=E[J],R=U[0];if(R&&R!="0")M+=" "+("&lt;"+Pe(U[1])+"&gt;")}z=M;b=x+z;this.bMa();var N;if(a.Bs)N=a.Bs.split(",");else if(a.qi)N=a.userId;if(N){var sa=zo(N,j);if(sa)b+=" <i>"+sa+"</i>"}b||(b="&lt;No query&gt;");if(a.collected){var Fa=this.Rya(),Gb=b+(" - "+('<a href="'+
Fa+'">Search all of Knol</a>'));b=Gb}return b};
q.Fha=function(a){var b=this.Se;this.aZa&&this.K(this.Fxa(!!b.HKa));this.YYa&&this.K(this.bua(!!b.Zna));this.zPa&&this.K(this.Yxa(this.zPa,b.sort));if(this.vXa)this.compact=l;if(this.wPa)this.K(Ao(this.wPa,undefined,this.hA||this.Se));this.K(Rm());var c=a?"":this.exa();if(this.oJ>0){var d=b.start+1,f=Math.min(b.start+b.ZH,this.oJ),g;if(c){var h="Results "+(d+("-"+(f+(" of about "+(this.oJ+(" for "+c))))));g=h}else{var i="Results "+(d+("-"+(f+(" of about "+this.oJ))));g=i}var m=K({b:"div",c:"knol-search-results-count",
d:g});this.K(m)}else{if(c){var n="No results found for "+c;g=n}else g="No results found";var o=K({b:"div",c:"knol-no-search-results",d:g});this.K(o)}if(this.bZa&&this.IXa){var p=K({b:"div",c:"knol-leaves-dropped",d:"Some results may be temporarily missing, please try again."});this.K(p)}};
q.QSa=function(a){var b=a.sys_template,c=b?za(b,"Discussion"):this.DZa,d=b?za(b,"User")||za(b,"Group"):this.CZa,f=a.umst?l:this.SRa;if(d)return this.rSa(a);if(this.TRa&&!a.publish)a=this.Kya(a);var g="/",h="";if(this.yEa)h="_blank";var i=a.title,m=120;if(this.LBa)m=50;var n=bf(i,m);if(c&&!n&&a.repliedToDiscussionTitle){var o='In reply to "'+(bf(a.repliedToDiscussionTitle,m)+'"');n=o}else if(!n)i=n="Untitled";if(f)n=i;var p=a.authorInfo||{},r=a.multiAuthorInfo,t="",v="",w="",x="",z="",E=a.id,M=a.sys_reserved_editTime,
J=this.Ij?a["timestamp"+this.Ij]:"",U=this.nfa&&this.Ij?a["chatLogModeratorTimestamp"+this.Ij]:"",R=this.nfa&&this.Ij?a["chatLogEntryTimestamp"+this.Ij]:"",N=s(a.knolContentVersionNumber)&&a.knolContentVersionNumber!=0?a.knolContentVersionNumber:1,sa=a.hasTTS,Fa=a.firstImage,Gb=!a.eifs,$a=l;if(this.Ij)$a=this.c0&&ia(this.c0[E])?this.c0[E]:a["hidden"+this.Ij]=="true";if(typeof p!=="undefined"){w=p.name;v=bf(w,100);var ce=a.author||a.knolprimaryOwner;if(ce)t="";if(p.thumbnail){var ef=window.manifest.serverBase;
x=ef+p.thumbnail}}if(!w)v=w="Anonymous";var ff="ffffff",Jg=!!a.useBackground||$a||!!N&&!a.publish&&!c&&!f,Ch="";if(Jg){ff="FFF5E5";Ch="knol-search-background";if($a){Ch+=" knol-search-hidden";ff="EEEEEE"}a.publish||(Ch+=" unpublished")}if(E)if(c){g="";g+="#comment-"+E}else g=a.titleUrl&&!this.g2&&a.publish?a.titleUrl:a.knolUrl?a.knolUrl:"";else if(f&&a.titleUrl&&!this.g2&&a.publish)g=a.titleUrl;else if(f&&a.knolUrl)g=a.knolUrl;if(!c&&g&&a["new"])g+="#edit";if(this.d0){var Kg=undefined;if(this.sXa)Kg=
this.gH;var Xk=undefined,nn=undefined;if(this.uXa)Xk=this.Se.sort;if(this.tXa)nn=this.Se.reverse;var on=this.d0,pn=Kg,mC=Xk,Fq=nn,nC=this.EZa;if(g)if(on){var Yi=new Ed(g);if(ia(nC))Yi.fa("submissionId",nC);else{Yi.fa("collectionId",on);ia(pn)&&Yi.fa("position",pn);ia(mC)&&Yi.fa("sort",mC);if(ia(Fq))y(Fq)?Yi.fa("reverse",Fq=="on"?"on":"off"):Yi.fa("reverse",Fq?"on":"off")}g=Yi.toString()}else g=g;else g=""}var qn={b:"div",d:n,c:"knol-search-knol-title"};if(!this.waa){qn.b="a";qn.href=g;qn.target=h;
if(c)qn.rel="nofollow"}var qv=K({b:"div",c:"knol-title-wrapper",children:[qn]}),rn="";if(!this.Qb[2]&&(a.snippet||c&&a["main/text"]))if(z=c?"":this.SRa?a.snippet:bf(a.snippet,125))rn=K({b:"div",c:"knol-search-knol-snippet",d:z});var Dh=K({b:"div",id:"knol-search-redirect-url-"+E,c:"knol-search-redirect-url"}),oC=jot.lib.knol.getKreeseRedirect(E);if(oC){var OL="Redirects to: "+('<span class="knol-search-redirect-url-url" id="knol-search-redirect-url-url-'+E+'">'+oC+"</span>");Dh.addElement(K({b:"span",
id:"knol-search-redirect-url-display-"+E,c:"knol-search-redirect-url-display",d:OL}));Dh.addElement(K({b:"span",id:"knol-search-redirect-url-edit-"+E,c:"knol-search-redirect-url-edit"}))}else if(a.publish){Dh.addElement(K({b:"span",id:"knol-search-redirect-url-display-"+E,c:"knol-search-redirect-url-display",d:""}));Dh.addElement(K({b:"span",id:"knol-search-redirect-url-set-"+E,c:"knol-search-redirect-url-set",d:""}))}var Lg=K({b:"div",c:"knol-search-knol-author"}),Zi;if(!this.Qb[4]){var PL=Ya(n,
15),rv="",pC="knol-search-knol-image knol-search-knol-image-sized";if(Fa&&Gb){rv=Fa+"?width=48&height=48";pC="knol-search-knol-image"}else rv=x?x:Nj("authors/thumbnail-default-48.png");Zi=K({b:"div",c:"knol-search-knol-image-c",children:[{b:"img",c:pC,src:rv,alt:PL,title:n}]})}if(v||r&&!c)if(!this.Qb[3])if(c){Lg.addElement({b:"span",d:"by",c:"knol-search-by"});Lg.addElement({b:"a",href:t,d:v,target:h})}else{var qC;(qC=r?Bo(r,undefined,this.waa||this.Yla):zo(E,undefined,this.waa||this.Yla))&&Lg.addElement({b:"span",
d:qC})}var kd=K({b:"div",c:"knol-search-knol-author"});kd=this.Hha(kd,a,!this.compact);kd=this.ASa(kd,M,N,a.publish,J,U,R);kd=this.WSa(kd,E,a.zipitRatingAvg,a.zipitRatingCount,ff);if(this.mfa)kd=this.CSa(kd,a.license);kd=this.USa(kd,sa);this.Qb[8]||(kd=Tn(kd,a,j,this.Gba));if(this.Nj&&!this.Qb[102]&&!this.Qb[6])kd=this.Aha(kd,a,!this.compact);var sn;if(this.Nj){sn=K({b:"div",c:"knol-search-cb"});var QL=undefined,RL=K({b:"input",type:"checkbox",c:"knol-search-checkbox",checked:QL,id:"knol-search-cb-"+
E});sn.addElement(RL);var sC=Wf();if(sC&&sC.Fb()){var sv=O(E);if(sv&&sv instanceof of){var tC=sv.Ja();if(tC&&tC.cR()){sn.P();sn.addElement({b:"span",style:"font-size: 0.6em",d:""})}}}}var uC="knol-search-knol";if(Ch)uC+=" "+Ch;var Qc=K({b:"div",c:uC});if(this.zZa||this.compact){Qc.addElement(qv);Zi&&Qc.addElement(Zi);Lg.Td()&&Qc.addElement(Lg);Qc.addElement(kd);rn&&Qc.addElement(rn);Dh&&Qc.addElement(Dh);Qc.na()}else if(this.LBa){var gf="knol-search-horizontal-",vC=K({b:"div",c:gf+"top"}),tn=K({b:"div",
c:gf+"left"}),Yk=K({b:"div",c:gf+"right"});vC.addElement(qv);Zi&&tn.addElement(Zi);Lg.Td()&&Yk.addElement(Lg);Yk.addElement(kd);Qc.addElement(vC);Qc.na();Qc.addElement(tn);Qc.addElement(Yk)}else{gf=this.g0;tn=K({b:"div",c:gf+"left"});var un=K({b:"div",c:gf+"mid"});Yk=K({b:"div",c:gf+"right"});Zi&&tn.addElement(Zi);un.addElement(qv);Lg.Td()&&un.addElement(Lg);rn&&un.addElement(rn);Dh&&un.addElement(Dh);Yk.addElement(kd);this.Nj&&Qc.addElement(sn);if(this.gH){var wC=K({b:"div",c:gf+"number"});this.FSa(wC,
E,this.gH++);Qc.addElement(wC)}Qc.addElement(tn);Qc.addElement(un);Qc.addElement(Yk);var Gq=K({b:"div",c:"knol-search-far-right"});if(this.kaa){var xC=K({b:"div",c:gf+"remove"});this.NSa(xC,E);Gq.addElement(xC)}if(this.iaa){var vn=K({b:"div",c:gf+"hide knol-"+($a?"hide":"show")});this.Cha(vn,E,j);Gq.addElement(vn);vn=K({b:"div",c:gf+"show knol-"+($a?"show":"hide")});this.Cha(vn,E,l);Gq.addElement(vn)}if(this.iaa||this.kaa)Qc.addElement(Gq);Qc.na()}var tv=K({b:"li",c:"knol-search-bullet"});this.jaa&&
tv.ae(Pm("id","knol-searchresults-item-"+E));tv.addElement(Qc);return tv};
q.rSa=function(a){var b=K({b:"li",c:"knol-search-bullet"}),c=K({b:"div",c:"knol-search-knol"}),d="";if(this.yEa)d="_blank";var f="",g="",h="",i="",m=a.id,n=a.sys_reserved_creationTime;if(typeof a!=="undefined"){var o=a.authName?Ja(a.authName):"",p=a.nickName?Ja(a.nickName):"";if(o&&(a.useAuth==undefined||a.useAuth||!p)){h=o;g=bf(h,100)}else if(p){h=p;g=bf(h,100)}if(!h)g=h="Anonymous";if(a.thumbnail){var r=window.manifest.serverBase;i=r+a.thumbnail}}if(m)f="";var t=K({b:"div",c:"knol-search-knol-author"}),
v,w=K({b:"div",c:"knol-search-knol-author"});if(!this.Qb[4]){var x;x=i?i:Nj("authors/thumbnail-default-48.png");var z=Ya(g,15);v=K({b:"div",c:"knol-search-knol-image-c",children:[{b:"img",c:"knol-search-knol-image knol-search-knol-image-sized",src:x,alt:z,title:g}]})}g&&t.addElement({b:"a",href:f,d:g,target:d,c:"knol-search-knol-title"});var E=a.disambiguation;E&&t.addElement({b:"div",c:"knol-search-knol-snippet",d:Pe(E)});this.Qb[6]||(w=this.Hha(w,a,!this.compact));w=this.xSa(w,n);this.Qb[8]||(w=
Tn(w,a,l,k));if(this.Nj&&!this.Qb[102]&&!this.Qb[6])w=this.Aha(w,a,!this.compact);var M=this.g0,J=K({b:"div",c:M+"left"}),U=K({b:"div",c:M+"mid"}),R=K({b:"div",c:M+"right"});v&&J.addElement(v);t.Td()&&U.addElement(t);R.addElement(w);if(this.Nj){var N=K({b:"div",c:"knol-search-cb"});c.addElement(N)}c.addElement(J);c.addElement(U);c.addElement(R);c.na();b.addElement(c);return b};
q.WSa=function(a,b,c,d,f){if(!this.Qb[5]){var g=this.Zaa||"knol-searchresults-id",h;var i=g+"-zipit-display-"+b;if(to[i])h=i+"-zipit-disambiguator-"+to[i]++;else{to[i]=1;h=i}var m=K({b:"span",c:"knol-search-knol-zipit",id:h}),n=j,o=f||"ffffff",p=new oo(Number(c)||0,Number(d)||0,o);(n=p.dfa())&&m.addElement(p.C0());var r="";this.Qb[101]||(r=K({b:"span",c:"knol-zipit-count-display",id:uo(h)}));var t=ia(this.KS)?this.KS:"knol-search-knol-info";a.addElement({b:"div",c:t,children:n?[m,r]:[]});this.compact||
a.na()}return a};q.USa=function(a,b){if(b=="TTS"&&!this.Qb[8]){var c=Nj("icons/play-tts.png");a.addElement({b:"div",c:"knol-search-knol-info knol-search-knol-info-tts",children:[{b:"img",src:c,alt:"Text to Speech",title:"Text to Speech"}]})}return a};
q.Hha=function(a,b,c){var d=b.pageviews,f=b.eventsPageviewsTotal,g=b.authorEventsPageviewTotal,h=b.comments;if(!this.Qb[6]){if(f&&f>0)d=f;else if(g&&g>0)d=g;if(d){var i=Number(d);isNaN(i)||i<10||(d=i<100?Math.floor(i/10)*10:i<1E3?Math.floor(i/100)*100:Math.floor(i/1E3)*1E3);var m=K({b:"span",c:"knol-search-knol-info-details",d:d}),n="Views: "+m.w();a.addElement({b:"div",c:"knol-search-knol-info knol-search-knol-info-pageviews",d:n});c&&a.na()}if(h){m=K({b:"span",c:"knol-search-knol-info-details",
d:h});var o="Comments: "+m.w();a.addElement({b:"div",c:"knol-search-knol-info knol-search-knol-info-comments",d:o});c&&a.na()}}return a};q.Aha=function(){return k};
q.ASa=function(a,b,c,d,f,g,h){var i="knol-search-knol-info knol-search-knol-info-edited",m="knol-search-knol-info-details";if(this.nfa){var n=(new Date(h)).getTime(),o=(new Date(g)).getTime(),p=n-o;if(p>0){a.addElement({b:"span",c:m,d:'<span class="knol-search-new">New</span> private comments'});this.compact||a.na()}}if(b)b=pf(b);if(b&&(!s(this.IU)||this.IU)){this.compact||a.na();if(c&&!this.Qb[9]){var r=K({b:"span",c:m,d:c}),t;if(d){var v="Published version: "+r.w();t=v}else{var w="Unpublished version: "+
r.w();t=w}a.addElement({b:"span",c:"knol-search-knol-info knol-search-knol-info-version",d:t});this.compact||a.na()}if(!this.Qb[7]){r=K({b:"span",c:m,d:b});var x="Edited: "+r.w();a.addElement({b:"span",c:i,d:x});this.compact||a.na()}}if(!this.Qb[10]&&f)if(f=pf(f)){r=K({b:"span",c:m,d:f});var z="Accepted: "+r.w();a.addElement({b:"span",c:i,d:z});this.compact||a.na()}return a};
q.xSa=function(a,b){if((b=pf(b))&&(!s(this.IU)||this.IU)){this.compact||a.na();if(!this.Qb[7]){var c=K({b:"span",c:"knol-search-knol-info-details",d:b}),d="Joined: "+c.w();a.addElement({b:"span",c:"knol-search-knol-info knol-search-knol-info-joined",d:d});this.compact||a.na()}}return a};q.CSa=function(a,b){if(b&&this.mfa){var c="knol-search-knol-info knol-search-knol-info-edited";if(b!=this.mfa)c+=" knol-license-different";var d=(new Co(Dg(b))).Rg();a.addElement({b:"div",c:c,children:[d]});a.na()}return a};
q.FSa=function(a,b,c){var d=this.Qb[4]&&this.Qb[3]&&this.Qb[2]?"0":"1em 0";a.ae(Pm("style","padding:"+d));var f=this.Qb[1]?"display:none":"width: 4em";a.addElement({b:"span",style:f,id:"knol-searchresults-number-"+b,c:"knol-search-item-number",d:String(c)+"."});a.addElement({b:"input",id:"knol-searchresults-numberbox-"+b,c:"knol-search-item-number-box",autocomplete:"off",value:String(c)});return a};
q.NSa=function(a,b){a.addElement({b:"a",id:"knol-searchresults-remove-"+b,href:Hm,children:[{b:"img",src:"../images/icons/delete.png",sprite:"main",alt:"Remove"}]});return a};
q.Cha=function(a,b,c){var d,f,g,h;if(c){d="Hide the knol from collection view but keep collection properties";f="Hide";g="../images/icons/hide.png";h="knol-searchresults-hide-"}else{d="Show the knol in the collection view";f="Show";g="../images/icons/show.png";h="knol-searchresults-show-"}a.addElement({b:"a",id:h+b,href:Hm,children:[{b:"img",src:g,sprite:"main",title:d,alt:f}]});return a};q.V$="Search";
q.P6=function(a){for(var b=this.V$||"Search",c=Rj(b)+"?",d=this.hA||req.args,f="",g=sc(d),h=0;h<g.length;h++){var i=g[h];Bb(a,i)||(f+="&"+i+"="+Ma(d[i]))}return{xa:c,fE:f}};q.Gha=function(){var a="",b=this.Se;a=this.RHa?{xa:this.RHa,fE:this.CYa||""}:this.QHa?{xa:Hm,fE:""}:this.P6(["num","start","SSO","show"]);this.K(ro(la(this.Lra)?this.Lra:b.start,la(this.Mra)?this.Mra:this.oJ,b.ZH,a.xa,"knol-search-knol-pagination",a.fE,this.QHa,this.BYa,!!b.QC,this.AYa,this.DYa))};
q.zSa=function(){if(this.e6())return K({b:"span"});var a=K({b:"div",c:"knol-search-promo"}),b=K({b:"span",d:"Know someone who knows something?"});a.addElement(b);a.addElement({b:"span",d:" "});a.addElement({b:"a",id:"knol-invite-new-knol-promo",href:Hm,d:"Suggest an author"});return a};
q.DSa=function(){var a=this.hA||req.args,b=this.Se||new En;if(this.ld.length<=0||ia(a.cx)||b.jc==3||b.jc==2||this.XXa)return K();var c=this.ld[0],d=c.knolUrl||"",f,g=this.Se.start+1,h=a||req.args,i=new Ed(d);i.fa("navSearch","on");i.fa("position",g||0);ia(h.qi)&&h.qi=="general"&&i.fa("fields",-1);for(var m=ec(h),n=0;n<m.length;n++){var o=m[n];if(fc(Fn,o)||fc(Gn,o)||fc(Hn,o)||fc(In,o)||ya(o,"loc")||ya(o,"embed")||ya(o,"top")||ya(o,"promo"))i.fa(o,h[o])}f=i.toString();return K({b:"div",c:"knol-search-navigation-link",
children:[{b:"a",href:f,d:"View this list one knol at a time"}]})};q.nCa=function(){var a=this.Se,b=["knol-searchresults-id","div","ffffff"];this.zn(k,k,"knol.ui.client.ZipitDisplay.initContainer",b);var c=this.hA||req.args,d=c.inviteAuthorRedirect=="1";this.zn("knol.ui.client.SearchResults",[a.yo,d],k,k);this.zn(k,k,"knol.ui.client.CreateKnol",[])};q.Pc=function(){wo.f.Pc.call(this);this.nCa()};
q.bMa=function(){var a=this.Se;if(a.Bs)a.qi=2;else{a.Bs="";if(a.qi==2||a.qi==3){var b="";if(a.qi==2)b=a.YC;else{a.qi=2;b=Sj(a.xa)||""}var c=O(b);if(c instanceof of){var d=c.Ja(),f=d.Ph().bc(),g=d.Sx().bc();f=f.concat(g);a.Bs=f.join(",")}else if(c instanceof nf)a.Bs=b}}};
var zo=function(a,b,c){var d=[];if(ja(a))for(var f=0;f<a.length;f++){var g=O(a[f]);if(g){var h=g.tb();d.push({name:h,id:a[f]})}}else if(g=O(a))if(g instanceof of){var i=g,m=i.Ja(),n=m.Ph().bc(),o=m.Sx().bc(),p=n.concat(o);for(f=0;f<p.length;f++){h="";if(f<4){var r=O(p[f]);h=r.tb()}d.push({name:h,id:p[f]})}}else if(g instanceof Vn){h=g.tb();d.push({name:h,id:a})}return Bo(d,b,c)};wo.prototype.nta=function(){return this.Nj};wo.prototype.YE=function(){return this.lYa};
wo.prototype.sBa=function(){return this.kv>0};
var Bo=function(a,b){for(var c,d=[],f=function(z){var E=z?z.name:k;if(!E&&z&&z.id){var M=O(z.id);if(M)E=M.tb()}E||(E="Anonymous");var J=bf(E,100);return"<span>"+J+"</span>"},g=Math.min(4,a.length),h=0;h<g;h++)d[h]=f(a[h]);switch(a.length){case 0:if(b)return"";else c="By authors unknown";break;case 1:if(b){var i="knols by "+d[0];c=i}else{var m="By "+d[0];c=m}break;case 2:if(b){var n="knols by "+(d[0]+(" or "+d[1]));c=n}else{var o="By "+(d[0]+(" and "+d[1]));c=o}break;case 3:if(b){var p="knols by "+
(d[0]+(", "+(d[1]+(" or "+d[2]))));c=p}else{var r="By "+(d[0]+(", "+(d[1]+(" and "+d[2]))));c=r}break;case 4:if(b){var t="knols by "+(d[0]+(", "+(d[1]+(", "+(d[2]+(", or "+d[3]))))));c=t}else{var v="By "+(d[0]+(", "+(d[1]+(", "+(d[2]+(", and "+d[3]))))));c=v}break;case 5:default:if(b){var w="knols by "+(d[0]+(", "+(d[1]+(", "+(d[2]+(", "+(d[3]+(" or other related authors ("+(""+(a.length+" authors)"))))))))));c=w}else{var x="By "+(d[0]+(", "+(d[1]+(", "+(d[2]+(", "+(d[3]+(" et al ("+(""+(a.length+
" authors)"))))))))));c=x}}return c};q=wo.prototype;q.Qb=[];q.xI=function(a){this.Qb=[];for(var b=0;b<a.length;b++)this.Qb[a[b]]=1};
q.nW=function(){var a=K({b:"div",c:"knol-empty-results-title",id:"knol-searchresults-id",d:"Suggestions:"}),b=K({b:"ul"});b.addElement({b:"li",d:"Make sure all words are spelled correctly.",c:"knol-empty-results-suggestions"});b.addElement({b:"li",d:"Try different keywords.",c:"knol-empty-results-suggestions"});b.addElement({b:"li",d:"Try more general keywords.",c:"knol-empty-results-suggestions"});a.P();a.P();a.addElement(b);this.K(a)};q.fxa=function(){return bf(this.Se.yo,2E3)};
q.setStart=function(a){a=parseInt(a,10);this.Se.start=a&&a>=0?a:0;this.eGa=this.Se.start>=30};q.PNa=function(a){a=(a=parseInt(a,10))&&a>0?a:10;a=Math.min(a,50);this.Se.ZH=a};q.e6=function(){return!ia(this.Se.qi)};
q.Yxa=function(a,b){for(var c=K({b:"div",c:"knol-authorpage-sortlabel",d:"Sort by:"}),d=An,f=Dn(b,d),g,h=d,i=f,m="knol-advancedsearch-dropdown",n=K({b:"select",name:a,id:"knol-advancedsearch-"+a,c:m}),o=Wf(),p=o&&o.Fb(),r=0;r<h.length;r++){var t=h[r],v=s(t.C)?t.C:"",w=s(i)?i==r:t.KD;if(!t.gn||p){var x=t.id||r,z=K({b:"option",value:""+x,d:v,selected:w});n.addElement(z)}}g=n;var E=K({b:"div",c:"knol-authorpage-sort"});E.addElement(c);E.addElement(g);return E};
q.Fxa=function(a){var b=K({b:"div",c:"knol-reviews-about"}),c="knol-reviews-by";b.addElement({b:"input",type:"radio",name:"knol-reviews-about-selector",id:c,value:"by",checked:a?undefined:"checked"});b.addElement({b:"label","for":c,d:"Reviews by this author"});c="knol-reviews-about";b.addElement({b:"input",type:"radio",name:"knol-reviews-about-selector",id:c,value:"about",checked:a?"checked":undefined});b.addElement({b:"label","for":c,d:"Reviews about this author's knols"});return b};
q.bua=function(a){var b=K({b:"div",c:"knol-comments-to"}),c="knol-comments-by";b.addElement({b:"input",type:"radio",name:"knol-comments-to-selector",id:c,value:"by",checked:a?undefined:"checked"});b.addElement({b:"label","for":c,d:"Comments by this author"});c="knol-comments-to";b.addElement({b:"input",type:"radio",name:"knol-comments-to-selector",id:c,value:"about",checked:a?"checked":undefined});b.addElement({b:"label","for":c,d:"Comments written to this author"});return b};
q.RSa=function(){var a=Wf();if(a&&a.Fb()){this.write('<textarea cols="120" rows="'+(this.kv+1)+'">');this.write("\n");for(var b=0;b<this.kv;b++)if(this.ld&&this.ld[b])try{this.write(this.SSa(this.ld[b]))}catch(c){xo().wa("Error writing the "+b+"th result: "+c+" "+Ke(this.ld[b]))}this.write("</textarea><br /><br />")}};
q.SSa=function(a){var b=a.authorInfo,c="";if(typeof b!=="undefined"&&b)c=b.name;var d=a.knolUrl||"";d=jot.lib.knol.getBaseUrl()+d;var f="";f+=this.jw(d);f+=this.jw(bf(a.title,undefined,j));f+=this.jw(bf(c,undefined,j));f+=this.jw(a.eventsPageviewsTotal);f+=this.jw(a.knolRQ);f+=this.jw(a.knolRS);return f+"\n"};q.jw=function(a){a=""+(a||"");var b,c=a,d=new RegExp(String(",").replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g");b=c.replace(d,"");return b+","};
q.Kya=function(a){var b="Unpublished knol";if(a["new"])b="New knol";if(a.unknown)b="Unknown knol";var c={sys_template:a.sys_template||"/system/knol/templates/Knol",id:a.id,knolUrl:a.knolUrl,title:b,publish:undefined,authorInfo:a.authorInfo,author:a.author,multiAuthorInfo:a.multiAuthorInfo,useBackground:1};if(a["new"])c["new"]=a["new"];if(this.Ij)c["hidden"+this.Ij]=a["hidden"+this.Ij];return c};
q.Rya=function(a){var b=new Ed(a||String(req.uri)),c="collected",d=b.Pwa(c);d&&d=="on"?b.zI(c,"off"):b.zI(c,"on");return bf(b.toString(),undefined,j)};var Do=function(a){wo.call(this,a)};F(Do,wo);q=Do.prototype;q.Se=k;q.V$="system/knol/pages/SearchToolkit";q.mLa=function(a,b){var c=a||req.args,d=new En;this.hA=c;var f=function(g,h,i){for(var m in g){var n=c[g[m]];if(s(n))h[m]=i(n)}};f(Fn,d,Eo);f(Gn,d,Fo);f(Hn,d,Go);f(In,d,Ho);if(s(c.pubOverride))d.PC=c.pubOverride=="true"?1:0;this.YHa(d,c);this.WHa(d,c);this.$Ha(d,c);this.ZHa(d);b||this.lLa(d,j);return d};q.lLa=function(){};
q.nW=function(){if(this.uZa){var a=K({b:"div",c:"knol-empty-results-title",id:"knol-searchresults-id",d:"Your query is too general, please restrict it.  Some suggestions: "}),b=K({b:"ul"});b.addElement({b:"li",d:"Add a word or phrase to your search.",c:"knol-empty-results-suggestions"});b.addElement({b:"li",d:"Try searching only the authors you care about by adding a url of one of their knols",c:"knol-empty-results-suggestions"});b.addElement({b:"li",d:"Try filtering results by time (within the last day)",
c:"knol-empty-results-suggestions"});a.P();a.P();a.addElement(b);this.K(a)}else wo.prototype.nW.call(this)};q.YHa=function(a,b){if(s(b.Fx))a.Fx=Fo(b.Fx);else for(var c=a.Fx=0;c<xn.length;c++){var d=b["loc"+c];if(s(d)&&d=="on")a.Fx+=parseInt(xn[c].value,10)}};q.WHa=function(a,b){if(s(b.embeds))a.embeds=Fo(b.embeds);else for(var c=a.embeds=0;c<Bn.length;c++){var d=b["embed"+c];if(s(d)&&d=="on")a.embeds+=parseInt(Bn[c].value,10)}};
q.$Ha=function(a,b){if(s(b.tops))a.GB=Fo(b.tops);else for(var c=a.GB=0;c<Cn.length;c++){var d=b["top"+c];if(s(d)&&d=="on")a.GB+=parseInt(Cn[c].value,10)}};q.ZHa=function(a){var b=a.promo;if(ia(b))a.promo=nh(b)};var Ho=function(a){return a?""+a:""},Fo=function(a){return s(a)?parseInt(a,10):0},Go=function(a){return s(a)?parseFloat(a):0},Eo=function(a){return a=="on"?1:0};
Do.prototype.aT=function(a){if(a.Nra&&a.BPa){for(var b=a.BPa.split(","),c=0;c<this.ld.length;c++){var d=this.ld[c],f=d.id;if(f){var g=sb(b,f);if(g>=0)b[g]=k}}for(c=0;c<b.length&&c<50;c++)if(f=b[c]){var h={id:f,unknown:1,knolUrl:"",multiAuthorInfo:[{id:"",name:"(Unknown)"}]};Nb(this.ld,c,0,h)}}};var Io=function(a,b){this.Ra=a;this.BG=b;this.Eaa=a.kk()<b.Vl()},Jo=[{sort:19,C:"custom"},{sort:21,C:"star ratings"},{sort:4,C:"page views"},{sort:8,C:"alphabetical"},{sort:29,C:"accepted date"},{sort:1,C:"last modified"},{sort:2,C:"creation date"}];Io.prototype.mo=function(){return!!this.BG&&this.BG.fd()!=0};
Io.prototype.opa=function(a,b,c){var d=c||"",f=K({b:"div"}),g=K({b:"div",id:"knol-collection-panel"});g.addElement({b:"span",id:"knol-collection-sort-label",d:"Sort by: "});g.addElement({b:"span",id:"knol-collection-sort-default",d:"Default sorting method:  "});for(var h=K({b:"select",id:"knol-collection-sort"+d,autocomplete:"off"}),i=s(a)?a||19:this.BG.kq(),m=0;m<Jo.length;m++){var n=Jo[m];h.addElement({b:"option",value:String(n.sort),d:n.C,selected:n.sort==i})}g.addElement(h);var o=s(b)?!!b:this.BG.jq();
g.addElement({b:"input",type:"checkbox",id:"knol-collection-reverse"+d,checked:o,autocomplete:"off"});g.addElement({b:"label","for":"knol-collection-reverse",d:"Reverse sort"});f.addElement(g);return f};
var Ko=[[],[],["The visual appearance of your knol is controlled by the collection."],["The visual appearance of your knol is controlled by the collection.","You are giving the moderators of the collection editorial access to your knol."],["<b>You are transferring control of your knol to the moderators of the collection</b>.","The visual appearance of your knol is controlled by the collection.","You are giving the moderators of the collection editorial access to your knol.","Future edits you make to this knol will be moderated by the collection moderators.  Your knol will automatically be closed to general public edits.",
"You will lose the ability to unpublish or delete your knol and must request removal from a moderator to remove your knol from the collection."]],Lo=function(a,b,c){var d=K({b:"ul",c:b||""}),f=Ko[a];if(!f)return K();for(var g=0;g<f.length;g++){var h=f[g];d.addElement({b:"li",d:h,c:c||""})}return d},Mo=function(a,b){if(!a)return K();ya(a,"http://")||(a="http://"+a);var c="Be sure to read the "+('<a href="'+a+'" target="_blank">additional guidelines</a> of this moderated collection.'),d=K({b:"div",
c:b||"",d:c});return d};var No=function(a,b){if(b.la()==2)a.Ew(b.Fn());else if(b.la()==0)a.C1([b.jO()]);else if(b.la()==1){var c=b.Fn();a.aH(a.$ra(c),c.Lf(),c.ha(),c.fk())}},Oo=function(a,b){this.Rda(a);this.zda(b);if(this.mq()&&this.Fn())this.ui(1);else if(!this.mq()&&this.Fn())this.ui(2);else if(this.mq()&&!this.Fn())this.ui(0);else e(new Error("change constructor must be provided at least the deletion or addition"))};F(Oo,vf);q=Oo.prototype;
q.T=function(a){if(a){var b=a.addition;if(b){var c=new Mh;c.T(b);this.zda(c)}var d=a.deletion;if(d){var f=new Mh;f.T(d);this.Rda(f)}this.ui(a.type);this.rMa(a.deletionPos)}};q.serialize=function(){var a={};a.addition=this.Fn()?this.Fn().serialize():k;a.deletion=this.mq()?this.mq().serialize():k;a.type=this.la();a.deletionPos=this.jO();return a};q.mq=function(){return this.deletion||k};q.Rda=function(a){if(a)this.deletion=a};q.Fn=function(){return this.addition||k};
q.zda=function(a){if(a)this.addition=a};q.la=function(){return s(this.type)?this.type:k};q.ui=function(a){this.type=a};q.jO=function(){return s(this.deletionPos)?this.deletionPos:k};q.rMa=function(a){this.deletionPos=a};var Po=function(a,b,c){this.yR=a||"";this.aM=b||0;this.EK=c||0;this.ic=[]};F(Po,vf);q=Po.prototype;q.ic=[];q.SB=0;q.aM=0;q.EK=0;q.rT="";q.HG=0;q.rA=0;q.DA=-1;q.hJ="";q.lV=0;q.content=k;q.title=k;q.vV=k;q.fJ=k;q.gV=k;q.yC=k;q.NY=k;q.vA=k;q.Vba=k;q.FA=k;q.eT=l;q.tB="";q.Tca=0;q.rl=k;q.BN=l;q.PV=l;
q.serialize=function(){var a={};a.knId=this.yR;a.changes=this.ELa();a.updated=this.SB;a.current=this.aM;a.acknowledged=this.EK;a.relative=this.rT;a.latest=this.HG;a.published=this.rA;a.resolution=this.DA;a.content=this.content;a.editable=this.sx;a.suggestionId=this.hJ;a.suggestionVersion=this.lV;a.title=this.title;a.titleSuggestion=this.vV;a.subtitle=this.fJ;a.subtitleSuggestion=this.gV;a["abstract"]=this.yC;a.abstractSuggestion=this.NY;a.references=this.vA;a.referencesSuggestion=this.Vba;a.review=
this.FA;a.publish=this.eT;a.suggestion=this.tB;a.revert=this.Tca;a.collection=this.rl;a.forceupdate=this.BN;a.updateCollection=this.PV;return a};q.ELa=function(){for(var a=[],b=0;b<this.ic.length;b++)a.push(this.ic[b].serialize());return a};
q.T=function(a){this.yR=a.knId;this.sqa(a.changes);this.SB=a.updated;this.EK=a.acknowledged;this.aM=a.current;this.rT=a.relative;this.HG=a.latest;this.rA=a.published;this.DA=a.resolution;this.content=a.content;this.sx=a.editable;this.hJ=a.suggestionId;this.lV=a.suggestionVersion;this.title=a.title;this.vV=a.titleSuggestion;this.fJ=a.subtitle;this.gV=a.subtitleSuggestion;this.yC=a["abstract"];this.vA=a.references;this.Vba=a.referencesSuggestion;this.FA=a.review;this.eT=a.publish;this.tB=a.suggestion;
this.Tca=a.revert;this.rl=a.collection;this.BN=a.forceupdate;this.PV=a.updateCollection};q.sqa=function(a){this.ic=[];for(var b=0;b<a.length;b++)this.ic.push(Qo(a[b]))};q.gBa=function(){for(var a=0;a<this.ic.length;a++)if(this.ic[a].FL)return j;return l};q.JF=function(){for(var a=0;a<this.ic.length;a++)if(!this.ic[a].iV)return j;return l};q.tQ=function(){for(var a=0;a<this.ic.length;a++)if(this.ic[a].jW)return j;return l};q.Da=function(){return this.ic.length<=0};
q.j5=function(){for(var a=0,b=0;b<this.ic.length;b++)if(this.ic[b].aE>a)a=this.ic[b].aE;return a};q.$ya=function(){for(var a=0,b=0;b<this.ic.length;b++)a|=this.ic[b].jW;return a};q.Iua=function(a){for(var b=0;b<this.ic.length;b++){var c=this.ic[b];if(c.baa==a)return c.args[0]}return k};q.B4=function(){return this.Iua(16)};q.zd=function(){};var Ro=function(a,b){this.baa=a;this.args=b||[];this.aE=0};F(Ro,vf);Ro.prototype.iV=j;Ro.prototype.FL=l;Ro.prototype.result=k;
Ro.prototype.serialize=function(){return[this.baa,this.args,this.iV,this.FL,this.result,this.aE,this.jW]};var Qo=function(a){if(a[0]==2048&&a[1]&&a[1][0]){var b=new Nh;b.T(a[1][0]);a[1][0]=b}var c=new Ro(a[0],a[1]);c.iV=a[2];c.FL=a[3];c.result=a[4];c.aE=a[5];c.jW=a[6];return c};var So={};So.he=function(){return D("knol.Featured")};So.tC=7;So.sia=10;So.kia=90;So.Qia={ar:30,it:30};So.CUa=So.tC*So.sia*3;So.rya=function(a,b){var c=new zl,d=So.n4();c.setTime(d[0].getTime());if(b)g=new yl("d",So.tC);else var f=So.hwa(a),g=new yl("d",-f);c.add(g);return c};So.KYa=function(){return 0};So.LW=3;
So.OXa=function(a){var b=Xf();if(!b||!So.A_(b,a))return l;var c=O(a),d=c.Ja(),f=O(b);if(!f.Fb()&&!f.qk()&&!f.zQa(19,j,So.LW))return l;d.IMa((new zl).getTime());var g=d.Kxa(c.kk(),c.ao());d.JMa(g[1]);d.HMa(b);d.save();d.log({event:"featureKnol",user:Xf()});jot.lib.knol.purgeCache("/k/knol/Home");return j};
So.A_=function(a,b){var c=O(b),d=c.Ja(),f=O(a);if(!f)return l;if(f.Fb())return j;if(!So.pL(d))return l;var g=d.L4();if(g){var h=d.getLanguage(),i=So.rya(h,l),m=i.getTime();if(g>m)return l}if(f.qk())return j;if(!d.Kta())return l;if(d.ec(f.p()))return l;if(f.Cxa()<=0)return l;if(f.wq().U3(19)<So.LW)return l;return j};So.hwa=function(a){return So.Qia[a]||So.kia};
So.uKa=function(a){var b=wd(a);if(!b||!b.results)e(new Error("Missing results"));return vb(b.results,function(c){var d=O(c.id);if(!d)return k;var f=d.Ja(),g=f.Tua();return g&&g>=0?O({nodeId:d.p(),version:g}):d})};So.HYa=function(a,b,c){for(var d=a.length,f=0;f<d;f++){var g=Math.floor(Math.random()*a.length),h=a[g];Eb(a,g);var i=h.Ja();if(So.pL(i))if(!(b.contains(h.p())||c.contains(i.hd())))return h}return k};
So.WXa=function(a){So.he();var b=So.n4(),c=So.esa(b[0].getTime(),b[1].getTime(),a),d=So.uKa(c);if(!d)e(new Error("Failed to find queued knols"));return So.Ema(b[0],d)};So.n4=function(){var a=new zl,b=new yl("d",So.tC),c=new zl;c.setTime(a.getTime());c.add(b);return[a,c]};
So.Ema=function(a,b){So.he();for(var c=[],d=0;d<So.tC;d++){var f=ub(b,function(g){if(!g)return l;var h=g.Ja(),i=h.L4();if(!i)return l;if(!So.pL(h))return l;var m=new zl;m.setTime(i);var n=new zl;n.setTime(a.getTime());var o=new yl("d",d);n.add(o);return n.xc(m)});c[d]=f}return c};So.SXa=function(){return""};So.pL=function(a){if(a.KE()||a.by()||!a.qL())return l;var b=O(a.hd());if(b&&b.qk())return l;return j};So.esa=function(){return""};var To={};To.Oha=1024;To.$ha=512;To.he=function(){return D("knol.Labels")};To.QXa=function(a){var b=Xf();return jot.lib.knol.labels.fetchLabels(a,b)};To.SYa=function(a,b){var c=O(a),d=c.Ja();To.he();var f=Xf();if(f&&!d.T8(f)){var g=O(f),h=1;if(g&&g.Fb())h=To.Oha;else if(d.ec(f))h=To.$ha;for(var i in b){var m=b[i]==0?0:b[i]>0?1:-1;b[i]=m*h}var n=jot.lib.knol.labels.saveLabels(a,f,b);c.purgeCache();return n}else return k};
To.saveQueryLabels=function(a,b,c){var d=Xf();return jot.lib.knol.labels.saveQueryLabels(a,d,b,c)};var Uo=function(a){this.ig=0;return al.call(this,a)};Fk(Uo,al,"Edit");Sd(Uo.prototype,vf.prototype);Uo.prototype.type=1;var Vo=function(a){this.ig=0;return al.call(this,a)};Fk(Vo,al,"EditBunch");Sd(Vo.prototype,vf.prototype);Vo.prototype.type=32;Vo.prototype.remove=function(){this.GJa(this.Gta(),2);Vo.f.remove.call(this)};Vo.prototype.Gta=function(){return Dj(this,yj.EW)};var Wo=function(a,b,c,d){xj.call(this,a,b,c,d)};F(Wo,xj);Wo.prototype.Hk=hh;Wo.prototype.sort=Fj;var Xo=function(a){return S.call(this,a)};Fk(Xo,nf,"Group");Sd(Xo.prototype,vf.prototype);q=Xo.prototype;q.T=function(a){Xo.f.T.call(this,a)};q.remove=function(){this.he();Xo.f.remove.call(this)};q.MCa=function(){return l};q.iDa=function(){return l};q.Qh=function(a){y(a)||this.Eb("bad type");if(this.MCa(a))return 4;if(this.iDa(a))return 3;return 1};new Bj(yj.YX,T,k,2,yj.pK,nf,Gj,0);new Bj(yj.xW,T,k,2,yj.SJ,nf,Gj,0);new Bj(yj.iia,T,k,2,yj.KW,nf,Lj,0);new Bj(yj.tK,T,Kj,0,k,T,k,3);new Bj(yj.DY,of,k,0,k,T,k,3);new Bj(yj.rja,T,k,0,k,T,k,3);new Bj(yj.Mg,T,Jj,0,yj.jY,T,k,1);new Bj(yj.Hia,of,k,0,k,nf,k,3);new Bj(yj.Yia,of,k,0,k,nf,k,3);new Bj(yj.Nha,Xo,Gj,0,k,Vn,k,3);new Bj(yj.Lia,al,Hj,2,yj.nY,nf,k,0);new Bj(yj.Kia,al,Hj,2,yj.fY,nf,k,0);new Bj(yj.NX,al,Hj,1,yj.pW,S,k,0);new Bj(yj.$J,Ug,Ij,1,yj.TW,S,k,0);new Bj(yj.rC,Ug,Ij,1,yj.$X,S,k,0);
new Bj(yj.Vha,Jk,k,1,yj.Uha,S,k,0);new Bj(yj.Ch,rl,Mj,0,yj.lja,T,k,1);new Bj(yj.EW,Uo,Wo,0,yj.hia,Vo,k,1);var Yo=function(){Qk.call(this,"expertise")};F(Yo,Qk);Tk(Yo);var Zo=function(){Qk.call(this,"originality")};F(Zo,Qk);Tk(Zo);var $o=function(){Qk.call(this,"useful")};F($o,Qk);Tk($o);var ap=function(){Qk.call(this,"complete")};F(ap,Qk);Tk(ap);ap.prototype.mo=function(a){return O(a).Wl().length>=1E3};var bp=function(){Qk.call(this,"readable")};F(bp,Qk);Tk(bp);bp.prototype.mo=function(a){return O(a).Wl().length>=1E3};var cp=function(){Qk.call(this,"referenced")};F(cp,Qk);Tk(cp);cp.prototype.mo=function(){return j};
var dp=function(){Qk.call(this,"constrast")};F(dp,Qk);Tk(dp);var ep=function(){Qk.call(this,"commercial")};F(ep,Qk);Tk(ep);var fp=function(){Qk.call(this,"collectionSubmission")};F(fp,Qk);Tk(fp);fp.prototype.mo=function(){return l};fp.prototype.JQ=l;var gp=function(){Qk.call(this,"feature")};F(gp,Qk);Tk(gp);gp.prototype.mo=function(a,b){return So.A_(b,a)};gp.prototype.JQ=l;var hp=function(a){this.ig=13;return al.call(this,a)};Fk(hp,al,"CollectionReviewRequest");hp.prototype.type=128;hp.prototype.yB=function(){return l};hp.prototype.Hs=function(){return l};hp.prototype.mP=function(){return this.m("reviewerEmail")};P(hp,hp.prototype.mP,"reviewerEmail");hp.prototype.Wt=function(){return this.m("locale")};P(hp,hp.prototype.Wt,"locale");hp.prototype.va=function(){return this.m("knolId")};P(hp,hp.prototype.va,"knolId");
hp.prototype.Xf=function(a){this.setProperty("knolId",a)};hp.prototype.Yta=function(){return this.m("collectionId")};P(hp,hp.prototype.Yta,"collectionId");var ip=function(a){this.ig=16;return al.call(this,a)};Fk(ip,al,"InviteFriend");al.prototype.type=64;q=ip.prototype;q.yB=function(){return l};q.Hs=function(){return l};q.mg=function(){return this.m("email")};q.gU=function(a){this.setProperty("email",a)};q.Wt=function(){return this.m("locale")};var jp=function(a){S.call(this,a)};Fk(jp,S,"KnolEvents");var kp={Be:"knolId",Hi:"knolMetaId",Lg:"pageviews"};jp.prototype.T=function(a){Dk(kp,this,a);jp.f.T.call(this,a)};jp.prototype.va=function(){return this.m(kp.Be)};P(jp,jp.prototype.va,kp.Be);jp.prototype.ge=function(){var a=this.p();return a.substring(0,a.length-7)};P(jp,jp.prototype.ge,kp.Hi);jp.prototype.Xn=function(){var a=this.mc(kp.Lg);return new Cl(a)};P(jp,jp.prototype.Xn,kp.Lg);var lp=function(a){return al.call(this,a)};F(lp,al);q=lp.prototype;q.type=2;q.Xm=function(){var a=this.Yt();if(!a||!a.ia())this.Eb("null operation");var b=a.zb();uc(b,function(c){cf.test(c)||O(c)instanceof nf||this.Eb("offer expects Author types")},this)};q.forEach=function(a){var b=this.Yt().zb();uc(b,function(c){uc(this.Kx().bc(),function(d){a(this,c,d)},this)},this)};q.remove=function(){lp.f.remove.call(this)};q.oDa=function(){return!this.z9()};q.z9=function(){return this.rb("isRequest",l)};
P(lp,lp.prototype.z9,"isRequest");lp.prototype.Yt=function(){return this.mc("map",function(){return new sg},j)};P(lp,lp.prototype.Yt,"map");lp.prototype.Hs=function(){if(!al.prototype.Hs.call(this))return l;return this.oDa()?!this.LCa():j};lp.prototype.LCa=function(){var a=this.Yt(),b=a.z(this.mg());if(b>=3)return j;return l};var mp=function(a){this.ig=5;return al.call(this,a)};Fk(mp,lp,"OfferOwnership");q=mp.prototype;q.Xm=function(){mp.f.Xm.call(this);this.forEach(function(a,b,c){var d=O(c);d instanceof T||this.Eb("cannot change ownership for non-knols.")});this.bra()&&this.Eb("cannot eliminate all owners")};q.bra=function(){for(var a=this.Kx().bc(),b=0;b<a.length;b++)if(!this.ZFa(a[b]))return j;return l};
q.ZFa=function(a){for(var b=this.Yt(),c=O({nodeId:a,type:T}),d=c.Ph().bc(),f=d.length,g=0,h=b.zb(),i=0;i<h.length;i++){var m=h[i],n=b.z(m);if(n==4){g++;this.Rr(3)}else if(sb(d,m)>=0){f--;this.Rr(3)}}return f+g};q.yB=function(){};q.send=function(a,b,c){lp.prototype.send.call(this,a,b,c)};q.mg=function(){return this.m("email")};P(mp,mp.prototype.mg,"email");mp.prototype.gU=function(a){this.setProperty("email",a)};mp.prototype.Fwa=function(){return this.m("offerLevel")};P(mp,mp.prototype.Fwa,"offerLevel");
mp.prototype.Wt=function(){return this.m("locale")};P(mp,mp.prototype.Wt,"locale");var np=function(a){this.ig=13;return al.call(this,a)};Fk(np,al,"ReviewRequest");np.prototype.type=4;np.prototype.yB=function(){};np.prototype.Hs=function(){return l};np.prototype.mP=function(){return this.m("reviewerEmail")};P(np,np.prototype.mP,"reviewerEmail");np.prototype.Wt=function(){return this.m("locale")};P(np,np.prototype.Wt,"locale");var op=function(a){this.Rr(0);this.gXa={};this.xZa=[];return al.call(this,a)};Fk(op,al,"TransactionMessage");var vj=function(a){for(var b in pp){var c=pp[b];this[c]=a[c]}this.Pg()};Fk(vj,Vn,"UserStub");var pp={AK:"stubType",TX:"nodeId",OX:"name",tw:"email"};vj.prototype.p=function(){return this[pp.TX]};vj.prototype.tb=function(){return this[pp.OX]};vj.prototype.yy=function(){return this[pp.tw]};vj.prototype.LE=function(){return j};var qp=function(a,b){this.Pb=a;this.vf=b};F(qp,Xm);qp.prototype.Pc=function(){Xm.prototype.Pc.call(this)};qp.prototype.create=function(){};var rp=function(a){this.gda=a};F(rp,Xm);rp.prototype.create=function(){};var sp=function(a){if(a){D("knol.ui.AdSense");this.D=a;this.S9=a.Tt();if(s(a)&&!(a.jd()instanceof Fl))if(this.GK=this.D.En())this.QU=this.GK.Wr()&&this.tna();if(this.QU){var b=Qf(),c=!b||!b.mta(),d;if(d=c){var f;f=l;d=!f}this.lqa=d;this.Aja=this.GK.O5();this.Ps=!this.lqa?this.WN(this.Aja,l,this.Bja):this.dPa?K({b:"div",c:"knol-box",id:"knol-adsense-pending-ad"}).w():"";this.QU=!!this.Ps}}};F(sp,Xm);sp.prototype.create=function(){this.K(this.Rg())};
sp.prototype.Rb=function(){var a=this.Rg().w(),b=Y("knol-adsense");if(a&&b)b.innerHTML=a};sp.prototype.Pc=function(){Xm.prototype.Pc.call(this)};sp.prototype.Rg=function(){if(!this.D)return k;D("knol.ui.AdSense");if(this.QU&&this.Ps){var a=K({b:"div",id:this.nSa,c:"knol-box knol-sidebar-box"}),b=K({b:"div",id:this.Ia});b.addElement(this.Ps);a.addElement(b);return a}else return k};var tp=["wikipedia.org"];q=sp.prototype;
q.tna=function(){var a=Qf();if(a&&a.ota())return j;var b;if(this.S9)b=this.S9.yF();var c={};if(b)c=wd(b);for(var d=c.site||[],f=0;f<d.length;f++){var g=d[f].siteName;if(g&&sb(tp,g)!=-1){var h=d[f].sharingFraction||0;if(h>=0.5)return l}}return j};
q.WN=function(a,b,c){var d=b||Se("adSenseSandbox")=="true";if(!a)return k;var f=a.substring(3),g=this.Sna;g=g.replace("~1",f);var h="pub-1358271515413561";g=g.replace("~2",h);var i=d?'google_adtest="on";\n':"";g=g.replace("~3",i);var m=c||"text_image";return g=g.replace(/~6/g,m)};q.dPa=j;q.Ia="knol-adsense-code";q.nSa="knol-adsense";q.Bja="text_image";q.Sna='<script type="text/javascript">\ngoogle_ad_client = "~1";\ngoogle_ad_host = "~2";\ngoogle_ad_width = 250;\ngoogle_ad_height = 250;\ngoogle_ad_format="250x250_as";\ngoogle_ad_type="~6";\ngoogle_color_border = "FFFFFF";\ngoogle_color_bg = "FFFFFF";\ngoogle_color_link = "3366CC";\ngoogle_color_url = "3366CC";\ngoogle_color_text = "54494C";\n~3<\/script>\n<script type="text/javascript"\n  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">\n<\/script>\n';var vp=function(a){var b=Wf(),c=b&&b.Fb();if(a=="author"){if(c||Sf()==Vf())up("unpub",a);c&&up("admin",a)}if(a=="knol"){b=Wf();var d=Q();if(b&&d&&(b.Fb()||d.ec(b.p())))up("unpub",a)}};u("knol.ui.FeedLinks.addPrivateFeedLinks",vp,void 0);
var up=function(a,b){var c;c=b=="author"?sj(Vf(),"getUnpublishedFeedUrl",[Pf(),a=="admin"]):sj(Rf(),"getUnpublishedFeedUrl",[]);c.k(function(d){if(d){var f,g=d,h=a,i=b,m;if(h=="public")m="Public activity feed";else if(h=="unpub")m="Private activity feed";else if(h=="admin")m="Admin activity feed";var n=K(),o=K({b:"a",id:"knol-feedlinks-rss-icon-"+h,c:"knol-feedlinks-icon-"+i,href:g}),p=Nj("icons/feed-"+h+".gif");o.addElement({b:"img",src:p,sprite:"indexed",alt:m});n.addElement(o);var r=i=="knol"?
" knol-custom-bg-link":"",t=K({b:"a",id:"knol-feedinks-rss-"+h,c:"knol-feedlinks-link"+r,href:g});t.addElement({b:"span",d:m});n.addElement(t);f=n;var v=Y("knol-feedlinks-"+b);if(v&&f){var w=cm("div");w.innerHTML=f.w();v.appendChild(w)}}})};var wp=function(a){return a.replace("knol-settings-page-","")};var xp=function(a,b,c,d){this.Cr=c;this.Dk=a.p();fo.call(this,a,b,d)};F(xp,fo);var yp=0;q=xp.prototype;q.nka=l;q.Gka=l;q.lw=function(){this.write("<div>");this.K(K({b:"h3",d:this.Cr}));this.write('<ul id="'+this.Ob()+'">')};q.ip=function(){this.write("</ul>");this.write("</div>")};q.Ob=function(){return k};q.Ay=function(){return k};q.l$=function(){return k};
q.ls=function(a){var b=this.Ay(a.nodeId),c=this.l$();this.write("<li"+(b?' id="'+b+'"':"")+(c?' class="'+c+'"':"")+">");var d="knol-author-index-"+yp++;this.write('<div class="knol-author '+d+'">');this.sSa(a);this.write('<div class="knol-author-desc">');this.qSa(a);this.zha(a);this.nka&&this.ySa(a.nodeId);this.Gka&&this.OSa(a.nodeId,"knol.ui.client.AuthorListHelper.setupRemoveLinks");this.write("</div>");this.K(Rm());this.write("</div>");this.write("</li>")};q.zha=function(){};
q.sSa=function(a){var b=a.kj();b||(b=Nj("authors/thumbnail-default-48.png"));var c=a.Rx(),d=a.tb(),f=K({b:"img",src:b,c:"knol-author-image",alt:d,id:"knol-author-image-"+a.nodeId});this.JJ(c,f.w(),this.dL);if(!cf.test(a.nodeId)){var g=W("knol.ui.AuthorList.getThumbnailItemFromId",[a.nodeId]);g.k(A(function(h){var i=Y("knol-author-image-"+a.nodeId);if(i&&h)i.src=h},this))}};q.dL="";
q.qSa=function(a){var b=a.Rx();this.write('<div class="knol-author-name">');var c=bf(a.tb(),100);this.JJ(b,c,this.dL);this.write("</div>");var d=a.Jn();if(d){d=ub(d,function(h){return!!h});var f=d.join(", ");f=bf(f,250);this.K(K({b:"div",c:"knol-author-disambiguation",d:f}))}var g=a.M3();g&&this.K(K({b:"div",style:"display: none",c:"knol-author-profile-wrapper",children:[{b:"div",c:"knol-author-profile-badge-border-top"},{b:"a",c:"knol-author-profile-link",href:gn("3vd571esbn0f5/1",hg()),title:"This author's name has been verified. Click on the badge to learn more",
d:"Verified"},{b:"div",c:"knol-author-profile-badge-border-bottom"}]}))};q.ySa=function(a){var b=O(this.Dk),c=b&&b instanceof T&&b.Ca(),d=K({b:"div",c:"knol-author-list-invite",style:"display: none"});d.addElement({b:"a",c:"knol-less-important-small-link",href:"#manage-authors-"+jot.lib.knol.encodeInvitation(a,this.Dk),d:c?"Invite as moderator":"Invite as author"});this.K(d);if(!this.GOa){this.GOa=j;this.Zj(k,k,"knol.ui.client.AuthorListHelper.setupInviteLinks",[this.Ob()])}};
q.VI=function(a,b){return a.sE()-b.sE()};var zp=function(){this.Yz="No items in this list."};F(zp,Xm);q=zp.prototype;q.create=function(){var a=K({b:"div",c:"knol-author-list-wrapper"}),b=eg(),c=this.rca(this.LN(b,0),1,a,10),d=0;if(c<10&&b!="en")d=this.rca(this.LN("en",0),c+1,a,10-c);c+d==0&&a.addElement(K({b:"div",c:"knol-author-list-infomessage",d:this.Yz}));this.K(a)};q.LN=function(){return[]};q.a3=function(){return{name:"",bioUri:"",occupation:"",location_:"",rankDifference:"",rankDiffType:0,thumbnailUrl:""}};
q.rca=function(a,b,c,d){if(!a)return 0;for(var f=0,g=0;g<a.length;g++){if(d)if(f>=d)break;this.TJa(a[g],f+b,c)&&++f}return f};
q.TJa=function(a,b,c){var d=this.a3(a);if(!d)return l;var f=K({b:"div",c:"knol-author-list-entry"});f.addElement(K({b:"span",c:"knol-author-list-rank",d:b}));var g=K({b:"span",c:"knol-author-list-midcolumn"}),h=K({b:"div",c:"knol-author-list-name",d:d.name});if(d.bioUri){var i=K({b:"a",href:d.bioUri});i.addElement(h);g.addElement(i)}else g.addElement(h);g.addElement(K({b:"div",c:"knol-author-list-occupation",d:d.occupation}));g.addElement(K({b:"div",c:"knol-author-list-location",d:d.location_}));
f.addElement(g);var m,n=d.rankDiffType;switch(n){case -1:m="localized/kr/icons/down.gif";break;case 0:m="localized/kr/icons/not-changed.gif";break;case 1:m="localized/kr/icons/up.gif";break}var o=K({b:"span",children:[n!=2?{b:"img",c:"knol-author-list-rdimage",src:Nj(m)}:{},{b:"span",d:d.rankDifference+""}],c:n!=2?"knol-author-list-rankdifference":"knol-author-list-new"}),p=K({b:"table",c:"knol-author-list-picwrapper",children:[{b:"tr",children:[{b:"td",c:"knol-author-list-td1",children:[{b:"img",
c:"knol-author-list-thumbnail",src:d.thumbnailUrl}]},{b:"td",children:[o]}]}]});f.addElement(p);f.na();c.addElement(f);return j};var Ap=function(a){this.Ee=a};F(Ap,Xm);var Bp=[{id:"knol-author-page-knols",C:"Knols",jc:8,hn:undefined,gw:l},{id:"knol-author-page-collections",C:"Collections",jc:6,hn:undefined,gw:l},{id:"knol-author-page-reviews",C:"Reviews",jc:1,hn:undefined,gw:l},{id:"knol-author-page-comments",C:"Comments",jc:2,hn:undefined,gw:l},{id:"knol-author-page-collaborators",C:"Collaborators",jc:3,hn:0,gw:j},{id:"knol-author-page-translations",C:"Translations",jc:0,hn:undefined,gw:l,i2:j,FZa:j}];
Ap.prototype.create=function(){this.wqa();this.K(K({b:"div",id:"knol-author-page-tabs"}));this.MJa();for(var a=0;a<Bp.length;a++)this.iKa(Bp[a]);this.K(K({b:"div",id:"knol-author-page-favorites"}))};Ap.prototype.wqa=function(){if(this.Ee&&this.Ee.Nx())Cp.index=l};Ap.prototype.MJa=function(){};
Ap.prototype.iKa=function(a){if(!a.i2){this.write('<div id="'+a.id+'" style="display: none">');var b=Wf(),c=l,d=this.Ee?this.Ee.p():"";a.jc==2&&b&&b.p()==d;if(a.jc!=3)if(a.jc==0||a.jc==8||a.jc==6||a.jc==1)if(b){var f=K({b:"div",id:"knol-author-redirect-blurb-"+a.jc,c:"knol-author-redirect-blurb"}),g=K({b:"div",d:"You can set a public redirect for each published knol. This will send readers to the URL you specify. "}),h=K({b:"a",href:"https://knol-redirects.appspot.com/about.html",d:"Learn more"}),
i=K({b:"div",style:"padding-top: 0.5em;",d:"<b>Note: </b> You can only set public redirects for published knols"}),m=K({b:"div",style:"padding-top: 0.5em;",d:"<b>Warning: </b> Setting a dredirect will prevent anyone (including you) from accessing that knol. Any co-author or co-owner can delete redirects once they are set and re-enable access to the knol."});f.addElement(g);f.addElement(h);f.addElement(i);f.addElement(m);this.write(f.w());(c=a.jc==1)&&b.vta();c?b.xta():b.wta()}b&&b.p()==d;var n;this.Ee.p();
this.Ee.jk();n="";this.write(n);this.zn(k,k,"knol.ui.client.ZipitDisplay.initContainer",[a.id,"div","#fff"]);this.write("</div>")}};var Dp=function(a){this.Ee=a};F(Dp,Xm);q=Dp.prototype;q.create=function(){var a=this.Ee?this.Ee.Ft():k;if(a&&!a.R4()&&!a.S4()){this.UJa();this.RJa();this.WOa()&&this.SJa()}};q.WOa=function(){var a=this.Ee.C3();return a!=0||l};q.SJa=function(){var a=K({b:"div",id:"knol-author-stats-section",c:"knol-box knol-sidebar-box"});a.addElement({b:"h3",d:"Author's statistics"});a.addElement("Author since: ");a.P();var b=this.Ee.C3();if(b){a.addElement("Last active: ");a.P()}this.K(a)};
q.RJa=function(){var a=this.Ee.aza()||[],b=this.Ee.Ova();if(!Bb(a,b)){var c=this.Ee.jva();if(c){var d=c.Ja();if(d.qL()){var f=Rj("system/app/images/favicon.png",j),g={url:b,title:"My bio",favicon:f};Nb(a,0,0,g)}}}this.write('<div id="knol-author-page-favorites-short" class="knol-author-page-links" style="display: none;"> </div>');this.K(Rm());if(a.length>0){this.write('<div id="knol-pivot-sections" class="knol-author-page-links">');this.write('<div class="knol-sidebar">');this.write("<h3>"+this.Ee.ij()+
" "+Pe("on the web")+"</h3>");C(a,function(h){this.Zb(h)},this);this.write("</div>");this.write("</div>")}};q.Zb=function(a){var b=K({b:"div"}),c=(new Ed(a.url)).toString(),d=bf(a.title||a.url,250),f=a.favicon||"http://www.google.com/s2/favicons?domain_url="+escape(c);b.addElement({b:"img",c:"knol-author-page-links-favicon",src:f,alt:""});b.addElement({b:"a",c:"knol-author-page-links-link",href:c,d:d,rel:"me"});this.K(b)};
q.UJa=function(){var a=K({b:"div",id:"knol-author-award-section",c:"knol-sidebar knol-author-page-links"});a.addElement({b:"h3",d:"Author's awards"});var b=this.Ee.Ft(),c=Qn(b,l,this.Ee);if(c){a.addElement(c);this.K(a)}};var Ep=function(a){if(!a.Kg)return l;var b=a.uk();if(b.ih()&&b.Lu(b.Ne()))return j;return l},Fp=function(a){if(!a.Kg)return l;var b=a.uk();if(b.ih()&&!b.Lu(b.Ne()))return j;return l},Gp=function(a){if(!a.Kg)return l;var b=a.uk();if(b.ih()||b.Dr==-1)return l;return j},Hp=function(a){if(!a.Kg||a.kh)return l;var b=a.uk();if(b.ih()||b.Dr==-2)return l;return j};var Co=function(a){if(!a)e(new Error("License type is not specified."));this.dr=a};F(Co,Xm);Co.prototype.create=function(){var a=K({b:"div"});a.addElement(this.Rg());this.K(a)};Co.prototype.Pc=function(){Xm.prototype.Pc.call(this)};Co.prototype.Rb=function(){Y("knol-license").parentNode.innerHTML=this.Rg().w()};
Co.prototype.Rg=function(){var a=this.dr.toString(),b=Nj("license/"+a+".png"),c=this.dr.q5(),d=this.dr.r5(),f;return f=d?K({b:"div",id:"knol-license",children:[{b:"img",id:"knol-license-icon",alt:"",src:b,sprite:"main"},{b:"a",href:d,d:c}]}):K({b:"div",id:"knol-license",children:[{b:"img",id:"knol-license-icon",alt:"",src:b,sprite:"main"},{b:"span",d:c}]})};var Ip=function(a,b){this.dc(a,b)};F(Ip,Xm);q=Ip.prototype;q.dc=function(a,b){var c=a?a:Sf();if(b){var d=parseInt(b,10);if(la(d)&&d>0){var f=O(c).Ja(),g=parseInt(f.t0(d),10);if(la(g)&&g>0)this.Ra=O({nodeId:c,version:g})}}else this.Ra=O(c);if(this.Ra){this.D=this.Ra.Ja();this.FK=this.FD=this.Ra.kk();this.IG=this.D.Vl();this.Dr=this.D.pg()}};q.zja=function(a){var b=this.FK;this.FK=a;return a-b};q.create=function(){this.K(this.createElement())};
q.Rb=function(){Y("knol-last-edit-version-info").innerHTML=this.createElement().w()};
q.createElement=function(){var a=this.Ra,b=this.Ne(),c=K({b:"div",id:"knol-last-edit-version-info"}),d=K({b:"div",c:"knol-last-edit-version-info-cls"});d.addElement("Version: ");d.addElement(b+"");c.addElement(d);var f=a.rxa(),g=K({b:"div",c:"knol-last-edit-version-info-cls"});g.addElement(" Last edited: ");g.addElement(" "+f);g.addElement(".");var h=K({b:"a",href:"#revisions",id:"knol-menu-item-revisions",c:"knol-author-toolbox-change",d:"Versions"});c.addElement(h);c.addElement(g);return c};
q.rz=function(){return this.D.pg()==-2};q.ih=function(){return this.Ne()<this.IG};q.Lu=function(a){return a?this.UDa(a):this.Dr!=-1&&this.Ne()>this.Pua()};q.UDa=function(a){var b=this.D.Y5();return!b.z(a)};q.Pua=function(){var a=this.IG,b=this.Dr;if(b==-1)b=a;return b};q.Ne=function(){return this.FD};q.FN=function(){return this.FK};q.j9=function(){return this.D.Ca()};var Jp=function(a,b,c,d,f){this.qc=a;this.Li=b;this.La=c;this.vf=Th.test(String(d))?d:"";this.Di=f;this.Ra=O(this.qc);this.D=this.Ra.Ja();this.Xa=this.D.Ca();this.Pb=this.D.p();this.J=O(this.La);var g=this.D.hf();this.gDa=this.J&&this.J.Fb();this.oBa=this.J&&(this.J.kg()||this.D.bi(this.La));this.J7=this.J&&(this.J.kg()||this.D.ec(this.La));this.eBa=this.D.ek(this.J,10)==4;this.n9=g=="moderated"||g=="managed";this.pna=this.oBa||this.J7||this.n9||this.vf;this.TCa=(this.ke=this.Ra instanceof Fl)&&!!this.D.Vx();
this.lZa=this.LXa=0;this.nma=[];this.bBa=this.J&&(this.gDa||this.D.ec(this.La))};F(Jp,Xm);q=Jp.prototype;q.create=function(){if(!this.TCa){var a=K({b:"div",id:"knol-author-toolbox-container"});a.addElement(this.Rg(j));this.K(a)}};q.Rb=function(a,b){var c=Y("knol-author-toolbox-container");if(c&&(a||this.pna)){var d=W("knol.ui.AuthorToolbox.refreshElement",[this.qc,this.Li,this.La,this.vf,this.Di]);d.k(function(f){var g=f[0],h=f[1];c.innerHTML=g;b&&b.call(k,h)},this)}};
q.vCa=function(){this.R={};this.R.knol=this.Ra;this.R.user=O(this.La);this.R.Qe=this.D;this.R.a8=this.R.Qe.FO();this.R.$e=this.R.Qe.bi(this.La);this.R.Kg=this.R.Qe.ec(this.La);this.R.uk=Kp;if(this.R.user&&this.R.user.kg()){this.R.$e=j;this.R.Kg=j}if(!Sf()){Cf.knolId=this.qc;var a=this.D.p();Cf.knolMetaId=a;Cf.authorId=this.Li}};
q.Rg=function(a){var b=Kp(),c=a||!this.J7,d=a||!this.eBa,f=K({b:"div",c:"knol-box knol-author-toolbox-box "+(c?"knol-author-toolbox-public":"knol-author-toolbox-private")});f.addElement(this.ESa(c));f.addElement(this.PSa(a));c||f.addElement(this.LSa());b.ih()||this.Tka(f,a);f.addElement(this.wSa(d));f.addElement(this.MSa(d));f.addElement(this.vSa(d));f.na();f.addElement(this.BSa(d));f.na();f.addElement(this.tSa(d));f.na();var g=this.uSa(a||!this.bBa);if(g){f.addElement(g);f.na()}f.addElement(this.oW(c));
f.na();return f};q.ESa=function(a){if(!a&&!this.ke){var b=Kp();if(b.Ne()==1&&!b.ih()){var c=K({b:"div",c:"knol-toolbox-message"});c.addElement({b:"div",c:"knol-toolbox-message-title",d:this.Xa?"Welcome to your new collection":"Welcome to your new knol"});return c}}return""};q.PSa=function(a){var b="";if(this.vf)if(req.user){if(!a){b=K({b:"div",c:"knol-author-toolbox-container",id:"knol-author-toolbox-response"});var c=k;c&&b.addElement(c)}}else kf(this.Ra.ha(undefined,req.args));return b};
q.Tka=function(a,b){b||this.n9&&this.Uka(a)};q.Uka=function(a){var b=this.D.kya(this.La),c=this.D.hya(this.La);if(b||!c.Da()){var d=K({b:"div",c:"knol-author-toolbox-container"});d.addElement({b:"span",c:"knol-author-toolbox-item",d:"Your version is pending"});d.addElement({b:"a",c:"knol-author-toolbox-change",href:"#edit",d:"Edit"});a.addElement(d);a.na();a.addElement(this.Aua())}};
var Kp=function(){return G(Lp)},Mp=function(a,b){var c=Kp(),d,f;if(c.ih())if(c.Lu(b)){d="This old version is unpublished.";f=Nj("icons/not_published.png")}else{d="This old version is published.";f=Nj("icons/published.png")}else if(c.Lu()){d=c.j9()?"This collection is unpublished.":"This knol is unpublished.";f=Nj("icons/not_published.png")}else{d=c.j9()?"This collection is published.":"This knol is published.";f=Nj("icons/published.png")}var g=[K({b:"img",src:f,sprite:"main",c:"knol-author-toolbox-icon"})],
h=[K({b:"span",id:"knol-author-toolbox-publish-sub",c:"knol-author-toolbox-view",d:d})];g.push(K({b:"div",children:h}));return g};q=Jp.prototype;
q.wSa=function(a){if(this.D.Ca()){var b="",c="";switch(this.D.fd()){case 2:b="Author-centric collection";c="icons/author-centric-collection.png";break;case 3:b="Shared-authorship collection";c="icons/shared-authorship-collection.png";break;case 4:b="Moderator-centric collection";c="icons/moderator-centric-collection.png";break;default:b="";break}if(b){var d=K({b:"div",c:"knol-author-toolbox-container3"}),f=K({b:"img",sprite:"main",c:"knol-toolbox-settings-icon",src:Nj(c),alt:""});d.addElement(f);
var g=K({b:"a",c:"knol-toolbox-settings-desc",d:b,href:fn("si57lahl1w25/259")});d.addElement(g);a||d.na();return d}}return K()};
q.MSa=function(a){var b=Kp(),c=[],d,f;if(a)return K();c=Mp(this.qc,this.Di);if(b.ih()){Ep(this.R);var g=Fp(this.R),h=K({b:"a",href:Hm,d:g?"Unpublish this version":"Publish this version",id:g?"knol-author-toolbox-unpublish-old":"knol-author-toolbox-publish-old"});f=[K({b:"tr"}),K({b:"tr"})];f[1].addElement({b:"td",valign:"center"});f[1].addElement({b:"td",valign:"center",children:[h]})}else{var i=Gp(this.R),m=Hp(this.R);if(i){var n=K({b:"span",c:"knol-author-toolbox-change-btn",children:[{b:"input",
name:"publish",type:"button",value:"Publish",id:"knol-author-toolbox-publish-button"}]});c.push(n)}else if(m){h=K({b:"a",href:Hm,c:"knol-author-toolbox-change",d:this.TN(),id:"knol-author-toolbox-un-publish-change"});c.push(h)}f=[K({b:"tr"})]}for(var o=0;o<c.length;o++)f[0].addElement({b:"td",valign:"center",children:[c[o]]});d=c.length?K({b:"table",width:"100%",cellpadding:0,children:f}):K();var p=K({b:"div",children:[d],id:"knol-author-toolbox-publish"});p.na();return p};
q.tSa=function(a){if(a)return K();var b=K({b:"div",c:"knol-author-toolbox-container"}),c=K({b:"img",c:"knol-toolbox-settings-icon",src:Nj("icons/settings.gif"),sprite:"indexed",alt:""});b.addElement(c);var d=K({b:"span",c:"knol-toolbox-settings-desc",d:this.Xa?"You have permission to manage this collection":"You have permission to manage this knol"});b.addElement(d);var f=K({b:"a",href:"#manage",c:"knol-author-toolbox-change",d:"Settings",id:"knol-menu-item-manage"});b.addElement(f);return b};
q.vSa=function(a){var b=(new hn(this.D.hf())).Rg(),c=K({b:"div",c:"knol-author-toolbox-container"});c.addElement(b);if(!a&&!this.ke){var d=this.R.Kg&&!!this.R.user&&!!this.R.knol&&!(this.R.knol instanceof Fl),f=K({b:"a",href:Hm,c:"knol-author-toolbox-change",d:this.TN(),disabled:!d,id:"knol-author-toolbox-collaboration-change"});c.addElement(f)}return c};
q.BSa=function(a){var b=(new Co(this.Ra.Vn())).Rg(),c=K({b:"div",c:"knol-author-toolbox-container"});c.addElement(b);if(!a){var d=this.R.$e&&!!this.R.user&&!!this.R.knol,f=K({b:"a",href:Hm,c:"knol-author-toolbox-change",d:this.TN(),disabled:!d,id:"knol-author-toolbox-license-change"});c.addElement(f)}return c};
q.uSa=function(a){if(!this.D||this.D.G3())return k;var b=K({b:"div",c:"knol-author-toolbox-container"}),c=this.D;if(c){var d=c.tE();if(d)for(var f=d.N3(),g=0;g<f.length;g++){var h=f[g];this.nma.push(h);var i=Pn(h,j,a);i&&b.addElement(i)}var m=c.Tt();if(m)(i=Qn(m,j,Qf()))&&b.addElement(i)}return b.children.length?b:k};q.oW=function(){var a=Kp().createElement(),b=K({b:"div",c:"knol-author-toolbox-container2"});b.addElement(a);return b};
q.LSa=function(){return K({b:"div",id:"knol-publish-toolbox-c",style:"display: none"})};q.TN=function(){return"Change"};q.Aua=function(){return K({b:"div",c:"knol-author-toolbox-delimiter"})};var Np=function(){var a=Sf();this.hz="knol-inline-announce-"+a;this.qj="knol-inline-announce-message-"+a;this.D8="knol-inline-announce-version-"+a};F(Np,Xm);var Op=function(){return D("knol.ui.BannerAnnouncement")};q=Np.prototype;q.create=function(){var a=this.KL();this.mW(a)};q.mW=function(a){if(a.Td()||1)this.K(a)};
q.KL=function(a){var b;Op();if(Y(this.qj))b=Y(this.qj).innerHTML;var c=K({b:"div",id:this.hz,c:"knol-inline-announce"});if(b||a){var d=K({b:"span",id:this.qj,c:"knol-inline-announce-message"});c.addElement(d);this.$K(c,b)}var f=Se("buildMessage");if(f&&b){var g="Version: "+f;c.addElement({b:"div",id:this.D8,c:"knol-inline-announce-version"});this.oW(c,g)}return c};
q.$K=function(a,b){if(b)if(!a||!a.children.length)Op().S("no "+this.qj+" to append the announcement");else if(a.children[0].text)a.children[0].text+=b;else a.children[0].text=b};q.oW=function(a,b){if(b)if(!a||a.children.length<2)Op().S("no "+this.D8+" to write the version");else a.children[1].text=b};q.eh=function(){return Xm.prototype.eh.call(this)};var Pp=function(){};F(Pp,Xm);Pp.prototype.create=function(){var a=K({b:"div",id:"knol-chatlog",style:"display: none"});this.K(a);this.Zj(k,k,"knol.ui.client.ChatLog.init",k)};var Qp=function(){};F(Qp,Xm);Qp.prototype.A$=function(){return k};var Rp=k;if(!Rp){Rp={};Rp.yes="Yes";Rp.no="No";Rp.neutral="Neutral";Rp[""]="No opinion"}var Sp=Rp[""];if(!Sp){var Tp=D("knol.ReviewTexts");Tp.wa('Missing text for ""')};var Up=function(){};F(Up,Xm);Up.prototype.create=function(){var a=K({b:"div",id:"knol-collection-submission-reviews",style:"display: none"});this.K(a);this.Zj(k,k,"knol.ui.client.CollectionSubmissionReviews.init",k)};var Vp=65,Wp=67,Xp=86,Yp=88,Zp=90,$p=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=112&&a.keyCode<=123)return l;switch(a.keyCode){case 18:case 16:case 17:case 19:case 20:case 27:case 33:case 34:case 36:case 35:case 37:case 39:case 38:case 40:case 45:case 144:case 93:case 44:return l;default:return j}},bq=function(a,b,c,d,f){if(!H&&!(pe&&Fe("525")))return j;if(ue&&f)return aq(a);if(f&&!d)return l;if(H&&!c&&(b==17||b==18))return l;if(H&&d&&b==a)return l;switch(a){case 13:return j;case 27:return!pe}return aq(a)},
aq=function(a){if(a>=48&&a<=57)return j;if(a>=96&&a<=106)return j;if(a>=Vp&&a<=Zp)return j;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return j;default:return l}};var cq,dq=function(a,b){if(I||cq){a.setAttribute("role",b);a.PYa=b}},eq=function(a,b,c){if(I||cq)a.setAttribute("aria-"+b,c)};var fq=function(a){this.V=a};B(fq,ai);var gq=new hi(0,100);q=fq.prototype;q.g=function(a,b,c,d,f){if(ja(b))for(var g=0;g<b.length;g++)this.g(a,b[g],c,d,f);else{var h=V(a,b,c||this,d||l,f||this.V||this);this.UIa(h)}return this};q.UIa=function(a){if(this.Bb)this.Bb[a]=j;else if(this.sj){this.Bb=gq.Nf();this.Bb[this.sj]=j;this.sj=k;this.Bb[a]=j}else this.sj=a};
q.Cb=function(a,b,c,d,f){if(this.sj||this.Bb)if(ja(b))for(var g=0;g<b.length;g++)this.Cb(a,b[g],c,d,f);else{var h;a:{var i=c||this,m=f||this.V||this,n=!!(d||l),o=Di(a,b,n);if(o)for(var p=0;p<o.length;p++)if(o[p].Pu==i&&o[p].Uw==n&&o[p].Lq==m){h=o[p];break a}h=k}if(h){var r=h.ea;Ei(r);if(this.Bb)hc(this.Bb,r);else if(this.sj==r)this.sj=k}}return this};q.pb=function(){if(this.Bb){for(var a in this.Bb){Ei(a);delete this.Bb[a]}gq.Ue(this.Bb);this.Bb=k}else this.sj&&Ei(this.sj)};
q.n=function(){fq.f.n.call(this);this.pb()};q.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};var iq=function(a,b,c){y(b)?hq(a,c,b):Zb(b,wa(hq,a))},hq=function(a,b,c){a.style[jq(c)]=b},kq=function(a,b){return a.style[jq(b)]},lq=function(a,b){var c=Nl(a);if(c.defaultView&&c.defaultView.getComputedStyle){var d=c.defaultView.getComputedStyle(a,"");if(d)return d[b]}return k},mq=function(a,b){return a.currentStyle?a.currentStyle[b]:k},nq=function(a,b){return lq(a,b)||mq(a,b)||a.style[b]},oq=function(a){return nq(a,"position")},pq=function(a,b,c){var d,f,g=I&&(ue||xe)&&Fe("1.9");if(b instanceof
oh){d=b.x;f=b.y}else{d=b;f=c}a.style.left=typeof d=="number"?(g?Math.round(d):d)+"px":d;a.style.top=typeof f=="number"?(g?Math.round(f):f)+"px":f},qq=function(a){var b;b=a?a.nodeType==9?a:Nl(a):document;if(H&&!Ol(b).kG())return b.body;return b.documentElement},rq=function(a){var b=a.getBoundingClientRect();if(H){var c=a.ownerDocument;b.left-=c.documentElement.clientLeft+c.body.clientLeft;b.top-=c.documentElement.clientTop+c.body.clientTop}return b},sq=function(a){if(H)return a.offsetParent;for(var b=
Nl(a),c=nq(a,"position"),d=c=="fixed"||c=="absolute",f=a.parentNode;f&&f!=b;f=f.parentNode){c=nq(f,"position");d=d&&c=="static"&&f!=b.documentElement&&f!=b.body;if(!d&&(f.scrollWidth>f.clientWidth||f.scrollHeight>f.clientHeight||c=="fixed"||c=="absolute"))return f}return k},vq=function(a){for(var b=new qh(0,Infinity,Infinity,0),c=Ol(a),d=c.M().body,f=c.y4(),g,h=a;h=sq(h);)if((!H||h.clientWidth!=0)&&(!pe||h.clientHeight!=0||h!=d)&&(h.scrollWidth!=h.clientWidth||h.scrollHeight!=h.clientHeight)&&nq(h,
"overflow")!="visible"){var i=tq(h),m;var n=h;if(I&&!Fe("1.9")){var o=parseFloat(lq(n,"borderLeftWidth"));if(uq(n)){var p=n.offsetWidth-n.clientWidth-o-parseFloat(lq(n,"borderRightWidth"));o+=p}m=new oh(o,parseFloat(lq(n,"borderTopWidth")))}else m=new oh(n.clientLeft,n.clientTop);i.x+=m.x;i.y+=m.y;b.top=Math.max(b.top,i.y);b.right=Math.min(b.right,i.x+h.clientWidth);b.bottom=Math.min(b.bottom,i.y+h.clientHeight);b.left=Math.max(b.left,i.x);g=g||h!=f}var r=f.scrollLeft,t=f.scrollTop;if(pe){b.left+=
r;b.top+=t}else{b.left=Math.max(b.left,r);b.top=Math.max(b.top,t)}if(!g||pe){b.right+=r;b.bottom+=t}var v=c.Yya();b.right=Math.min(b.right,r+v.width);b.bottom=Math.min(b.bottom,t+v.height);return b.top>=0&&b.left>=0&&b.bottom>b.top&&b.right>b.left?b:k},tq=function(a){var b,c=Nl(a),d=nq(a,"position"),f=I&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new oh(0,0),h=qq(c);if(a==h)return g;if(a.getBoundingClientRect){b=rq(a);var i=Ol(c).Sl();
g.x=b.left+i.x;g.y=b.top+i.y}else if(c.getBoxObjectFor&&!f){b=c.getBoxObjectFor(a);var m=c.getBoxObjectFor(h);g.x=b.screenX-m.screenX;g.y=b.screenY-m.screenY}else{var n=a;do{g.x+=n.offsetLeft;g.y+=n.offsetTop;if(n!=a){g.x+=n.clientLeft||0;g.y+=n.clientTop||0}if(pe&&oq(n)=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}n=n.offsetParent}while(n&&n!=a);if(oe||pe&&d=="absolute")g.y-=c.body.offsetTop;for(n=a;(n=sq(n))&&n!=c.body&&n!=h;){g.x-=n.scrollLeft;if(!oe||n.tagName!="TR")g.y-=n.scrollTop}}return g},
xq=function(a,b){var c=wq(a),d=wq(b);return new oh(c.x-d.x,c.y-d.y)},wq=function(a){var b=new oh;if(a.nodeType==1)if(a.getBoundingClientRect){var c=rq(a);b.x=c.left;b.y=c.top}else{var d=Ol(a).Sl(),f=tq(a);b.x=f.x-d.x;b.y=f.y-d.y}else{b.x=a.clientX;b.y=a.clientY}return b},yq=function(a,b,c){var d=tq(a);if(b instanceof oh){c=b.y;b=b.x}var f=b-d.x,g=c-d.y;pq(a,a.offsetLeft+f,a.offsetTop+g)},zq=function(a,b,c){var d;if(b instanceof sh){d=b.height;b=b.width}else{if(c==undefined)e(Error("missing height argument"));
d=c}a.style.width=typeof b=="number"?Math.round(b)+"px":b;a.style.height=typeof d=="number"?Math.round(d)+"px":d},Aq=function(a){var b=oe&&!Fe("10");if(nq(a,"display")!="none")return b?new sh(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new sh(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,f=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var h,i;if(b){h=a.offsetWidth||a.clientWidth;i=a.offsetHeight||a.clientHeight}else{h=a.offsetWidth;
i=a.offsetHeight}c.display=d;c.position=g;c.visibility=f;return new sh(h,i)},Bq=function(a){var b=tq(a),c=Aq(a);return new uh(b.x,b.y,c.width,c.height)},Cq={},jq=function(a){return Cq[a]||(Cq[a]=String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()}))},Dq=function(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"},$=function(a,b){a.style.display=b?"":"none"},Hq=function(a,b){var c=
Ol(b),d=k;if(H){d=c.M().createStyleSheet();Eq(d,a)}else{var f=c.EE("head")[0];if(!f){var g=c.EE("body")[0];f=c.h("head");g.parentNode.insertBefore(f,g)}d=c.h("style");Eq(d,a);c.appendChild(f,d)}return d},Eq=function(a,b){if(H)a.cssText=b;else{var c=pe?"innerText":"innerHTML";a[c]=b}},uq=function(a){return"rtl"==nq(a,"direction")},Iq=I?"MozUserSelect":pe?"WebkitUserSelect":k,Jq=function(a){if(Iq)return a.style[Iq].toLowerCase()=="none";else if(H||oe)return a.getAttribute("unselectable")=="on";return l},
Kq=function(a,b,c){var d=!c?a.getElementsByTagName("*"):k;if(Iq){var f=b?"none":"";a.style[Iq]=f;if(d)for(var g=0,h;h=d[g];g++)h.style[Iq]=f}else if(H||oe){f=b?"on":"";a.setAttribute("unselectable",f);if(d)for(g=0;h=d[g];g++)h.setAttribute("unselectable",f)}},Oq=function(a){var b=Nl(a),c=H&&a.currentStyle;if(c&&Ol(b).kG()&&c.width!="auto"&&c.height!="auto"&&!c.mXa){var d=Lq(a,c.width,"width","pixelWidth"),f=Lq(a,c.height,"height","pixelHeight");return new sh(d,f)}else{var g=new sh(a.offsetWidth,a.offsetHeight),
h=Mq(a,"padding"),i=Nq(a);return new sh(g.width-i.left-h.left-h.right-i.right,g.height-i.top-h.top-h.bottom-i.bottom)}},Lq=function(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);else{var f=a.style[c],g=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;var h=a.style[d];a.style[c]=f;a.runtimeStyle[c]=g;return h}},Pq=function(a,b){return Lq(a,mq(a,b),"left","pixelLeft")},Mq=function(a,b){if(H){var c=Pq(a,b+"Left"),d=Pq(a,b+"Right"),f=Pq(a,b+"Top"),g=Pq(a,b+"Bottom");return new qh(f,
d,g,c)}else{c=lq(a,b+"Left");d=lq(a,b+"Right");f=lq(a,b+"Top");g=lq(a,b+"Bottom");return new qh(parseFloat(f),parseFloat(d),parseFloat(g),parseFloat(c))}},Qq={thin:2,medium:4,thick:6},Rq=function(a,b){if(mq(a,b+"Style")=="none")return 0;var c=mq(a,b+"Width");if(c in Qq)return Qq[c];return Lq(a,c,"left","pixelLeft")},Nq=function(a){if(H){var b=Rq(a,"borderLeft"),c=Rq(a,"borderRight"),d=Rq(a,"borderTop"),f=Rq(a,"borderBottom");return new qh(d,c,f,b)}else{b=lq(a,"borderLeftWidth");c=lq(a,"borderRightWidth");
d=lq(a,"borderTopWidth");f=lq(a,"borderBottomWidth");return new qh(parseFloat(d),parseFloat(c),parseFloat(f),parseFloat(b))}},Sq=/[^\d]+$/,Tq=function(a){var b=a.match(Sq);return b&&b[0]||k},Uq={cm:1,"in":1,mm:1,pc:1,pt:1},Vq={em:1,ex:1},Wq=function(a){var b=nq(a,"fontSize"),c=Tq(b);if(b&&"px"==c)return parseInt(b,10);if(H)if(c in Uq)return Lq(a,b,"left","pixelLeft");else if(a.parentNode&&a.parentNode.nodeType==1&&c in Vq){var d=a.parentNode,f=nq(d,"fontSize");return Lq(d,b==f?"1em":b,"left","pixelLeft")}var g=
am("span",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"});a.appendChild(g);b=g.offsetHeight;Z(g);return b},Xq=function(a){return a.style[H?"styleFloat":"cssFloat"]||""};var Yq=function(){};fa(Yq);Yq.prototype.Xz=0;Yq.prototype.wwa=function(){return":"+(this.Xz++).toString(36)};Yq.fb();var $q=function(a){this.O=a||Ol();this.HA=Zq};B($q,Oi);$q.prototype.RBa=Yq.fb();var Zq=k,ar=function(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close";default:}e(Error("Invalid component state"))};q=$q.prototype;q.Ia=k;q.O=k;q.tg=l;q.B=k;q.HA=k;q.jS=k;q.Ta=k;q.uc=k;q.Oi=k;q.vha=l;
q.p=function(){return this.Ia||(this.Ia=this.RBa.wwa())};q.ti=function(a){if(this.Ta&&this.Ta.Oi){hc(this.Ta.Oi,this.Ia);ic(this.Ta.Oi,a,this)}this.Ia=a};q.e=function(){return this.B};q.Wd=function(a){this.B=a};q.Ba=function(){return this.ku||(this.ku=new fq(this))};q.WA=function(a){if(this==a)e(Error("Unable to set parent component"));if(a&&this.Ta&&this.Ia&&this.Ta.Hn(this.Ia)&&this.Ta!=a)e(Error("Unable to set parent component"));this.Ta=a;$q.f.AI.call(this,a)};q.gb=function(){return this.Ta};
q.AI=function(a){if(this.Ta&&this.Ta!=a)e(Error("Method not supported"));$q.f.AI.call(this,a)};q.L=function(){return this.O};q.nc=function(){return this.tg};q.h=function(){this.B=this.O.createElement("div")};q.ba=function(a){this.TH(a)};q.TH=function(a,b){if(this.tg)e(Error("Component already rendered"));this.B||this.h();a?a.insertBefore(this.B,b||k):this.O.M().body.appendChild(this.B);if(!this.Ta||this.Ta.nc())this.za()};
q.Oa=function(a){if(this.tg)e(Error("Component already rendered"));else if(a&&this.qe(a)){this.vha=j;if(!this.O||this.O.M()!=Nl(a))this.O=Ol(a);this.vc(a);this.za()}else e(Error("Invalid element to decorate"))};q.qe=function(){return j};q.vc=function(a){this.B=a};q.za=function(){this.tg=j;this.we(function(a){!a.nc()&&a.e()&&a.za()})};q.yc=function(){this.we(function(a){a.nc()&&a.yc()});this.ku&&this.ku.pb();this.tg=l};
q.n=function(){$q.f.n.call(this);this.tg&&this.yc();if(this.ku){this.ku.l();delete this.ku}this.we(function(a){a.l()});!this.vha&&this.B&&Z(this.B);this.Ta=this.jS=this.B=this.Oi=this.uc=k};q.Zt=function(){return this.jS};q.pNa=function(a){this.jS=a};q.hc=function(a,b){this.dl(a,this.ah(),b)};
q.dl=function(a,b,c){if(a.tg&&(c||!this.tg))e(Error("Component already rendered"));if(b<0||b>this.ah())e(Error("Child component index out of bounds"));if(!this.Oi||!this.uc){this.Oi={};this.uc=[]}if(a.gb()==this){var d=a.p();this.Oi[d]=a;Fb(this.uc,a)}else ic(this.Oi,a.p(),a);a.WA(this);Nb(this.uc,b,0,a);if(a.tg&&this.tg&&a.gb()==this){var f=this.Fa();f.insertBefore(a.e(),f.childNodes[b]||k)}else if(c){this.B||this.h();var g=this.sd(b+1);a.TH(this.Fa(),g?g.B:k)}else this.tg&&!a.tg&&a.B&&a.za()};
q.Fa=function(){return this.B};q.le=function(){if(this.HA==k)this.HA=uq(this.tg?this.B:this.O.M().body);return this.HA};q.Po=function(a){if(this.tg)e(Error("Component already rendered"));this.HA=a};q.Td=function(){return!!this.uc&&this.uc.length!=0};q.ah=function(){return this.uc?this.uc.length:0};q.Hn=function(a){return this.Oi&&a?jc(this.Oi,a)||k:k};q.sd=function(a){return this.uc?this.uc[a]||k:k};q.we=function(a,b){this.uc&&C(this.uc,a,b)};q.Bu=function(a){return this.uc&&a?sb(this.uc,a):-1};
q.removeChild=function(a,b){if(a){var c=y(a)?a:a.p();a=this.Hn(c);if(c&&a){hc(this.Oi,c);Fb(this.uc,a);if(b){a.yc();a.B&&Z(a.B)}a.WA(k)}}if(!a)e(Error("Child is not in parent component"));return a};q.AA=function(a,b){return this.removeChild(this.sd(a),b)};q.removeChildren=function(a){for(;this.Td();)this.AA(0,a)};var br=function(){},cr;fa(br);var dr=function(a,b){var c=new a;c.X=function(){return b};return c};q=br.prototype;q.Mh=function(){};q.h=function(a){return a.L().h("div",this.lg(a).join(" "),a.getContent())};q.Fa=function(a){return a};q.WD=function(a,b,c){var d=a.e?a.e():a;if(d)if(H&&!Fe("7")){var f=this.JN(X.z(d),b);f.push(b);var g=c?X.add:X.remove;wa(g,d).apply(k,f)}else X.Ic(d,b,c)};q.D2=function(a,b,c){this.WD(a,b,c)};q.qe=function(){return j};
q.Oa=function(a,b){b.id&&a.ti(b.id);var c=this.Fa(b);c&&c.firstChild?a.xv(c.firstChild.nextSibling?Jb(c.childNodes):c.firstChild):a.xv(k);var d=0,f=this.X(),g=this.Bq(),h=l,i=l,m=l,n=X.z(b);C(n,function(r){if(!h&&r==f){h=j;if(g==f)i=j}else if(!i&&r==g)i=j;else d|=this.uP(r)},this);a.Hea(d);if(!h){n.push(f);if(g==f)i=j}i||n.push(g);var o=a.K4();o&&n.push.apply(n,o);if(H&&!Fe("7")){var p=this.JN(n);if(p.length>0){n.push.apply(n,p);m=j}}if(!h||!i||o||m)X.G(b,n.join(" "));return b};
q.ug=function(a){a.le()&&this.Po(a.e(),j);a.ca()&&this.Fg(a,a.da())};q.Eda=function(a){if(I){var b=this.Mh();b&&dq(a,b)}};q.QA=function(a,b){Kq(a,!b,!H&&!oe)};q.Po=function(a,b){this.WD(a,this.Bq()+"-rtl",b)};q.xk=function(a){var b;if(a.xg(32)&&(b=a.fe()))return Am(b);return l};q.Fg=function(a,b){var c;if(a.xg(32)&&(c=a.fe())){if(!b&&a.e9()){try{c.blur()}catch(d){}a.e9()&&a.Xh(k)}Am(c)!=b&&Bm(c,b)}};q.H=function(a,b){$(a,b)};
q.Kb=function(a,b,c){var d=a.e();if(d){var f=this.Tx(b);f&&this.WD(a,f,c);this.$v(d,b,c)}};q.$v=function(a,b,c){if(I){cr||(cr=oc(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));var d=cr[b];d&&eq(a,d,c)}};q.zd=function(a,b){var c=this.Fa(a);if(c){gm(c);if(b)if(y(b))tm(c,b);else{var d=function(f){if(f){var g=Nl(c);c.appendChild(y(f)?g.createTextNode(f):f)}};if(ja(b))C(b,d);else ka(b)&&!("nodeType"in b)?C(Jb(b),d):d(b)}}};q.fe=function(a){return a.e()};q.X=function(){return"goog-control"};
q.rva=function(){return[]};q.Bq=function(){return this.X()};q.lg=function(a){var b=this.X(),c=[b],d=this.Bq();d!=b&&c.push(d);var f=this.Y3(a.Ab());c.push.apply(c,f);var g=a.K4();g&&c.push.apply(c,g);H&&!Fe("7")&&c.push.apply(c,this.JN(c));return c};q.JN=function(a,b){var c=[];if(b)a=a.concat([b]);C(this.rva(),function(d){if(yb(d,wa(Bb,a))&&(!b||Bb(d,b)))c.push(d.join("_"))});return c};q.Y3=function(a){for(var b=[];a;){var c=a&-a;b.push(this.Tx(c));a&=~c}return b};
q.Tx=function(a){this.kD||this.F0();return this.kD[a]};q.uP=function(a){this.Ufa||this.ppa();var b=parseInt(this.Ufa[a],10);return isNaN(b)?0:b};q.F0=function(){var a=this.Bq();this.kD=oc(1,a+"-disabled",2,a+"-hover",4,a+"-active",8,a+"-selected",16,a+"-checked",32,a+"-focused",64,a+"-open")};q.ppa=function(){this.kD||this.F0();this.Ufa=lc(this.kD)};var er=function(){};B(er,br);fa(er);q=er.prototype;q.Mh=function(){return"button"};q.$v=function(a,b,c){if(I)b==16?eq(a,"pressed",c):er.f.$v.call(this,a,b,c)};q.h=function(a){var b=er.f.h.call(this,a),c=a.qg();c&&this.yh(b,c);var d=a.aa();d&&this.Pa(b,d);a.xg(16)&&this.$v(b,16,l);return b};q.Oa=function(a,b){b=er.f.Oa.call(this,a,b);a.rOa(this.aa(b));a.LI(this.qg(b));a.xg(16)&&this.$v(b,16,l);return b};q.aa=da;q.Pa=da;q.qg=function(a){return a.title};q.yh=function(a,b){if(a)a.title=b||""};q.X=function(){return"goog-button"};var fr=function(a){a&&this.attach(a)};B(fr,Oi);q=fr.prototype;q.B=k;q.zG=k;q.wR=k;q.AG=k;q.Dz=-1;q.Mu=-1;
var gr={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},hr={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ir={61:187,
59:186},jr=H||pe&&Fe("525");q=fr.prototype;q.Yh=function(a){if(jr&&!bq(a.keyCode,this.Dz,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Mu=I&&a.keyCode in ir?ir[a.keyCode]:a.keyCode};q.nAa=function(){this.Mu=this.Dz=-1};
q.handleEvent=function(a){var b=a.Zg(),c,d;if(H&&a.type=="keypress"){c=this.Mu;d=c!=13&&c!=27?b.keyCode:0}else if(pe&&a.type=="keypress"){c=this.Mu;d=b.charCode>=0&&b.charCode<63232&&aq(c)?b.charCode:0}else if(oe){c=this.Mu;d=aq(c)?b.keyCode:0}else{c=b.keyCode||this.Mu;d=b.charCode||0;if(ue&&d==63&&!c)c=191}var f=c,g=b.keyIdentifier;if(c)if(c>=63232&&c in gr)f=gr[c];else{if(c==25&&a.shiftKey)f=9}else if(g&&g in hr)f=hr[g];var h=f==this.Dz;this.Dz=f;var i=new kr(f,d,h,b);try{this.dispatchEvent(i)}finally{i.l()}};
q.e=function(){return this.B};q.attach=function(a){this.AG&&this.detach();this.B=a;this.zG=V(this.B,"keypress",this);this.wR=V(this.B,"keydown",this.Yh,l,this);this.AG=V(this.B,"keyup",this.nAa,l,this)};q.detach=function(){if(this.zG){Ei(this.zG);Ei(this.wR);Ei(this.AG);this.AG=this.wR=this.zG=k}this.B=k;this.Dz=-1};q.n=function(){fr.f.n.call(this);this.detach()};var kr=function(a,b,c,d){d&&this.dc(d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c};B(kr,ei);var mr=function(a,b){if(!a)e(Error("Invalid class name "+a));if(!ma(b))e(Error("Invalid decorator function "+b));lr[a]=b},nr={},lr={};var or=function(a,b,c){$q.call(this,c);var d;if(!(d=b)){for(var f=this.constructor,g,h;f;){g=qa(f);if(h=nr[g])break;f=f.f?f.f.constructor:k}d=h?ma(h.fb)?h.fb():new h:k}this.Ka=d;this.xv(a)};B(or,$q);q=or.prototype;q.Gc=k;q.bb=0;q.vB=39;q.WC=255;q.cJ=0;q.Bd=j;q.bk=k;q.dQ=j;q.CZ=l;q.eDa=function(){return this.dQ};q.lU=function(a){this.nc()&&a!=this.dQ&&this.G2(a);this.dQ=a};q.fe=function(){return this.Ka.fe(this)};q.VE=function(){return this.oc||(this.oc=new fr)};q.Rd=function(){return this.Ka};
q.tU=function(a){if(this.nc())e(Error("Component already rendered"));this.e()&&this.Wd(k);this.Ka=a};q.K4=function(){return this.bk};q.Lj=function(a){if(a){if(this.bk)Bb(this.bk,a)||this.bk.push(a);else this.bk=[a];this.Ka.D2(this,a,j)}};q.xJa=function(a){if(a&&this.bk){Fb(this.bk,a);if(this.bk.length==0)this.bk=k;this.Ka.D2(this,a,l)}};q.WD=function(a,b){b?this.Lj(a):this.xJa(a)};q.h=function(){var a=this.Ka.h(this);this.Wd(a);this.Ka.Eda(a);this.UQ()||this.Ka.QA(a,l);this.da()||this.Ka.H(a,l)};
q.Fa=function(){return this.Ka.Fa(this.e())};q.qe=function(a){return this.Ka.qe(a)};q.vc=function(a){a=this.Ka.Oa(this,a);this.Wd(a);this.Ka.Eda(a);this.UQ()||this.Ka.QA(a,l);this.Bd=a.style.display!="none"};q.za=function(){or.f.za.call(this);this.Ka.ug(this);if(this.vB&-2){this.eDa()&&this.G2(j);if(this.xg(32)){var a=this.fe();if(a){var b=this.VE();b.attach(a);this.Ba().g(b,"key",this.xe).g(a,"focus",this.co).g(a,"blur",this.Xh)}}}};
q.G2=function(a){var b=this.Ba(),c=this.e();if(a){b.g(c,"mouseover",this.rg).g(c,"mousedown",this.fm).g(c,"mouseup",this.Kq).g(c,"mouseout",this.Jq);H&&b.g(c,"dblclick",this.Z6)}else{b.Cb(c,"mouseover",this.rg).Cb(c,"mousedown",this.fm).Cb(c,"mouseup",this.Kq).Cb(c,"mouseout",this.Jq);H&&b.Cb(c,"dblclick",this.Z6)}};q.yc=function(){or.f.yc.call(this);this.oc&&this.oc.detach();this.da()&&this.ca()&&this.Ka.Fg(this,l)};
q.n=function(){or.f.n.call(this);if(this.oc){this.oc.l();delete this.oc}delete this.Ka;this.bk=this.Gc=k};q.getContent=function(){return this.Gc};q.zd=function(a){this.Ka.zd(this.e(),a);this.xv(a)};q.xv=function(a){this.Gc=a};q.iq=function(){var a=this.getContent();if(!a||y(a))return a;var b=ja(a)?vb(a,Dm).join(""):Dm(a);return b&&Ja(b)};q.Im=function(a){this.zd(a)};q.Po=function(a){or.f.Po.call(this,a);var b=this.e();b&&this.Ka.Po(b,a)};q.UQ=function(){return this.CZ};
q.QA=function(a){this.CZ=a;var b=this.e();b&&this.Ka.QA(b,a)};q.da=function(){return this.Bd};q.H=function(a,b){if(b||this.Bd!=a&&this.dispatchEvent(a?"show":"hide")){var c=this.e();c&&this.Ka.H(c,a);this.ca()&&this.Ka.Fg(this,a);this.Bd=a;return j}return l};q.ca=function(){return!this.oj(1)};q.qDa=function(){var a=this.gb();return!!a&&typeof a.ca=="function"&&!a.ca()};q.U=function(a){if(!this.qDa()&&this.Wq(1,!a)){if(!a){this.setActive(l);this.Gg(l)}this.da()&&this.Ka.Fg(this,a);this.Kb(1,!a)}};
q.Gg=function(a){this.Wq(2,a)&&this.Kb(2,a)};q.je=function(){return this.oj(4)};q.setActive=function(a){this.Wq(4,a)&&this.Kb(4,a)};q.nR=function(){return this.oj(8)};q.sf=function(a){this.Wq(8,a)&&this.Kb(8,a)};q.lz=function(){return this.oj(16)};q.Eg=function(a){this.Wq(16,a)&&this.Kb(16,a)};q.e9=function(){return this.oj(32)};q.Zda=function(a){this.Wq(32,a)&&this.Kb(32,a)};q.isOpen=function(){return this.oj(64)};q.$c=function(a){this.Wq(64,a)&&this.Kb(64,a)};q.Ab=function(){return this.bb};
q.oj=function(a){return!!(this.bb&a)};q.Kb=function(a,b){if(this.xg(a)&&b!=this.oj(a)){this.Ka.Kb(this,a,b);this.bb=b?this.bb|a:this.bb&~a}};q.Hea=function(a){this.bb=a};q.xg=function(a){return!!(this.vB&a)};q.tf=function(a,b){if(this.nc()&&this.oj(a)&&!b)e(Error("Component already rendered"));!b&&this.oj(a)&&this.Kb(a,l);this.vB=b?this.vB|a:this.vB&~a};q.hh=function(a){return!!(this.WC&a)&&this.xg(a)};q.cMa=function(a,b){this.WC=b?this.WC|a:this.WC&~a};
q.eU=function(a,b){this.cJ=b?this.cJ|a:this.cJ&~a};q.Wq=function(a,b){return this.xg(a)&&this.oj(a)!=b&&(!(this.cJ&a)||this.dispatchEvent(ar(a,b)))&&!this.lG()};q.rg=function(a){a.relatedTarget&&!nm(this.e(),a.relatedTarget)&&this.dispatchEvent("enter")&&this.ca()&&this.hh(2)&&this.Gg(j)};q.Jq=function(a){if(a.relatedTarget&&!nm(this.e(),a.relatedTarget)&&this.dispatchEvent("leave")){this.hh(4)&&this.setActive(l);this.hh(2)&&this.Gg(l)}};
q.fm=function(a){if(this.ca()){this.hh(2)&&this.Gg(j);if(a.kz(0)){this.hh(4)&&this.setActive(j);this.Ka.xk(this)&&this.fe().focus()}}!this.UQ()&&a.kz(0)&&a.preventDefault()};q.Kq=function(a){if(this.ca()){this.hh(2)&&this.Gg(j);this.je()&&this.ni(a)&&this.hh(4)&&this.setActive(l)}};q.Z6=function(a){this.ca()&&this.ni(a)};
q.ni=function(a){this.hh(16)&&this.Eg(!this.lz());this.hh(8)&&this.sf(j);this.hh(64)&&this.$c(!this.isOpen());var b=new bi("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};q.co=function(){this.hh(32)&&this.Zda(j)};q.Xh=function(){this.hh(4)&&this.setActive(l);this.hh(32)&&this.Zda(l)};q.xe=function(a){if(this.da()&&this.ca()&&this.dm(a)){a.preventDefault();a.stopPropagation();return j}return l};
q.dm=function(a){return a.keyCode==13&&this.ni(a)};var pr=or,qr=br;if(!ma(pr))e(Error("Invalid component class "+pr));if(!ma(qr))e(Error("Invalid renderer class "+qr));var rr=qa(pr);nr[rr]=qr;mr("goog-control",function(){return new or(k)});var sr=function(){};B(sr,er);fa(sr);q=sr.prototype;q.Mh=function(){};q.h=function(a){this.Mea(a);return a.L().h("button",{"class":this.lg(a).join(" "),disabled:!a.ca(),title:a.qg()||"",value:a.aa()||""},a.iq()||"")};q.qe=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};q.Oa=function(a,b){this.Mea(a);b.disabled&&X.add(b,this.Tx(1));return sr.f.Oa.call(this,a,b)};q.ug=function(a){a.Ba().g(a.e(),"click",a.ni)};q.QA=da;q.Po=da;q.xk=function(a){return a.ca()};
q.Fg=da;q.Kb=function(a,b,c){sr.f.Kb.call(this,a,b,c);var d=a.e();if(d&&b==1)d.disabled=c};q.aa=function(a){return a.value};q.Pa=function(a,b){if(a)a.value=b};q.$v=da;q.Mea=function(a){a.lU(l);a.cMa(255,l);a.tf(32,l)};var tr=function(a,b,c){or.call(this,a,b||sr.fb(),c)};B(tr,or);q=tr.prototype;q.aa=function(){return this.Dc};q.Pa=function(a){this.Dc=a;this.Rd().Pa(this.e(),a)};q.rOa=function(a){this.Dc=a};q.qg=function(){return this.ds};q.yh=function(a){this.ds=a;this.Rd().yh(this.e(),a)};q.LI=function(a){this.ds=a};q.n=function(){tr.f.n.call(this);delete this.Dc;delete this.ds};q.za=function(){tr.f.za.call(this);if(this.xg(32)){var a=this.fe();a&&this.Ba().g(a,"keyup",this.dm)}};
q.dm=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.ni(a);return a.keyCode==32};mr("goog-button",function(){return new tr(k)});var ur=function(){};B(ur,er);fa(ur);q=ur.prototype;q.h=function(a){var b=this.lg(a),c={"class":"goog-inline-block "+b.join(" "),title:a.qg()||""};return a.L().h("div",c,this.Ts(a.getContent(),a.L()))};q.Fa=function(a){return a&&a.firstChild.firstChild};q.Ts=function(a,b){return b.h("div","goog-inline-block "+(this.X()+"-outer-box"),b.h("div","goog-inline-block "+(this.X()+"-inner-box"),a))};q.qe=function(a){return a.tagName=="DIV"};
q.cBa=function(a,b){var c=a.L().P4(b);if(c&&c.className.indexOf(this.X()+"-outer-box")!=-1){var d=a.L().P4(c);if(d&&d.className.indexOf(this.X()+"-inner-box")!=-1)return j}return l};q.Oa=function(a,b){vr(b,j);vr(b,l);this.cBa(a,b)||b.appendChild(this.Ts(b.childNodes,a.L()));X.add(b,"goog-inline-block",this.X());return ur.f.Oa.call(this,a,b)};q.X=function(){return"goog-custom-button"};
var vr=function(a,b){if(a)for(var c=b?a.firstChild:a.lastChild,d;c&&c.parentNode==a;){d=b?c.nextSibling:c.previousSibling;if(c.nodeType==3){var f=c.nodeValue;if(Ja(f)=="")a.removeChild(c);else{c.nodeValue=b?Ka(f):f.replace(/[\s\xa0]+$/,"");break}}else break;c=d}};var wr=function(a,b,c){tr.call(this,a,b||ur.fb(),c)};B(wr,tr);mr("goog-custom-button",function(){return new wr(k)});var yo=function(){};F(yo,Xm);yo.prototype.Pc=function(){Xm.prototype.Pc.call(this)};yo.prototype.create=function(){this.K(this.iv())};yo.prototype.iv=function(){var a=K({b:"div",id:"knol-create-invite",c:"knol-invite-box goog-inline-block"}),b=K({b:"div",c:"knol-invite-box-middle goog-inline-block"});b.addElement({b:"a",id:"knol-create-knol",href:Rj("system/services/createKnol"),rel:"nofollow",d:"Write a knol"});a.addElement(b);return a};
var xr=function(a){var b="knol-create-knol",c=Y(b);if(c){var d=c.firstChild&&c.firstChild.nodeName=="DIV";if(!a&&!d){var f=c.innerHTML;c.innerHTML="";c.style.textDecoration="none";var g=new wr(f);g.ba(c)}return c}else return k};var yr=function(){};F(yr,yo);
yr.prototype.iv=function(){var a=K({b:"a",id:"knol-invite-kr",href:Rj("system/services/createKnol"),rel:"nofollow",c:"knol-invite-box-kr"}),b=Nj("icons/write-a-knol.gif"),c=K({b:"img",src:b,sprite:"indexed",id:"knol-write-a-knol-kr-img"});a.addElement(c);var d=Nj("localized/kr/icons/write-a-knol-text.gif"),f=K({b:"img",src:d,sprite:"indexed",id:"knol-write-a-knol-text-kr-img"});a.addElement(f);a.addElement({b:"div",id:"knol-write-a-knol-desc-kr",d:"Share your knowledge in Knol"});return a};var zr=function(a){var b=Uf();if(b&&b instanceof Fl)return"";var c=b.Ja();if(c.Ca())return"";if(!c.IE()){var d=K({b:"div",id:"knol-unsol-review-disabled",d:"Unsolicited reviews are disabled."});return d}var f;f=a?"Be the first to review this knol":"Review This Knol";var g=K({b:"div",id:"knol-review-invite"}),h=hf("/k/knol/system/services/createReview?knolId="+Sf());g.addElement({b:"a",id:"knol-create-review",target:"_blank",rel:"nofollow",href:h,d:f});return g};var Ar=function(){};F(Ar,Xm);var Br="knol-diff-";q=Ar.prototype;q.A$=function(a,b,c){var d=K();if(b.length>0){var f=K({b:"div",c:"knol-content",id:"references",children:[K({b:"h3",d:"References"}),K({b:"ol",id:"knol-references",children:c?this.y$(b,c):this.QR(b)})]});d.addElement(f);d.na()}return d};q.QR=function(a){var b=[];if(a.length>0)for(var c=0;c<a.length;c++)b.push(this.x$(a[c]));return b};
q.y$=function(a,b){if(!b||b.Da())return this.QR(a);var c=[],d=[];uc(b,function(m){if(m.la()==0)d[m.jO()]=m.mq()},this);if(a.length>0)for(var f=0;f<a.length;f++){var g=a[f],h=b.z(g.p()),i=f+1;if(h&&h.la()==2)c.push(this.XEa(g,i));else h&&h.la()==1?c.push(this.YEa(h.Fn(),h.mq(),i)):c.push(this.x$(g,i));d[f]&&c.push(this.$Ea(d[f],i))}return c};q.x$=function(a,b){var c=Cr(a),d=K({b:"li",d:c}),f=Dr(a);if(f){c.length>0&&d.P();d.addElement(f)}s(b)&&d.ae(Vm("value",b.toString()));return d};
q.YEa=function(a,b,c){var d,f=[],g=Cr(b),h=Cr(a);if(g!=h){(g=g?K({b:"del",c:Br+c,d:g}):k)&&f.push(g);(h=h?K({b:"ins",c:Br+c,d:h}):k)&&f.push(h);d=K({b:"li",children:f})}else d=h?K({b:"li",d:h}):K({b:"li"});if(b.ha()!=a.ha()||b.fk()!=a.fk()){var i=Dr(b,0,c),m=Dr(a,2,c);if(i||m){if(f.length!=1)d.addElement({b:"br"});else if(h)d.addElement(Er());else g&&d.addElement(K({b:"br",c:"knol-hidden-del-format"}));i&&d.addElement(i);m&&d.addElement(m)}}else{f.length>0&&d.addElement({b:"br"});d.addElement(Dr(a))}d.ae(Vm("value",
c.toString()));return d};q.XEa=function(a,b){return this.z$(a,2,b)};q.$Ea=function(a,b){return this.z$(a,0,b)};q.z$=function(a,b,c){var d=Cr(a),f=b==2?"ins":"del",g=K({b:"li",c:Br+c+" knol-hidden-"+f+"-format",children:[{b:f,c:Br+c,d:d}]}),h=Dr(a,b,c);if(h){d.length>0&&g.addElement(Er());g.addElement(h)}g.ae(Vm("value",c.toString()));return g};
var Cr=function(a){var b=a.Lf();return bf(b,2E3)},Dr=function(a,b,c){if(a.ha()){var d=new Ed(a.ha()),f=d.toString();if(d.Zy()&&d.jj()!="http"&&d.jj()!="https")f="";var g=a.fk();g=bf(g,2E3);if(f&&g)if(s(b)){var h=b==2?"ins":"del";return K({c:Br+c+" knol-"+h+"-format",b:"a",href:f,children:[{b:h,c:Br+c,d:g}]})}else return K({b:"a",href:f,d:g})}else return k},Er=function(){return K({b:"br",c:"knol-hidden-ins-format"})};var Fr=function(){};F(Fr,Xm);Fr.prototype.X8=function(){return j};Fr.prototype.create=function(){};Fr.prototype.y9=function(){return j};var Gr=function(){};F(Gr,Xm);q=Gr.prototype;q.Pc=function(){Xm.prototype.Pc.call(this)};q.create=function(){this.K(this.iv())};q.iv=function(){var a=K({b:"div",id:"knol-edit-invite",c:"knol-invite-box goog-inline-block"}),b=K({b:"div",style:"display: none",id:"knol-edit-invite-middle",c:"knol-invite-box-middle goog-inline-block"});if(Sf()){var c=Q(),d=c&&c.Ca();b.addElement({b:"a",id:"knol-edit-knol",href:"#edit",d:d?"Edit this collection":"Edit this knol"})}a.addElement(b);return a};
q.HU=function(a){var b=Y("knol-edit-invite-middle");if(b)b.style.display=a?"":"none"};q.npa=function(){this.HU(j);var a="knol-edit-knol",b=Y(a);if(b){var c=b.firstChild&&b.firstChild.nodeName=="DIV";if(!c){var d=b.innerHTML;b.innerHTML="";b.style.textDecoration="none";var f=new wr(d);f.ba(b)}return b}else return k};var Hr=function(){};F(Hr,Xm);Hr.prototype.create=function(){this.write(K({b:"div",id:"knol-history"}).w())};var Ir=function(){};F(Ir,Xm);Ir.prototype.create=function(){this.K(this.ba())};Ir.prototype.ba=function(){var a=K({b:"div",id:"knol-display-languages",style:"display: none"});this.zn(k,k,"knol.ui.client.LanguageOptions",[]);return a};var Jr=function(a){this.La=a||""};F(Jr,Xm);q=Jr.prototype;q.create=function(){D("knol.ui.MyKnolsList");if(this.La){var a=O(this.La);if(a){this.eKa(a);var b=K({b:"div",id:"knol-my-knols-knol-list"});b.addElement(K({b:"div",id:"knol-my-knols-heading",d:Pe("My Knols")}));this.uT(a,b);var c=Pe("See more of my knols")+" &#xBB;",d=Rj("Search"),f=K({b:"div",id:"knol-my-knols-see-more",children:[{b:"a",d:c,href:d}]});b.addElement(f);this.K(b)}else this.K(K({b:"div",id:"knol-my-knols-no-user-space",d:Pe("Your knol space has not been created yet. Please write a knol to create one.")}))}};
q.eKa=function(a){var b=a.ij(),c=a.jk(),d=a.sq(),f=K({b:"div",id:"knol-my-knols-profile"});f.addElement({b:"img",id:"knol-my-knols-profile-photo",src:d});var g=K({b:"div",id:"knol-my-knols-profile-desc"});g.addElement({b:"a",id:"knol-my-knols-profile-name",href:c,d:b});for(var h=a.Jn(),i=0;i<h.length;i++){var m=h[i];if(m){m=bf(m,250);g.addElement({b:"div",c:"knol-my-knols-profile-disambiguation",d:m})}}g.addElement(K({b:"div",id:"knol-author-profile-button"}));f.addElement(g);f.na();this.K(f)};
q.uT=function(a,b){for(var c=a.Jwa().bv().bc(),d=c.length,f=0,g=0;f<d&&g<5;){var h=this.O0(c[f]);if(h){b.addElement(h);g++}f++}if(g<5){c=a.yta().bv().bc();d=c.length;var i=5-g;for(g=f=0;f<d&&g<i;){if(h=this.O0(c[f])){b.addElement(h);g++}f++}}};
q.O0=function(a){D("knol.ui.MyKnolsList");var b=O(a);if(!b)return k;var c=b.jd(),d=c.Th(),f=c.ha(),g=c.p(),h=c.$x(),i=c.pk(),m=b.kO(),n=m?m.ia():0,o=K({b:"div",c:"knol-my-knols-knol"}),p={b:"div",c:"knol-my-knols-title-wrapper",children:[{b:"a",href:f,d:d,id:"knol-my-knols-title-"+g,c:"knol-my-knols-title"}]};o.addElement({b:"div",children:[k,p,{b:"div",c:"knol-clearer-div"}]});var r=K({b:"div",c:"knol-my-knols-bubble-content"});r.addElement({b:"span",c:"knol-my-knols-date",d:String(h)});r.addElement({b:"img",
c:"knol-my-knols-comments-icon",sprite:"indexed",src:Nj("localized/kr/icons/comments.gif")});var t=n+" comment(s)";r.addElement({b:"span",c:"knol-my-knols-num-comments",d:t});r.na();if(i){i=bf(i,125);r.addElement({b:"div",c:"knol-my-knols-knol-snippet",d:i})}o.addElement(this.yoa(r,g));return o};
q.yoa=function(a,b){var c=K({b:"div",id:"knol-my-knols-bubble-"+b,c:"knol-my-knols-bubble"});c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line1"});c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line2"});c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line3"});c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line3"});c.addElement(a);c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line3"});c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line3"});c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line2"});
c.addElement({b:"div",c:"knol-my-knols-bubble-hor-line1"});for(var d=9;d>=0;d--)c.addElement({b:"div",style:"width: "+d+"px; position: relative; left: 20px; top: -1px; height: 1px; background-color: #fff; overflow: hidden; border-left: 1px solid #b7cfe2; border-right: 1px solid #b7cfe2;"});c.addElement({b:"div",style:"width: 1px; position: relative; left: 20px; top: -1px; overflow: hidden; height: 1px; background-color: #b7cfe2;"});return c};q.eh=function(){return""};var Kr=function(){zp.call(this);this.Yz="There are no popular authors now."};F(Kr,zp);var Lr=function(){return D("knol.ui.PopularAuthorList")};
Kr.prototype.LN=function(a,b){var c=Lr();b=(b||"0")+"";for(var d=3-b.length,f=0;f<d;++f)b="0"+b;var g="/authorrank_"+a+"_"+b+"_OFFLINE",h;var i=g,m=Lr(),n=jot.pages[i];if(n){var o=n.popularAuthorList;if(o)h=o;else{m.S("popularAuthorList property does not exist");h=k}}else{m.S(i+" node does not exist");h=k}if(!h)return k;var p;try{p=wd(h)}catch(r){c.S("JSON-parsing of the property popularAuthorList failed");return k}var t=p.popularAuthorListObject;if(!t){c.S("popularAuthorListObject field does not exist");
return k}return t};
Kr.prototype.a3=function(a){var b=Lr(),c={},d=a.id||"",f=a.rank_difference||0;f=Number(f);var g;if(f>=1E4){g=2;f="New!"}else if(f==0)g=0;else if(f>0)g=1;else{g=-1;f=Math.abs(f)}c.rankDifference=f;c.rankDiffType=g;var h=O(d);if(!h){b.S("Author does not exist. node id = "+d);return k}if(h.Nx())return k;if(h.qk())return k;c.bioUri=h.jk();var i=h.kj();if(ya(i,"/c/photos/private/"))i=window.manifest.serverBase+"/static/images/NoPicture.gif";c.thumbnailUrl=i;c.name=h.ij();c.occupation=Pe(h.Ewa());c.location_=
Pe(h.ZE());return c};var Mr=function(){this.yha="knol-list";this.Yz="No items in this list."};F(Mr,Xm);q=Mr.prototype;q.create=function(){this.K(this.vT(0))};q.vT=function(a){var b=K({b:"div",c:"knol-list-wrapper",id:this.yha}),c=eg()||"en",d=this.$Ja(this.g5(c,a),b,15);if(d==0)b.addElement(K({b:"div",c:"knol-list-infomessage",d:this.Yz}));else{var f=this.tca(a);f&&b.addElement(f)}return b};q.tca=function(){return k};q.g5=function(){return[]};
q.b3=function(){return{thumbnailUrl:"",knolUri:"",title:"",authorName:"",editTime:"",snippet:"",numDiscussion:0,knolId:""}};q.$Ja=function(a,b,c){if(!a)return 0;for(var d=0,f=0;f<a.length;f++){if(c)if(d>=c)break;this.aKa(a[f],b)&&++d}return d};
q.aKa=function(a,b){var c=this.b3(a);if(!c)return l;var d=K({b:"div",c:"knol-list-entry"});if(c.thumbnailUrl){var f=K({b:"table",c:"knol-list-thumbtable",children:[{b:"tr",children:[{b:"td",children:[{b:"a",href:c.knolUri,children:[{b:"img",c:"knol-list-thumbnail",src:c.thumbnailUrl}]}]}]}]}),g=K({b:"span",c:"knol-list-thumbframe"});g.addElement(f);d.addElement(g)}var h=K({b:"span",c:"knol-list-rcolumn"+(c.thumbnailUrl?"":"knol-list-nothumb")}),i=K({b:"div"});i.addElement(K({b:"a",href:c.knolUri,
children:[{b:"span",c:"knol-list-title",d:c.title}]}));i.addElement(K({b:"span",c:"knol-list-author-separator",d:"- "}));i.addElement(K({b:"span",c:"knol-list-author",d:c.authorName}));var m,n=c.editTime;n instanceof Date||(n=new Date(n));var o=(new Date).getTime();m=o-n.getTime()>864E5;i.addElement(K({b:"span",c:"knol-list-edittime-separator",d:" - ",style:m?"display: none":""}));m?i.addElement(K({b:"span",c:"knol-list-editdate",d:String(c.editTime),style:"display: none"})):i.addElement(K({b:"span",
c:"knol-list-reltime",d:pf(c.editTime)}));h.addElement(i);var p=K({b:"div"});p.addElement(K({b:"span",c:"knol-list-snippet",d:c.snippet}));h.addElement(p);var r=K({b:"div"});r.addElement(K({b:"img",sprite:"indexed",src:Nj("localized/kr/icons/comments.gif")}));var t=c.numDiscussion+" comments";r.addElement(K({b:"span",c:"knol-list-comments",d:t}));r.addElement(k);h.addElement(r);d.addElement(h);d.addElement(K({b:"div",c:"knol-list-end"}));b.addElement(d);return j};var Nr=function(){Mr.call(this);this.yha="knol-popular-knol-list";this.Yz="There are no popular knols now."};F(Nr,Mr);var Or=function(){return D("knol.ui.PopularKnolList")};Nr.prototype.create=function(){Mr.prototype.create.call(this)};var Pr=function(a){var b=Or(),c;Yh({webspace:"knol",path:a});c=k;if(!c){b.S(a+" node does not exist");return k}var d=c.popularKnolList;if(!d){b.S("popularKnolList property does not exist");return k}return d};
Nr.prototype.tca=function(a){var b,c=eg()||"en",d="/knolrank_"+c+"_OFFLINE";b=parseInt(Pr(d),10);if(b<=1)return k;var f=K({b:"div",c:"knol-list-popular-pagenav-c"});a>0?f.addElement(K({b:"a",c:"knol-list-popular-pagenav",id:"knol-list-popular-pagenav-prev",href:"javascript:void(0)",d:"Prev"})):f.addElement(K({b:"span",c:"knol-list-popular-pagenav",id:"knol-list-popular-pagenav-prev",d:"Prev"}));for(var g=1;g<=b;++g)g==a+1?f.addElement(K({b:"span",c:"knol-list-popular-pagenav",id:"knol-list-popular-pagenav-"+
g,d:g})):f.addElement(K({b:"a",c:"knol-list-popular-pagenav",id:"knol-list-popular-pagenav-"+g,href:"javascript:void(0)",d:g}));a<b-1?f.addElement(K({b:"a",c:"knol-list-popular-pagenav",id:"knol-list-popular-pagenav-next",href:"javascript:void(0)",d:"Next"})):f.addElement(K({b:"span",c:"knol-list-popular-pagenav",id:"knol-list-popular-pagenav-next",d:"Next"}));return f};
Nr.prototype.g5=function(a,b){var c=Or();b=(b||"0")+"";for(var d=3-b.length,f=0;f<d;++f)b="0"+b;var g="/knolrank_"+a+"_"+b+"_OFFLINE",h=Pr(g);if(!h)return k;var i;try{i=wd(h)}catch(m){c.S("JSON-parsing of the property popularKnolList failed");return k}var n=i.popularKnolListObject;if(!n){c.S("popularKnolListObject field does not exist");return k}return n};
Nr.prototype.b3=function(a){var b=Or(),c={},d=a.knol_id||"";c.knolId=d;var f=a.rank_difference||0;Number(f);c.thumbnailUrl=a.thumbnail_url||"";var g=O(d);if(!g){b.S("Knol does not exist. knol id = "+d);return k}var h=g.Ja();if(!h){b.S("KnolMeta does not exist. knol id = "+d);return k}var i=O(h.hd());if(!i){b.S("Author does not exist. knol id = "+d);return k}if(!h.qL())return k;c.title=g.Th()||"";c.editTime=g.$x()||"";var m=g.pk()||"";m=Pe(m);m=$e(m,105);c.snippet=m;var n=h.kO();c.numDiscussion=n?
n.ia():0;c.knolUri=g.ha();var o=Ya(i.ij(),100),p=h.Ph(),r=h.Sx(),t=p?p.ia():0,v=r?r.ia():0;if(t+v>1){var w=o+" et al.";o=w}c.authorName=o;return c};var Qr=function(){};F(Qr,Xm);q=Qr.prototype;
q.create=function(){var a=K({b:"div",id:"knol-home-kr-welcome-outer"}),b=K({b:"div",id:"knol-home-kr-welcome-c"}),c=K({b:"div",id:"knol-home-kr-welcome"});c.addElement({b:"h1",d:"Share your knowledge in Knol, a new knowledge sharing service."});c.addElement({b:"span",d:"Knol makes it easy for you to write, share and manage knols from anywhere using a web browser.<br />We store the knols and make them searchable."});b.addElement(c);b.addElement((new yr).iv());b.na();a.addElement(b);this.K(a);var d=
"knol-home-kr",f=K({b:"div",id:d});f.na();var g=K({b:"div"});f.addElement(g);var h=K({b:"div",id:"knol-home-kr-right-pane"});h.addElement(this.uT());h.addElement(this.gKa());g.addElement(h);var i=K({b:"div",id:"knol-home-kr-left-pane"});i.addElement(this.QJa());i.addElement(this.hKa());g.addElement(i);g.na();this.zn("knol.ui.client.HomePageKr",[],k,k);this.K(f)};
q.QJa=function(){var a="knol.KrAnnouncement"+gg(),b=O(a);if(!b)return k;var c=b.bF();if(!c)return k;var d=b.Ja();if(!d){D("knol.ui.HomePageKr").S("KnolMeta for KrAnnouncement knol does not exist. knol id = "+a);return k}if(d.pg()==-2)return k;var f=K({b:"div",id:"knol-home-kr-announcement",c:"knol-home-kr-components"}),g=K({b:"div",c:"knol-home-kr-components-title"}),h=K({b:"div",id:"knol-home-kr-announcement-body",c:"knol-home-kr-components-body"});g.addElement(K({b:"h1",d:"Announcement"}));h.addElement(c);
f.addElement(g);f.addElement(h);return f};
q.hKa=function(){var a=K({b:"div",id:"knol-home-kr-knol-list",c:"knol-home-kr-components"}),b=K({b:"div",c:"knol-home-kr-components-title"}),c=K({b:"div",c:"knol-home-kr-components-body",id:"knol-popular-knol-list"});b.addElement(K({b:"h1",d:"Popular Knols"}));var d=K({id:"knol-home-kr-tab-c-popular-knols",b:"div",d:G(Nr).eh()}),f=K({id:"knol-home-kr-tab-c-recent-knols",b:"div",style:"display: none"});c.addElement(d);c.addElement(f);a.addElement(b);a.addElement(c);return a};
q.gKa=function(){var a=K({b:"div",id:"knol-home-kr-author-list",c:"knol-home-kr-components"}),b=K({b:"div",c:"knol-home-kr-components-title"}),c=K({b:"div",c:"knol-home-kr-components-body",id:"knol-popular-author-list"});b.addElement(K({b:"h1",d:"Popular Authors"}));c.addElement(K({b:"div",d:G(Kr).eh()}));a.addElement(b);a.addElement(c);return a};
q.uT=function(){var a=K({b:"div",c:"knol-home-kr-components"}),b=K({b:"div",c:"knol-home-kr-components-body",id:"knol-my-knols-list-id"});b.addElement(K({b:"div",d:(new Jr).eh()}));a.addElement(b);return a};var Rr=function(){};F(Rr,Xm);var Sr=["KR"];Rr.prototype.Pc=function(){Xm.prototype.Pc.call(this)};Rr.prototype.create=function(){D("knol.ui.IdvCheck");var a=K({b:"div",id:"idv-real-name-badge",c:"knol-box"}),b=Wf(),c=b.Y4();"author="+Ke(b);if(c){a.addElement({b:"span",d:"Real Name"});a.P()}this.K(a)};
var Tr=function(a){return a?a.replace(/^\s+/,"").replace(/\s+$/,""):a},Ur=function(a){return a?a.replace(/\s+/g,""):a},Vr=function(a,b,c,d,f,g,h,i,m,n,o,p,r,t,v,w,x){D("knol.ui.IdvCheck");a=Tr(a);b=Tr(b);Tr(c);d=Tr(d);Tr(f);Tr(g);h=Ur(h);i=Tr(i);m=Tr(m);n=Tr(n);o=Tr(o);p=Tr(p);r=Tr(r);t=Tr(t);var z=/^[\w \t#.,'-]+$/;if(!a)return"First name is required";if(!z.test(a))return"First name has invalid characters";if(!b)return"Last name is required";if(!z.test(b))return"Last name has invalid characters";
if(!m)return"Address must have street";if(!z.test(m))return"Street has invalid characters";if(!n)return"Address must have city";if(!z.test(n))return"City has invalid characters";if(!o)return"Address must have state";if(!z.test(o))return"State has invalid characters";if(!p)return"Address must have zip code";var E=/^\d{5}$/;if(!E.test(p))return"Zip code must have five digits";if(!r)return"Address must have country";if(!z.test(r))return"Country name has invalid characters";if(!t)return"Invalid input";
if(t.toLowerCase()=="creditcard"){if(w)return"Invalid input";if(!v)return"Invalid input";if(!d)return"Credit card number required";if(x){var M=/^\d{13,19}$/;if(!M.test(d))return"Credit card number can only contain 13 to 19 digits"}}else if(t.toLowerCase()=="clicktocall"){if(!h)return"Phone number is required";var J=/^\+?[\d()-]+$/;if(!J.test(h))return"Phone number contains invalid characters.";if(!i)return"Invalid input";if(!E.test(i))return"Invalid input"}else if(t.toLowerCase()=="ssn"){if(w)return"Invalid input";
if(!v)return"Invalid input";if(!d)return"Social Security number is required";if(x){var U=/^\d{9,9}$/,R=d;if(!U.test(R))return"Social security number must contain exactly 9 digits."}}else return"Invalid input";return""};var Wr={};Wr.he=function(){return D("knol.ui.IdvCheckKr")};
Wr.Xm=function(a,b,c,d,f){Wr.he();a=Tr(a);b=Tr(b);c=Ur(c);d=Ur(d);f=Tr(f);if(!a)return"First name is required";if(!b)return"Last name is required";if(!f)return"Invalid input";if(f.toLowerCase()=="koreanrrn"){if(!c||!d)return"RRN (Resident Registration Number) required";var g=/^\d{6}$/;if(!g.test(c))return"The first part of an RRN (Resident Registration Number) must be exactly 6 digits";var h=/^\d{7}$/;if(!h.test(d))return'The second part (after "dash") of an RRN (Resident Registration Number) must be exactly 7 digits'}else return"Invalid input";return""};
Wr.GXa=function(){return k};var Xr=function(){};F(Xr,Xm);Xr.prototype.create=function(){var a=K({b:"div",id:"knol-scores-container",style:"display: none"});this.K(a);this.Zj(k,k,"knol.ui.client.KnolScores.init",[])};var Yr=function(a){var b=K(),c=0,d=Q();if(!d)return b;var f=d.fd();if(a==2){if(f==0)return b;c=d.$O()}else if(a==3){if(!d.pG())return b;c=d.B6()}else c=d.I5();var g="",h="",i="";if(a==2){h="submissions";var m=Nj("icons/collect.png");i=K({b:"img",src:m,sprite:"main",c:"knol-suggestions-top-icon"});if(c==0)g="There are no pending collection submissions";else if(c==1){var n="There is "+("<b>"+("1"+("</b>"+(" "+('<a href="#'+h+'">pending collection submission</a>')))));g=n}else{var o="There are "+("<b>"+
(c+("</b>"+(" "+('<a href="#'+h+'">pending collection submissions</a>')))));g=o}}else if(a==3){h="subsuggestions";i=K({b:"img",sprite:"main",c:"knol-suggestions-top-icon",src:Nj("icons/closed_collaboration.png")});if(c==0)return b;else if(c==1){var p="There is "+("<b>"+("1"+("</b>"+(" knol in this collection with "+('<a href="#'+h+'">pending edits</a>')))));g=p}else{var r="There are "+("<b>"+(c+("</b>"+(" knols in this collection with "+('<a href="#'+h+'">pending edits</a>')))));g=r}}else{h="edit-suggestions";
i=K({b:"img",sprite:"main",c:"knol-suggestions-top-icon",src:Nj("icons/moderated_collaboration.png")});if(c==0){if(f!=0)return b;g="There are no pending text suggestions from your readers"}else if(c==1){var t="There are "+('<a href="#'+h+'">pending text suggestions</a> from <b>1</b> reader');g=t}else{var v="There are "+('<a href="#'+h+'">'+("pending text suggestions"+("</a>"+(" from "+("<b>"+(c+"</b> readers"))))));g=v}}b=K({b:"div"});i?b.addElement(i):b.addElement(K({b:"span",c:"knol-suggestions-top-icon"}));
b.addElement(K({b:"span",c:"knol-suggestions-top-docked",d:g}));b.na();return b};var Zr=function(a,b){this.J=b;fo.call(this,a,yj.rC,"knol.ui.PendingDiscussionView")};F(Zr,go);Zr.prototype.ei="knol-pending-comment-list";Zr.prototype.Ln=function(){return $r(this.ub,this.J)};var $r=function(a,b){if(!a||!b)return l;if(!a.Pt())return l;var c=b.p(),d=a.S5();if(d.fj()){if(b.Fb()||a.ec(c))return j}else return l;return vc(d.bc(),function(f){var g=O(f);return g.MN()==c})};
Zr.prototype.Bha=function(){if(this.Ma){var a=this.ub,b;if(a.ec(this.J.p())||this.J.Fb()){var c="Comments awaiting your approval: "+a.S5().ia();b=c}else b="Your comments awaiting approval";this.K(K({b:"h3",id:"knol-pending-comment-header",d:b}))}};Zr.prototype.ip=function(){this.write("</div>");if(this.Ma&&this.ub&&this.ub.kO().fj()){this.K(K({b:"br"}));this.K(K({b:"h3",id:"knol-approved-comment-header",d:"Approved comments"}))}};Zr.prototype.Eha=function(){};
Zr.prototype.da=function(a){var b=ho(a);if(!b)return l;var c=this.J||Wf();if(!c)return l;if(c.Fb())return j;if(!this.ub)return l;if(this.ub.ec(c.p()))return j;var d=O(a.nodeId);if(c.p()==d.MN())return j;return l};var as=function(a,b,c,d){if(b){this.La=b;this.J=O(b)}this.TM=a||k;this.jma=c;this.eH=d};F(as,Xm);as.prototype.mw=function(a){if(this.vN)this.vN=l;else{var b="&#160;|&#160;";a?a.addElement(b):this.write(b)}};
as.prototype.create=function(){this.vN=j;var a=this.J&&this.J[pp.AK]=="UserStub",b="knol-header-menu-login",c=this.TM||"",d="knol-header-menu-email",f=d+"-c";this.write('<span id="'+f+'"><span id="'+d+'" class="'+b+'">'+c+"</span>");if(this.J&&!a)if(this.J.kg())this.K(K({b:"sup",d:"Admin",c:"knol-header-new-link-superscript"}));else this.J.Fb()&&this.K(K({b:"sup",d:"Limited-Admin",c:"knol-header-new-link-superscript"}));this.write("</span>");if(this.eH&&this.eH.length==2){var g=this.eH[0],h=this.eH[1];
if(g!=h){var i=K({b:"a",href:g,d:Pe(h),id:"knol-header-new-link",c:"knol-header-new-link knol-custom-bg-link"});this.mw();this.K(i);this.K(K({b:"sup",d:"New!",c:"knol-header-new-link-superscript",title:h}));this.mw()}}else this.vN=l;var m=this.Bta(),n=this.J&&!a?this.J.jk()+"#knols":"",o=this.La?"":"display: none",p=K({b:"span",style:o,id:"knol-header-my-profile-link-c"});if(n){p.addElement({b:"a",c:"knol-custom-bg-link",href:n,d:"My knols",id:"knol-header-my-profile-link"});this.mw(p)}if(n||a){var r=
Rj("Settings")+(m?"?back="+m:"");p.addElement({b:"a",href:r,id:"knol-header-prefs-link",c:"knol-custom-bg-link",d:"Preferences"});this.mw(p)}this.K(p);var t,v=Ue()||"";t=za(v,"/")?v.substring(0,v.length-1):v;this.JJ(t,"Home",k,k,"knol-custom-bg-link");this.mw();var w=Rj("knol/Help")+ig();this.JJ(w,"Help",k,"knol-header-menu-help","knol-custom-bg-link");this.mw();var x=this.La?"":"display: none",z=new K({b:"span",id:"knol-signout-link",style:x});z.addElement(bs());this.K(z);if(!this.La){var E=jf(),
M=K({b:"a",href:E,c:"knol-custom-bg-link",d:"Sign in",id:"knol-signin-link"});this.K(M)}this.write("&#160;")};as.prototype.Bta=function(){var a=(new Ed(document.location.href)).Pf("back"),b=Sf();return b||a||this.jma};var bs=function(){var a,b=Q(),c=b&&-1==b.pg();a=c||fg()=="user"?bg():cg();return new K({b:"a",c:"knol-custom-bg-link",href:a,d:"Sign out"})};var cs=function(){};F(cs,Xm);q=cs.prototype;q.dc=function(a,b,c,d,f,g){this.pD="knol.ui.client.PropertyEditor";this.y2=a;this.ara=b;this.Wp=c;this.Hba=d;this.GIa=f;this.nodeId=g;this.Ix=this.p9=l;this.hr=1E3};
q.create=function(){var a=Q(),b=a&&a.Ca(),c=this.aa(),d=c?"":' style="display: none"',f=b?'Click on the "Edit this collection" button to switch to edit mode and change this field.':'Click on the "Edit this knol" button to switch to edit mode and change this field.';this.nZ();var g,h=ng();g=h?jg(h):k;var i="knol-inline-editor knol-content-"+(g?"rtl":"ltr");this.write('<div class="'+i+'"><'+this.y2+' id="'+this.Wp+'" class="'+this.ara+'" title="'+Pe(f)+'" '+d+">");if(this.Ix){var m,n="<!-- google_ad_section_start";
n+=" --\>";m=n;this.write(m)}if(c){var o=bf(c,this.hr);if(this.uz())o=o.replace(/\n/g,"<br />");this.write(o)}else this.write("&#160;");this.write("</"+this.y2+">");if(this.dDa())if(this.uz())this.write('<textarea id="'+this.Wp+'-input" style="display: none"></textarea>');else{var p=this.hr?' maxlength="'+this.hr+'"':"";this.write('<input id="'+this.Wp+'-input" type="text" style="display: none"'+p+" />")}this.Ix&&this.write("<!-- google_ad_section_end --\>");this.write("</div>");this.ca()&&this.Zj(k,
k,"knol.getSingleton("+this.pD+").initOnClient",[])};q.ca=function(){var a=this.Wn();if(a instanceof of)a=a.Ja();var b=a instanceof T?a.ek(Wf(),20):Vg(Wf(),a,20);return!!Rf()&&b!=1&&b!=5};q.uz=function(){return this.p9};q.aa=function(){return this.Wn().m(this.Hba)};q.Wn=function(){if(!this.node)this.node=O(this.nodeId);return this.node};q.nZ=function(){};
var ds=function(){var a="",b=Q();a=b&&b.fd()!=0?"Collection title":"Title";cs.prototype.dc.call(this,"h1","knol-title","knol-title","title",a,Sf());this.pD="knol.ui.client.TitleEditor";this.hr=250;this.Ix=j};F(ds,cs);ds.prototype.ca=function(){if(this.Wn()instanceof Fl)return l;return ds.f.ca.call(this)};ds.prototype.nZ=function(){};
var es=function(){cs.prototype.dc.call(this,"h2","knol-subtitle","knol-subtitle","subtitle","Subtitle",Sf());this.pD="knol.ui.client.SubtitleEditor";this.hr=250;this.Ix=j};F(es,cs);es.prototype.ca=function(){if(this.Wn()instanceof Fl){var a=this.Wn().Ja();if(a&&a.Vx())return l}return es.f.ca.call(this)};var fs=function(){cs.prototype.dc.call(this,"h2","knol-abstract","knol-abstract","abstract","Summary",Sf());this.pD="knol.ui.client.AbstractEditor";this.p9=j;this.hr=3E3;this.Ix=j};F(fs,cs);
fs.prototype.create=function(){if(!(this.Wn()instanceof Fl))return fs.f.create.call(this)};fs.prototype.ca=function(){if(this.Wn()instanceof Fl)return l;return fs.f.ca.call(this)};var gs=function(a){if(!a.zy().Da()){this.ET=a;a=O(a.zy().fj())}fo.call(this,a,yj.Mg,"knol.ui.ReviewList");this.mea()};F(gs,fo);q=gs.prototype;q.Z$=0;q.lw=function(){this.write('<div id="'+this.Ob()+'" class="knol-box knol-sidebar-box">');this.ET?this.Iha("More reviews"):this.Iha("Reviews");this.write("<ul>")};q.ip=function(){this.write("</ul>");this.write("</div>");var a=zr(this.Yd==0);if(a){this.Zj(k,k,"knol.ui.client.CreateReview.swapReviewLink",["knol-create-review"]);this.write(a.w())}};
q.Ob=function(){return"knol-reviews"};q.da=function(a){if(this.ET)if(a.ng()==this.ET.p())return l;var b=O(a.nodeId);if(!b)return l;if(b.pg()==-2)return l;if(b.cR())return l;var c=Q();if(c&&c.T8(b.hd()))return l;var d=b.jd();if(!(d instanceof Fl)||d.YCa())return l;return j};
q.ls=function(a){var b=a.Un(),c=O(a.ng()),d=c.jd(),f=bf(d.eu(),22)||bf(d.pk(),22)||"Untitled Review",g=a.fy(),h=bf(a.ey(),20),i=a.hd().kj(),m;m="";var n=K({b:"li"}),o=K({b:"div",c:"knol-review"});o.addElement({b:"div",c:"g-section g-tpl-75-25",children:[{b:"div",c:"g-unit g-first",children:[{b:"div",c:"knol-review-author-image",children:[{b:"img",src:i,alt:"",id:"knol-review-image-"+a.nodeId}]},{b:"div",c:"knol-review-mid",children:[{b:"div",children:[{b:"a",href:b,d:f,c:"knol-review-snippet"}]},
{b:"div",c:"knol-review-author",children:[{b:"span",d:"by "},{b:"a",href:g,d:h}]}]}]},{b:"div",c:"g-unit",children:[{b:"div",id:m,c:"knol-review-zipit"}]}]});o.na();n.addElement(o);this.K(n);if(!cf.test(a.nodeId)){var p=W("knol.ui.AuthorList.getThumbnailItemFromId",[a.hd().p()]);p.k(A(function(r){var t=Y("knol-review-image-"+a.nodeId);if(t&&r)t.src=r},this))}};var hs=function(){};F(hs,Xm);hs.prototype.create=function(){this.write(K({b:"div",style:"display: none",id:"knol-revision-compare"}).w())};var is=function(a){if(!ia(a))return"linked to this page";var b="linked to this page ("+(a+")");return b},js=function(a){if(!ia(a))return"collected this page";var b="collected this page ("+(a+")");return b},ks=function(a){if(!ia(a))return"used this page as a template";var b="used this page as a template ("+(a+")");return b},ls=[{name:"option-link",$C:{back:j,link:j,language:"0"},Oe:is},{name:"option-collect",$C:{back:j,collections:"on",language:"0"},Oe:js},{name:"option-template",$C:{back:j,templateId:j,
language:"0"},Oe:ks}],ms=function(a,b){if(!a||!b)return k;var c=ac(a.$C,function(d){return typeof d=="boolean"?b:d});return c};var ns=function(){};F(ns,Xm);ns.prototype.create=function(){var a=K({b:"div",id:"knol-sub-collection-suggestions",style:"display: none"}),b="Pending edits for knols in this collection: "+Uf().Th();a.addElement({b:"h2",c:"knol-menu-heading-h2",d:b});a.addElement({b:"div",c:"knol-menu-heading-backlink-container",children:[{b:"a",c:"knol-menu-heading-backlink",href:"#view",d:"&#xAB; Back to viewing the collection"}]});a.P();a.addElement({b:"div",id:"knol-sub-collection-suggestions-list"});this.K(a)};var os=function(){};F(os,Xm);
os.prototype.create=function(){var a=K({b:"div",id:"knol-submissions",style:"display: none"}),b="Submissions for the collection: "+Uf().Th();a.addElement({b:"h2",c:"knol-menu-heading-h2",d:b});a.addElement({b:"div",c:"knol-menu-heading-backlink-container",children:[{b:"a",c:"knol-menu-heading-backlink",href:"#view",d:"&#xAB; Back to viewing the collection"}]});if(Q().Id()){var c;c=Q().pg()!=-2?"Note: any knols or collections not already published will be published upon acceptance into this collection.":"Note: Once this collection is published, any accepted knol or collection not already published will be published.";
a.addElement({b:"div",style:"display: none",id:"knol-menu-heading-extra-note",d:c})}a.addElement({b:"div",id:"knol-submissions-list"});a.addElement({b:"div",id:"knol-submissions-empty",style:"display: none",d:"There are no submissions for this collection."});this.K(a)};var ps=function(){var a=Sf();this.hz="knol-inline-sunset-"+a;this.qj="knol-inline-sunset-message-"+a};F(ps,Xm);var qs=function(){return D("knol.ui.SunsetAnnouncement")};q=ps.prototype;q.create=function(){var a=this.KL();this.mW(a)};q.mW=function(a){if(a.Td()||1)this.K(a)};q.KL=function(a){var b;qs();if(Y(this.qj))b=Y(this.qj).innerHTML;var c=K({b:"div",id:this.hz,c:"knol-inline-sunset"});if(b||a){var d=K({b:"span",id:this.qj,c:"knol-inline-sunset-message"});c.addElement(d);this.$K(c,b)}return c};
q.$K=function(a,b){if(b)if(!a||!a.children.length)qs().S("no "+this.qj+" to append the announcement");else if(a.children[0].text)a.children[0].text+=b;else a.children[0].text=b};q.eh=function(){return Xm.prototype.eh.call(this)};var rs=function(){};F(rs,Xm);var ss={truncated:0,nItems:0,dispLevel:0,nonemptyLevels:[],htmlCode:""};rs.prototype.Ln=function(){if(this.Kua("embed.toc")=="false")return l;var a=Q();if(!a.HE())return l;return j};rs.prototype.create=function(){if(this.Ln()){var a=Uf();this.K(this.kFa(a.bF(),0))}};rs.prototype.kFa=function(){return k};var ts=function(a,b,c,d,f){$q.call(this,d);this.ib=new Ed(f||"http://chart.apis.google.com/chart");this.ZM="";this.Mp=[];this.aU=[];this.rI=[];this.XSa=[];this.vEa=[];this.JKa=[];this.WFa=[];this.UFa={};this.SFa={};this.VFa={};this.TFa={};this.ui(a);this.Hg(b,c);this.Pz=this.tDa()?0:Infinity};B(ts,$q);q=ts.prototype;q.ORa=2048;q.fza=0;q.gza=0;q.WG=-Infinity;q.Ze=k;q.wEa=k;q.Aaa=k;
q.h=function(){var a=this.getSize();this.Wd(this.L().h("img",{src:this.FP(),"class":"goog-serverchart-image",width:a[0],height:a[1]}))};q.vc=function(a){a.src=this.FP();this.Wd(a)};q.FP=function(){this.eoa();return this.ib};q.ui=function(a){this.ib.fa("cht",a)};q.la=function(){return this.ib.Pf("cht")};q.Hg=function(a,b){var c=[a||300,b||150].join("x");this.ib.fa("chs",c)};q.getSize=function(){var a=this.ib.Pf("chs");return a.split("x")};q.nNa=function(a){this.Pz=a};
q.tDa=function(){var a=this.la();return a=="p"||a=="p3"||a=="pc"};q.isMap=function(){var a=this.la();return a=="t"||a=="tuss"||a=="twoc"};q.fa=function(a,b){this.ib.fa(a,b)};q.removeParameter=function(a){this.ib.removeParameter(a)};q.Ye=function(a){this.Ze=a;this.ib.fa("chtt",this.Ze.replace(/\n/g,"|"))};
q.Wja=function(a,b,c){var d=this.Sla(a);if(d<this.Pz)this.Pz=d;var f=this.Rla(a);if(f>this.WG)this.WG=f;if(s(c)){if(this.rI.length<this.Mp.length)e(Error("Cannot start adding legends text after first element."));this.rI.push(c);this.ib.fa("chdl",this.rI.join("|"))}this.Mp.push(a);this.aU.push(b);this.ib.fa("chco",this.aU.join(","))};q.getData=function(a){if(s(a))return this.Mp[a];return this.Mp};q.eoa=function(){var a;if(this.ZM!="")a=this.DL(this.ZM);else(a=this.DL("e"))||(a=this.DL("s"));a||this.dispatchEvent(new us(this.ib.toString()))};
q.DL=function(a){for(var b=[],c=0,d=this.Mp.length;c<d;++c)b[c]=this.Qta(this.Mp[c],this.Pz,this.WG,a);var f=a=="t"?"|":",";b=b.join(f);var g;g=this.Aaa==k?cb(a,":",b):cb(a,this.Aaa,":",b);this.ib.fa("chd",g);return this.ib.toString().length<this.ORa};var vs=Math.pow(64,2)-1;q=ts.prototype;
q.gua=function(a,b,c,d){var f=d=="e";if(ha(a)||!s(a)||isNaN(a)||a<b||a>c)return f?"__":"_";if(d=="t")return String(a);var g=0.5;if(c>b)g=(a-b)/(c-b);if(f){var h=64,i=vs,m=Math.floor(g*i/h),n=Math.floor(g*i%h),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.";return o.charAt(m)+o.charAt(n)}var p=Math.round(g*61);return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(p)};
q.Qta=function(a,b,c,d){for(var f=[],g=0,h=a.length;g<h;++g)f.push(this.gua(a[g],b,c,d));return f.join(this.ZM=="t"?",":"")};q.Sla=function(a){for(var b=Infinity,c=0,d=a.length;c<d;++c){var f=a[c];if(f!=k&&f<b)b=f}return b};q.Rla=function(a){for(var b=-Infinity,c=0,d=a.length;c<d;++c){var f=a[c];if(f!=k&&f>b)b=f}return b};
q.n=function(){ts.f.n.call(this);delete this.XSa;delete this.vEa;delete this.JKa;delete this.fza;delete this.gza;delete this.aU;delete this.rI;delete this.Mp;this.ib=k;delete this.Pz;delete this.WG;this.Ze=k;delete this.WFa;delete this.UFa;delete this.SFa;delete this.VFa;delete this.TFa;this.wEa=k};var us=function(a){bi.call(this,"uritoolong");this.uri=a};B(us,bi);var ws=function(a){if(a){this.Baa=O(sf(a));this.vra=O(a+"_EVENTS");this.hG=this.Baa instanceof Dl;if(!this.hG)this.Xa=O(a).Ca()}};F(ws,Xm);
ws.prototype.create=function(){D("knol.ui.UsageStats");var a=this.Baa,b=this.vra;if(a){var c=K({b:"div",id:"knol-usage-stats",c:"knol-box knol-sidebar-box"}),d=this.hG?"Activity for this author":this.Xa?"Activity for this collection":"Activity for this knol",f=!this.hG?b:a,g=f?f.Xn():k,h=[{label:"pageviews",value:g},{label:"comments",value:a.AE(),link:"#comments"},{label:"ratings",value:a.lF()},{label:"suggestions",value:a.rF()}],i=new K({b:"div"});i.addElement({b:"h4",d:"This week:"});var m=l;C(h,
function(t){if(t.value&&t.value.IP()){i.addElement({b:"span",c:"knol-usage-stats-value",d:t.value.IP()});var v=k;v=t.link?K({b:"a",href:t.link,d:t.label}):K({b:"span",d:t.label});i.addElement({b:"span",c:"knol-usage-stats-label",children:[v]});t.value.EO()&&i.addElement(this.ZJa(t.value.EO()));i.P();m=j}},this);var n=new K({b:"div"});n.addElement({b:"h4",d:"Totals:"});var o=l;C(h,function(t){if(t.value&&t.value.DP()){n.addElement({b:"span",c:"knol-usage-stats-value",d:t.value.DP()});n.addElement({b:"span",
c:"knol-usage-stats-label",d:t.label});n.P();o=j}});if(m||o){c.addElement({b:"h3",d:d});if(this.hG){var p=g.Mya();if(p){var r="Last updated: "+pf(p);c.addElement({b:"div",c:"knol-usage-stats-timestamp",d:r})}}m&&c.addElement(i);o&&c.addElement(n);c.addElement({b:"div",id:"knol-usage-stats-analytics"});this.Zj(k,k,"knol.ui.client.UsageStats.init",[]);this.K(c)}}};
ws.prototype.ZJa=function(a){if(!a||!a.length)return k;var b=new ts("ls"),c=Math.min(7,a.length);b.Wja(a.slice(0,c).reverse(),"0077cc");b.Hg(75,15);b.nNa(0);var d=new Ed(b.FP());d.fa("chco","0077cc");d.fa("chm","B,e6f2fa,0,0,0");d.fa("chf","bg,s,ffffff");var f=K({b:"img",c:"knol-usage-stats-graph",src:d.toString()});return f};var xs=function(a){return"knol-authorpage-visibility-"+a.substring(17)},Ao=function(a,b,c){var d=c||req.args,f={};if(d instanceof En)f=d;else{var g=new Do(l);f=g.mLa(d,j)}var h=K({b:"div",c:b?"":"knol-search-visibility",id:a});h.addElement({b:"span",c:"knol-search-visibility-label",d:"Show results that are:"});var i=s(f.QC)?!!f.QC:undefined,m=s(f.PC)?!!f.PC:j,n=K({b:"input",type:"checkbox",c:"knol-search-checkbox",checked:m,name:"pub",id:a+"-published"});h.addElement(n);h.addElement(K({b:"span",d:"Published"}));
var o=K({b:"input",type:"checkbox",c:"knol-search-checkbox",checked:i,name:"unpub",id:a+"-unpublished"});h.addElement(o);h.addElement(K({b:"span",d:"Unpublished"}));return h};var ys={JUa:"GenericError",GVa:"NodeHasBeenDeleted",HVa:"NodeNotFound",JVa:"NoNodesFound",VWa:"WebspaceNotFound",gVa:"KnolNotPublished",fVa:"KnolFlagged",OVa:"PageViewLimitExceeded",VUa:"InviteHasExpired",cTa:"AccountClosed"};u("knol.Errors.Error",ys,void 0);
var zs=function(a){switch(a){case "NodeHasBeenDeleted":return"The requested knol has been deleted by one of its owners.";case "NoNodesFound":case "NodeNotFound":case "WebspaceNotFound":return"The requested knol could not be found.";case "KnolNotPublished":return"The requested knol is currently not published.";case "KnolFlagged":return"The requested knol has been flagged and is no longer available.";case "AccountClosed":return"The author's Google Account has been closed and the requested knol is no longer available.";
case "PageViewLimitExceeded":return"We are sorry, but this IP address has exceeded its page view limit at this time. Please try again later.";case "InviteHasExpired":return"Your invitation to access this knol has expired.";default:return"Oops... We are experiencing some technical difficulty at the moment.  Please try again later."}};u("knol.Errors.getMessage",zs,void 0);var Cp={index:j,follow:l,odp:l};var As={};As={};As.cd={};if(typeof Bs=="undefined")var Bs=[];if(typeof Cs=="undefined")var Cs=[];As.cd.pja="";As.cd.pC={Jia:"m",uja:"w",Iia:"l",sja:"u"};As.cd.jC={XX:"g",KY:"r"};As.cd.Iwa=function(){var a=As.cd.pC.sja;if(ve)a=As.cd.pC.uja;else if(ue)a=As.cd.pC.Jia;else if(we)a=As.cd.pC.Iia;return a};As.cd.Xua=function(a){var b=[];b.push(As.cd.Iwa());for(var c=0;c<a.length;++c){var d=new Date(a[c]);b.push(d.getTimezoneOffset()|0)}return As.cd.mra(b)};
u("gsites.date.TimeZone.getFingerprint",As.cd.Xua,void 0);As.cd.mra=function(a){var b=a.length;if(b<2)return As.cd.pja;for(var c=[a[0]],d=a[1],f=d,g=1,h=2;h<b;){f=a[h++];if(f!==d){c.push(As.cd.jC.XX+As.cd.ID(d)+As.cd.jC.KY+As.cd.ID(g));d=f;g=1}else g++}c.push(As.cd.jC.XX+As.cd.ID(f)+As.cd.jC.KY+As.cd.ID(g));return c.join("")};As.cd.ID=function(a){if(a>=0)return a.toString(16).toUpperCase();else{var b=-a;return"-"+b.toString(16).toUpperCase()}};var Es=function(a,b,c,d,f,g,h,i){var m,n=c.offsetParent;if(n){var o=n.tagName=="HTML"||n.tagName=="BODY";if(!o||oq(n)!="static"){m=tq(n);o||(m=ph(m,new oh(n.scrollLeft,n.scrollTop)))}}var p,r=a,t=Bq(r),v=vq(r);v&&t.N8(new uh(v.left,v.top,v.right-v.left,v.bottom-v.top));var w=p=t,x=Ol(a),z=Ol(c);if(x.M()!=z.M()){var E=x.M().body,M,J=z.ka(),U=new oh(0,0),R=Zl(Nl(E)),N=E;do{var sa=R==J?tq(N):wq(N);U.x+=sa.x;U.y+=sa.y}while(R&&R!=J&&(N=R.frameElement)&&(R=R.parent));M=U;M=ph(M,tq(E));if(H&&!x.kG())M=
ph(M,x.Sl());w.left+=M.x;w.top+=M.y}var Fa=(b&4&&uq(a)?b^2:b)&-5,Gb=new oh(Fa&2?p.left+p.width:p.left,Fa&1?p.top+p.height:p.top);if(m)Gb=ph(Gb,m);if(f){Gb.x+=(Fa&2?-1:1)*f.x;Gb.y+=(Fa&1?-1:1)*f.y}var $a;if(h)if(($a=vq(c))&&m){$a.top=Math.max(0,$a.top-m.y);$a.right-=m.x;$a.bottom-=m.y;$a.left=Math.max(0,$a.left-m.x)}return Ds(Gb,c,d,g,$a,h,i)},Ds=function(a,b,c,d,f,g,h){a=a.ua();var i=0,m=(c&4&&uq(b)?c^2:c)&-5,n=Aq(b),o=h?h.ua():n;if(d||m!=0){if(m&2)a.x-=o.width+(d?d.right:0);else if(d)a.x+=d.left;
if(m&1)a.y-=o.height+(d?d.bottom:0);else if(d)a.y+=d.top}if(g){var p;if(f){var r=a,t=o,v=f,w=g,x=0;if(r.x<v.left&&w&1){r.x=v.left;x|=1}if(r.x<v.left&&r.x+t.width>v.right&&w&16){t.width-=r.x+t.width-v.right;x|=4}if(r.x+t.width>v.right&&w&1){r.x=Math.max(v.right-t.width,v.left);x|=1}if(w&2)x|=(r.x<v.left?16:0)|(r.x+t.width>v.right?32:0);if(r.y<v.top&&w&4){r.y=v.top;x|=2}if(r.y>=v.top&&r.y+t.height>v.bottom&&w&32){t.height-=r.y+t.height-v.bottom;x|=8}if(r.y+t.height>v.bottom&&w&4){r.y=Math.max(v.bottom-
t.height,v.top);x|=2}if(w&8)x|=(r.y<v.top?64:0)|(r.y+t.height>v.bottom?128:0);p=x}else p=256;i=p;if(i&496)return i}pq(b,a);th(n,o)||zq(b,o);return i};var Fs=function(a){this.B=a;var b=H?"focusin":"focus",c=H?"focusout":"blur";this.BEa=V(this.B,b,this,!H);this.CEa=V(this.B,c,this,!H)};B(Fs,Oi);Fs.prototype.handleEvent=function(a){var b=a.Zg(),c=new ei(b);c.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(c)}finally{c.l()}};Fs.prototype.n=function(){Fs.f.n.call(this);Ei(this.BEa);Ei(this.CEa);delete this.B};var Gs=function(a,b,c){this.target=a;this.NP=b||a;this.GR=c||new uh(NaN,NaN,NaN,NaN);this.Sc=Nl(a);this.j=new fq(this);V(this.NP,"mousedown",this.Lfa,l,this)};B(Gs,Oi);var Hs=H||I&&Fe("1.9.3");q=Gs.prototype;q.screenX=0;q.screenY=0;q.Sfa=0;q.Tfa=0;q.dt=0;q.et=0;q.Ma=j;q.un=l;q.f8=0;q.FFa=0;q.SBa=l;q.Ba=function(){return this.j};q.Ln=function(){return this.Ma};q.U=function(a){this.Ma=a};
q.n=function(){Gs.f.n.call(this);Ci(this.NP,"mousedown",this.Lfa,l,this);this.j.l();delete this.target;delete this.NP;delete this.j};q.Lfa=function(a){if(this.Ma&&!this.un&&(a.type!="mousedown"||a.kz(0))){if(this.f8==0){this.z8(a);if(this.un)a.preventDefault();else return}else a.preventDefault();this.EOa();this.screenX=this.Sfa=a.screenX;this.screenY=this.Tfa=a.screenY;this.dt=this.target.offsetLeft;this.et=this.target.offsetTop;this.lA=Ol(this.Sc).Sl();this.FFa=xa()}};
q.EOa=function(){var a=this.Sc,b=a.documentElement,c=!Hs;this.j.g(a,"mousemove",this.GFa,c);this.j.g(a,"mouseup",this.XD,c);if(Hs){b.setCapture(l);this.j.g(b,"losecapture",this.XD)}else this.j.g(Zl(a),"blur",this.XD);H&&this.SBa&&this.j.g(a,"dragstart",di);this.jLa&&this.j.g(this.jLa,"scroll",this.nHa,c)};q.z8=function(a){var b=this.dispatchEvent(new Is("start",this,a.clientX,a.clientY,a));if(b!==l)this.un=j};
q.XD=function(a,b){this.j.pb();Hs&&this.Sc.releaseCapture();if(this.un){this.un=l;var c=this.h$(this.dt),d=this.i$(this.et);this.dispatchEvent(new Is("end",this,a.clientX,a.clientY,a,c,d,b))}};
q.GFa=function(a){if(this.Ma){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.un){var d=this.Sfa-this.screenX,f=this.Tfa-this.screenY,g=d*d+f*f;if(g>this.f8){this.z8(a);if(!this.un){this.XD(a);return}}}var h=this.u_(b,c),i=h.x,m=h.y;if(this.un){var n=this.dispatchEvent(new Is("beforedrag",this,a.clientX,a.clientY,a,i,m));if(n!==l){this.d2(a,i,m,l);a.preventDefault()}}}};
q.u_=function(a,b){var c=Ol(this.Sc).Sl();a+=c.x-this.lA.x;b+=c.y-this.lA.y;this.lA=c;this.dt+=a;this.et+=b;var d=this.h$(this.dt),f=this.i$(this.et);return new oh(d,f)};q.nHa=function(a){var b=this.u_(0,0);a.clientX=this.lA.x-this.screenX;a.clientY=this.lA.x-this.screenY;this.d2(a,b.x,b.y,j)};q.d2=function(a,b,c){this.hM(b,c);this.dispatchEvent(new Is("drag",this,a.clientX,a.clientY,a,b,c))};
q.h$=function(a){var b=this.GR,c=!isNaN(b.left)?b.left:k,d=!isNaN(b.width)?b.width:0,f=c!=k?c+d:Infinity,g=c!=k?c:-Infinity;return Math.min(f,Math.max(g,a))};q.i$=function(a){var b=this.GR,c=!isNaN(b.top)?b.top:k,d=!isNaN(b.height)?b.height:0,f=c!=k?c+d:Infinity,g=c!=k?c:-Infinity;return Math.min(f,Math.max(g,a))};q.hM=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};
var Is=function(a,b,c,d,f,g,h,i){bi.call(this,a);this.clientX=c;this.clientY=d;this.nXa=f;this.left=s(g)?g:b.dt;this.top=s(h)?h:b.et;this.s2=b;this.HXa=!!i};B(Is,bi);var Ks=function(a,b,c){$q.call(this,c);this.se=a||"modal-dialog";this.dW=!!b;this.Ni=Js};B(Ks,$q);q=Ks.prototype;q.Dn=k;q.ura=j;q.sQ=j;q.dW=l;q.Rz=j;q.r2=j;q.kma=0.5;q.Ze="";q.Gc="";q.Ni=k;q.lt=k;q.Bd=l;q.a2=l;q.Cd=k;q.qd=k;q.Ah=k;q.Vk=k;q.uV=k;q.Rm=k;q.Ih=k;q.Ge=k;q.Ye=function(a){this.Ze=a;this.Vk&&tm(this.Vk,a)};q.kd=function(){return this.Ze};q.zd=function(a){this.Gc=a;if(this.Ih)this.Ih.innerHTML=a};q.getContent=function(){return this.Gc};q.RH=function(){this.e()||this.ba()};
q.Fa=function(){this.RH();return this.Ih};q.J6=function(){this.RH();return this.Ah};q.Kf=function(){this.RH();return this.Ge};q.v4=function(){this.RH();return this.e()};q.oNa=function(a){this.Rz=a;this.XR();var b=this.L();if(this.nc()&&a&&this.da()){this.qd&&b.QQ(this.qd,this.e());this.Cd&&b.QQ(this.Cd,this.e());this.xT()}};q.Ioa=function(){var a=new Gs(this.e(),this.Ah);X.add(this.Ah,this.se+"-title-draggable");return a};
q.h=function(){this.XR();var a=this.L();this.Wd(a.h("div",{className:this.se,tabIndex:0},this.Ah=a.h("div",{className:this.se+"-title",id:this.p()},this.Vk=a.h("span",this.se+"-title-text",this.Ze),this.Rm=a.h("span",this.se+"-title-close")),this.Ih=a.h("div",this.se+"-content"),this.Ge=a.h("div",this.se+"-buttons"),this.lga=a.h("span",{tabIndex:0})));this.uV=this.Ah.id;dq(this.e(),"dialog");eq(this.e(),"labelledby",this.uV||"");if(this.Gc)this.Ih.innerHTML=this.Gc;$(this.Rm,this.sQ);$(this.e(),l);
this.Ni&&this.Ni.cL(this.Ge)};q.XR=function(){if(this.dW&&this.Rz&&!this.qd){var a,b=this.L();this.qd=a=b.h("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});this.qd.className=this.se+"-bg";$(this.qd,l);Dq(this.qd,0)}else if((!this.dW||!this.Rz)&&this.qd){Z(this.qd);this.qd=k}if(this.Rz&&!this.Cd){this.Cd=this.L().h("div",this.se+"-bg");Dq(this.Cd,this.kma);$(this.Cd,l)}else if(!this.Rz&&this.Cd){Z(this.Cd);this.Cd=k}};
q.ba=function(a){if(this.nc())e(Error("Component already rendered"));this.e()||this.h();var b=a||this.L().M().body;this.sca(b);Ks.f.ba.call(this,b)};q.sca=function(a){this.qd&&a.appendChild(this.qd);this.Cd&&a.appendChild(this.Cd)};q.qe=function(a){return a&&a.tagName&&a.tagName=="DIV"&&Ks.f.qe.call(this,a)};
q.vc=function(a){Ks.f.vc.call(this,a);X.add(this.e(),this.se);var b=this.se+"-content";if(this.Ih=Rl(k,b,this.e())[0])this.Gc=this.Ih.innerHTML;else{this.Ih=this.L().h("div",b);if(this.Gc)this.Ih.innerHTML=this.Gc;this.e().appendChild(this.Ih)}var c=this.se+"-title",d=this.se+"-title-text",f=this.se+"-title-close";if(this.Ah=Rl(k,c,this.e())[0]){this.Vk=Rl(k,d,this.Ah)[0];this.Rm=Rl(k,f,this.Ah)[0]}else{this.Ah=this.L().h("div",c);this.e().insertBefore(this.Ah,this.Ih)}if(this.Vk)this.Ze=Dm(this.Vk);
else{this.Vk=this.L().h("span",d,this.Ze);this.Ah.appendChild(this.Vk)}eq(this.e(),"labelledby",this.uV||"");if(!this.Rm){this.Rm=this.L().h("span",f);this.Ah.appendChild(this.Rm)}$(this.Rm,this.sQ);var g=this.se+"-buttons";if(this.Ge=Rl(k,g,this.e())[0]){this.Ni=new Ls(this.L());this.Ni.Oa(this.Ge)}else{this.Ge=this.L().h("div",g);this.e().appendChild(this.Ge);this.Ni&&this.Ni.cL(this.Ge)}this.XR();this.sca(Nl(this.e()).body);$(this.e(),l)};
q.za=function(){Ks.f.za.call(this);this.Dn=new Fs(this.L().M());if(this.r2&&!this.lt)this.lt=this.Ioa();this.Ba().g(this.Rm,"click",this.vHa).g(this.Dn,"focusin",this.NGa);dq(this.e(),"dialog");this.Vk.id!==""&&eq(this.e(),"labelledby",this.Vk.id)};q.yc=function(){this.da()&&this.H(l);this.Dn.l();this.Dn=k;if(this.lt){this.lt.l();this.lt=k}Ks.f.yc.call(this)};
q.H=function(a){if(a!=this.Bd){var b=this.L().M(),c=Zl(b)||window;this.nc()||this.ba(b.body);if(a){this.xT();this.Za();this.Ba().g(this.e(),"keydown",this.oH,j).g(this.e(),"keypress",this.oH,j).g(c,"resize",this.Raa,j)}else this.Ba().Cb(this.e(),"keydown",this.oH,j).Cb(this.e(),"keypress",this.oH,j).Cb(c,"resize",this.Raa,j);this.qd&&$(this.qd,a);this.Cd&&$(this.Cd,a);$(this.e(),a);a&&this.focus();if(this.Bd=a)this.Ba().g(this.Ge,"click",this.Faa);else{this.Ba().Cb(this.Ge,"click",this.Faa);this.dispatchEvent("afterhide");
this.a2&&this.l()}}};q.da=function(){return this.Bd};q.focus=function(){try{this.e().focus()}catch(a){}if(this.kf()){var b=this.kf().In();if(b)for(var c=this.L().M(),d=this.Ge.getElementsByTagName("button"),f=0,g;g=d[f];f++)if(g.name==b){try{if(pe||oe){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.e().appendChild(h);h.focus();this.e().removeChild(h)}g.focus()}catch(i){}break}}};
q.xT=function(){this.qd&&$(this.qd,l);this.Cd&&$(this.Cd,l);var a=this.L().M(),b=Zl(a)||window,c=Wl(b),d=a.body.scrollWidth,f=Math.max(a.body.scrollHeight,c.height);if(this.qd){$(this.qd,j);zq(this.qd,d,f)}if(this.Cd){$(this.Cd,j);zq(this.Cd,d,f)}if(this.r2){var g=Aq(this.e());this.lt.GR=new uh(0,0,d-g.width,f-g.height)}};
q.Za=function(){var a=this.L().M(),b=Zl(a)||window;if(oq(this.e())=="fixed")var c=0,d=0;else{var f=this.L().Sl();c=f.x;d=f.y}var g=Aq(this.e()),h=Wl(b),i=Math.max(c+h.width/2-g.width/2,0),m=Math.max(d+h.height/2-g.height/2,0);pq(this.e(),i,m)};q.vHa=function(){if(this.sQ){var a=this.kf(),b=a&&a.S3();if(b){var c=a.z(b);this.dispatchEvent(new Ms(b,c))&&this.H(l)}else this.H(l)}};q.Vda=function(a){this.a2=a};
q.n=function(){Ks.f.n.call(this);if(this.Cd){Z(this.Cd);this.Cd=k}if(this.qd){Z(this.qd);this.qd=k}this.lga=this.Ge=this.Rm=k};q.vv=function(a){this.Ni=a;if(this.Ge)if(this.Ni)this.Ni.cL(this.Ge);else this.Ge.innerHTML=""};q.kf=function(){return this.Ni};q.Faa=function(a){var b=this.dsa(a.target);if(b&&!b.disabled){var c=b.name,d=this.kf().z(c);this.dispatchEvent(new Ms(c,d))&&this.H(l)}};q.dsa=function(a){for(var b=a;b!=k&&b!=this.Ge;){if(b.tagName=="BUTTON")return b;b=b.parentNode}return k};
q.oH=function(a){var b=l,c=l,d=this.kf(),f=a.target;if(a.type=="keydown")if(this.ura&&a.keyCode==27){var g=d&&d.S3(),h=f.tagName=="SELECT"&&!f.disabled;if(g&&!h){c=j;var i=d.z(g);b=this.dispatchEvent(new Ms(g,i))}else h||(b=j)}else{if(a.keyCode==9&&a.shiftKey&&f==this.e())c=j}else if(a.keyCode==13){var m;if(f.tagName=="BUTTON")m=f.name;else if(d){var n=d.In(),o=n&&d.$g(n);h=(f.tagName=="TEXTAREA"||f.tagName=="SELECT")&&!f.disabled;if(o&&!o.disabled&&!h)m=n}if(m){c=j;b=this.dispatchEvent(new Ms(m,
String(d.z(m))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&this.H(l)};q.Raa=function(){this.xT()};q.NGa=function(a){this.lga==a.target&&Si(this.rsa,0,this)};q.rsa=function(){H&&this.L().M().body.focus();this.e().focus()};var Ms=function(a,b){this.type="dialogselect";this.ea=a;this.caption=b};B(Ms,bi);var Ls=function(a){this.O=a||Ol();xc.call(this)},Js,Ns;B(Ls,xc);q=Ls.prototype;q.se="goog-buttonset";q.JD=k;q.B=k;q.re=k;
q.G=function(a,b,c,d){xc.prototype.G.call(this,a,b);if(c)this.JD=a;if(d)this.re=a;return this};q.cL=function(a){this.B=a;this.ba()};q.ba=function(){if(this.B){this.B.innerHTML="";var a=Ol(this.B);uc(this,function(b,c){var d=a.h("button",{name:c},b);if(c==this.JD)d.className=this.se+"-default";this.B.appendChild(d)},this)}};
q.Oa=function(a){if(!(!a||a.nodeType!=1)){this.B=a;for(var b=this.B.getElementsByTagName("button"),c=0,d,f,g;d=b[c];c++){f=d.name||d.id;g=Dm(d)||d.value;if(f){var h=c==0,i=d.name=="cancel";this.G(f,g,h,i);h&&X.add(d,this.se+"-default")}}}};q.lI=function(a){this.JD=a};q.In=function(){return this.JD};q.S3=function(){return this.re};q.$g=function(a){for(var b=this.jta(),c=0,d;d=b[c];c++)if(d.name==a||d.id==a)return d;return k};q.jta=function(){return this.B.getElementsByTagName("BUTTON")};
Ns=(new Ls).G("ok","OK",j,j);Js=(new Ls).G("ok","OK",j).G("cancel","Cancel",l,j);(new Ls).G("yes","Yes",j).G("no","No",l,j);(new Ls).G("yes","Yes").G("no","No",j).G("cancel","Cancel",l,j);(new Ls).G("continue","Continue").G("save","Save").G("cancel","Cancel",j,j);var Os=function(){this.wL=[]};B(Os,br);fa(Os);q=Os.prototype;q.It=function(a){var b=this.wL[a];if(!b){switch(a){case 0:b=this.Bq()+"-highlight";break;case 1:b=this.Bq()+"-checkbox";break;case 2:b=this.Bq()+"-content";break}this.wL[a]=b}return b};q.Mh=function(){return"menuitem"};q.h=function(a){var b=a.L().h("div",this.lg(a).join(" "),this.K0(a.getContent(),a.L()));this.hU(a,b,a.xg(8)||a.xg(16));return b};q.Fa=function(a){return a&&a.firstChild};
q.Oa=function(a,b){this.hBa(b)||b.appendChild(this.K0(b.childNodes,a.L()));if(X.mj(b,"goog-option")){a.RA(j);this.RA(a,b,j)}return Os.f.Oa.call(this,a,b)};q.zd=function(a,b){var c=this.Fa(a),d=this.nQ(a)?c.firstChild:k;Os.f.zd.call(this,a,b);if(d&&!this.nQ(a))c.insertBefore(d,c.firstChild||k)};q.hBa=function(a){var b=mm(a),c=this.It(2);return!!b&&b.className.indexOf(c)!=-1};q.K0=function(a,b){var c=this.It(2);return b.h("div",c,a)};
q.vU=function(a,b,c){if(b){dq(b,c?"menuitemradio":this.Mh());this.hU(a,b,c)}};q.RA=function(a,b,c){if(b){dq(b,c?"menuitemcheckbox":this.Mh());this.hU(a,b,c)}};q.nQ=function(a){var b=this.Fa(a);if(b){var c=b.firstChild,d=this.It(1);return!!c&&!!c.className&&c.className.indexOf(d)!=-1}return l};q.hU=function(a,b,c){if(c!=this.nQ(b)){X.Ic(b,"goog-option",c);var d=this.Fa(b);if(c){var f=this.It(1);d.insertBefore(a.L().h("div",f),d.firstChild||k)}else d.removeChild(d.firstChild)}};
q.Tx=function(a){switch(a){case 2:return this.It(0);case 16:case 8:return"goog-option-selected";default:return Os.f.Tx.call(this,a)}};q.uP=function(a){var b=this.It(0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return Os.f.uP.call(this,a)}};q.X=function(){return"goog-menuitem"};var Ps=function(a,b,c,d){or.call(this,a,d||Os.fb(),c);this.Pa(b)};B(Ps,or);Ps.prototype.aa=function(){var a=this.Zt();return a!=k?a:this.iq()};Ps.prototype.Pa=function(a){this.pNa(a)};Ps.prototype.vU=function(a){this.tf(8,a);this.lz()&&!a&&this.Eg(l);var b=this.e();b&&this.Ka.vU(this,b,a)};Ps.prototype.RA=function(a){this.tf(16,a);var b=this.e();b&&this.Ka.RA(this,b,a)};mr("goog-menuitem",function(){return new Ps(k)});var Qs=function(){};Qs.prototype.Za=function(){};var Rs=function(a,b){this.ya=a;this.Fp=b};B(Rs,Qs);Rs.prototype.Za=function(a,b,c){Es(this.ya,this.Fp,a,b,undefined,c)};var Ss=function(a,b,c){Rs.call(this,a,b);this.ila=c};B(Ss,Rs);Ss.prototype.Za=function(a,b,c,d){var f=Es(this.ya,this.Fp,a,b,k,c,10,d);if(f&496){var g=this.Fp,h=b;if(f&48){g^=2;h^=2}if(f&192){g^=1;h^=1}f=Es(this.ya,g,a,h,k,c,10,d);if(f&496)this.ila?Es(this.ya,this.Fp,a,b,k,c,5,d):Es(this.ya,this.Fp,a,b,k,c,0,d)}};var Ts=function(a,b,c,d){Ss.call(this,a,b,c);this.sKa=d};B(Ts,Ss);Ts.prototype.Za=function(a,b,c,d){this.sKa?Es(this.ya,this.Fp,a,b,k,c,33,d):Ts.f.Za.call(this,a,b,c,d)};var Us=function(a,b){this.mn=a instanceof oh?a:new oh(a,b)};B(Us,Qs);Us.prototype.Za=function(a,b,c,d){var f=qq(a),g=new oh(this.mn.x+f.scrollLeft,this.mn.y+f.scrollTop);Es(f,0,a,b,g,c,k,d)};var Vs=function(a,b){Us.call(this,a,b)};B(Vs,Us);Vs.prototype.Za=function(a,b,c,d){var f=qq(a),g=vq(f),h=Ol(a).y4(),i=new oh(this.mn.x+h.scrollLeft,this.mn.y+h.scrollTop),m=10,n=b,o=Ds(i,a,n,c,g,m,d);if((o&496)!=0){if(o&16||o&32)n^=2;if(o&64||o&128)n^=1;o=Ds(i,a,n,c,g,m,d);(o&496)!=0&&Ds(i,a,b,c,g,undefined,d)}};var Ws=function(){};B(Ws,br);fa(Ws);Ws.prototype.h=function(a){return a.L().h("div",this.X())};Ws.prototype.Oa=function(a,b){if(b.tagName=="HR"){var c=b;b=this.h(a);hm(b,c);Z(c)}else X.add(b,this.X());return b};Ws.prototype.zd=function(){};Ws.prototype.X=function(){return"goog-menuseparator"};var Xs=function(a,b){or.call(this,k,a||Ws.fb(),b);this.tf(1,l);this.tf(2,l);this.tf(4,l);this.tf(32,l);this.Hea(1)};B(Xs,or);Xs.prototype.za=function(){Xs.f.za.call(this);dq(this.e(),"separator")};mr("goog-menuseparator",function(){return new Xs});var Ys=function(){};fa(Ys);var Zs=function(a,b){var c=new a;c.X=function(){return b};return c};q=Ys.prototype;q.Mh=function(){};q.uBa=function(a){if(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){var c=a.tabIndex;return la(c)&&c>=0}}return l};q.XM=function(a,b){if(a)a.tabIndex=b?0:-1};q.h=function(a){return a.L().h("div",this.lg(a).join(" "))};q.Fa=function(a){return a};q.qe=function(a){return a.tagName=="DIV"};
q.Oa=function(a,b){b.id&&a.ti(b.id);var c=this.X(),d=l,f=X.z(b);f&&C(f,function(g){if(g==c)d=j;else g&&this.wU(a,g,c)},this);d||X.add(b,c);this.hqa(a,b);return b};q.wU=function(a,b,c){if(b==c+"-disabled")a.U(l);else if(b==c+"-horizontal")a.yI("horizontal");else b==c+"-vertical"&&a.yI("vertical")};
q.hqa=function(a,b){if(b)for(var c=b.firstChild,d;c&&c.parentNode==b;){d=c.nextSibling;if(c.nodeType==1){var f=this.Yx(c);if(f){f.Wd(c);a.ca()||f.U(l);a.hc(f);f.Oa(c)}}else if(!c.nodeValue||Ja(c.nodeValue)=="")b.removeChild(c);c=d}};q.Yx=function(a){var b;a:{for(var c,d=X.z(a),f=0,g=d.length;f<g;f++)if(c=d[f]in lr?lr[d[f]]():k){b=c;break a}b=k}return b};q.ug=function(a){var b=a.e();Kq(b,j,I);if(H)b.hideFocus=j;var c=this.Mh();c&&dq(b,c)};q.fe=function(a){return a.e()};q.X=function(){return"goog-container"};
q.lg=function(a){var b=this.X(),c=a.bP()=="horizontal",d=[b,c?b+"-horizontal":b+"-vertical"];a.ca()||d.push(b+"-disabled");return d};q.r4=function(){return"vertical"};var $s=function(a,b,c){$q.call(this,c);this.Ka=b||Ys.fb();this.xd=a||this.Ka.r4()};B($s,$q);q=$s.prototype;q.yG=k;q.oc=k;q.Ka=k;q.xd=k;q.Bd=j;q.Ma=j;q.eq=j;q.vd=-1;q.oe=k;q.nS=l;q.rla=l;q.jn=k;q.fe=function(){return this.yG||this.Ka.fe(this)};q.VE=function(){return this.oc||(this.oc=new fr(this.fe()))};q.Rd=function(){return this.Ka};q.tU=function(a){if(this.e())e(Error("Component already rendered"));this.Ka=a};q.h=function(){this.Wd(this.Ka.h(this))};q.Fa=function(){return this.Ka.Fa(this.e())};
q.qe=function(a){return this.Ka.qe(a)};q.vc=function(a){this.Wd(this.Ka.Oa(this,a));if(a.style.display=="none")this.Bd=l};
q.za=function(){$s.f.za.call(this);this.we(function(b){b.nc()&&this.bca(b)},this);var a=this.e();this.Ka.ug(this);this.H(this.Bd,j);this.Ba().g(this,"enter",this.UP).g(this,"highlight",this.YP).g(this,"unhighlight",this.mQ).g(this,"open",this.xAa).g(this,"close",this.Eza).g(a,"mousedown",this.fm).g(Nl(a),"mouseup",this.Qza).g(a,["mousedown","mouseup","mouseover","mouseout"],this.Bza);this.xk()&&this.E2(j)};
q.E2=function(a){var b=this.Ba(),c=this.fe();a?b.g(c,"focus",this.co).g(c,"blur",this.Xh).g(this.VE(),"key",this.xe):b.Cb(c,"focus",this.co).Cb(c,"blur",this.Xh).Cb(this.VE(),"key",this.xe)};q.yc=function(){this.rf(-1);this.oe&&this.oe.$c(l);this.nS=l;$s.f.yc.call(this)};q.n=function(){$s.f.n.call(this);if(this.oc){this.oc.l();this.oc=k}this.Ka=this.oe=this.jn=k};q.UP=function(){return j};
q.YP=function(a){var b=this.Bu(a.target);if(b>-1&&b!=this.vd){var c=this.Ul();c&&c.Gg(l);this.vd=b;c=this.Ul();this.lDa()&&c.setActive(j);if(this.oe&&c!=this.oe)c.xg(64)?c.$c(j):this.oe.$c(l)}eq(this.e(),"activedescendant",a.target.e().id)};q.mQ=function(a){if(a.target==this.Ul())this.vd=-1;eq(this.e(),"activedescendant","")};q.xAa=function(a){var b=a.target;if(b&&b!=this.oe&&b.gb()==this){this.oe&&this.oe.$c(l);this.oe=b}};q.Eza=function(a){if(a.target==this.oe)this.oe=k};
q.fm=function(a){this.Ma&&this.Ko(j);var b=this.fe();this.Ka.uBa(b)?b.focus():a.preventDefault()};q.Qza=function(){this.Ko(l)};q.Bza=function(a){var b=this.Kwa(a.target);if(b)switch(a.type){case "mousedown":b.fm(a);break;case "mouseup":b.Kq(a);break;case "mouseover":b.rg(a);break;case "mouseout":b.Jq(a);break}};q.Kwa=function(a){if(this.jn)for(var b=this.e();a&&a.parentNode&&a!=b;){var c=a.id;if(c in this.jn)return this.jn[c];a=a.parentNode}return k};q.co=function(){};
q.Xh=function(){this.rf(-1);this.Ko(l);this.oe&&this.oe.$c(l)};q.xe=function(a){if(this.ca()&&this.da()&&this.ah()!=0&&this.dm(a)){a.preventDefault();a.stopPropagation();return j}return l};
q.dm=function(a){var b=this.Ul();if(b&&typeof b.xe=="function"&&b.xe(a))return j;if(this.oe&&this.oe!=b&&typeof this.oe.xe=="function"&&this.oe.xe(a))return j;switch(a.keyCode){case 27:if(this.xk())this.fe().blur();else return l;break;case 36:this.xQ();break;case 35:this.JBa();break;case 38:if(this.xd=="vertical")this.zQ();else return l;break;case 37:if(this.xd=="horizontal")this.le()?this.yQ():this.zQ();else return l;break;case 40:if(this.xd=="vertical")this.yQ();else return l;break;case 39:if(this.xd==
"horizontal")this.le()?this.zQ():this.yQ();else return l;break;default:return l}return j};q.bca=function(a){var b=a.e(),c=b.id||(b.id=a.p());if(!this.jn)this.jn={};this.jn[c]=a};q.hc=function(a,b){$s.f.hc.call(this,a,b)};q.dl=function(a,b,c){a.eU(2,j);a.eU(64,j);if(this.xk()||!this.bDa())a.tf(32,l);a.lU(l);$s.f.dl.call(this,a,b,c);c&&this.nc()&&this.bca(a);b<=this.vd&&this.vd++};
q.removeChild=function(a,b){var c=this.Bu(a);if(c!=-1)if(c==this.vd)a.Gg(l);else c<this.vd&&this.vd--;var d=a.e();d&&d.id&&hc(this.jn,d.id);a=$s.f.removeChild.call(this,a,b);a.lU(j);return a};q.bP=function(){return this.xd};q.yI=function(a){if(this.e())e(Error("Component already rendered"));this.xd=a};q.da=function(){return this.Bd};
q.H=function(a,b){if(b||this.Bd!=a&&this.dispatchEvent(a?"show":"hide")){this.Bd=a;var c=this.e();if(c){$(c,a);this.xk()&&this.Ka.XM(this.fe(),this.Ma&&this.Bd);this.Bd&&!b&&this.dispatchEvent("aftershow")}return j}return l};q.ca=function(){return this.Ma};
q.U=function(a){if(this.Ma!=a&&this.dispatchEvent(a?"enable":"disable")){if(a){this.Ma=j;this.we(function(b){if(b.wha)delete b.wha;else b.U(j)})}else{this.we(function(b){if(b.ca())b.U(l);else b.wha=j});this.Ma=l;this.Ko(l)}this.xk()&&this.Ka.XM(this.fe(),a&&this.Bd)}};q.xk=function(){return this.eq};q.Fg=function(a){a!=this.eq&&this.nc()&&this.E2(a);this.eq=a;this.Ma&&this.Bd&&this.Ka.XM(this.fe(),a)};q.bDa=function(){return this.rla};q.DO=function(){return this.vd};
q.rf=function(a){var b=this.sd(a);if(b)b.Gg(j);else this.vd>-1&&this.Ul().Gg(l)};q.Gg=function(a){this.rf(this.Bu(a))};q.Ul=function(){return this.sd(this.vd)};q.xQ=function(){this.PF(function(a,b){return(a+1)%b},this.ah()-1)};q.JBa=function(){this.PF(function(a,b){a--;return a<0?b-1:a},0)};q.yQ=function(){this.PF(function(a,b){return(a+1)%b},this.vd)};q.zQ=function(){this.PF(function(a,b){a--;return a<0?b-1:a},this.vd)};
q.PF=function(a,b){var c=b<0?this.Bu(this.oe):b,d=this.ah();c=a.call(this,c,d);for(var f=0;f<=d;){var g=this.sd(c);if(g&&this.y_(g)){this.nU(c);return j}f++;c=a.call(this,c,d)}return l};q.y_=function(a){return a.da()&&a.ca()&&a.xg(2)};q.nU=function(a){this.rf(a)};q.lDa=function(){return this.nS};q.Ko=function(a){this.nS=a};var at=function(){};B(at,Ys);fa(at);q=at.prototype;q.Mh=function(){return"menu"};q.qe=function(a){return a.tagName=="UL"||at.f.qe.call(this,a)};q.Yx=function(a){return a.tagName=="HR"?new Xs:at.f.Yx.call(this,a)};q.Tj=function(a,b){return nm(a.e(),b)};q.X=function(){return"goog-menu"};q.ug=function(a){at.f.ug.call(this,a);var b=a.e();eq(b,"haspopup","true")};var bt=function(a){Xs.call(this,Ws.fb(),a)};B(bt,Xs);mr("goog-menuseparator",function(){return new Xs});var ct=function(a,b){$s.call(this,"vertical",b||at.fb(),a);this.Fg(l)};B(ct,$s);q=ct.prototype;q.up=j;q.sla=l;q.X=function(){return this.Rd().X()};q.Tj=function(a){if(this.Rd().Tj(this,a))return j;for(var b=0,c=this.ah();b<c;b++){var d=this.sd(b);if(typeof d.Tj=="function"&&d.Tj(a))return j}return l};q.cb=function(a){this.hc(a,j)};q.dn=function(a,b){this.dl(a,b,j)};q.Ao=function(a){var b=this.removeChild(a,j);b&&b.l()};q.Jr=function(a){var b=this.AA(a,j);b&&b.l()};q.Qn=function(a){return this.sd(a)};
q.Rn=function(){return this.ah()};q.UE=function(){return this.uc||[]};q.setPosition=function(a,b){var c=this.da();c||$(this.e(),j);yq(this.e(),a,b);c||$(this.e(),l)};q.Eo=function(a){(this.up=a)&&this.Fg(j)};q.H=function(a,b){var c=ct.f.H.call(this,a,b);c&&a&&this.nc()&&this.up&&this.fe().focus();return c};q.UP=function(a){this.up&&this.fe().focus();return ct.f.UP.call(this,a)};q.y_=function(a){return(this.sla||a.ca())&&a.da()&&a.xg(2)};var dt=function(a,b){this.V=new fq(this);this.oI(a||k);b&&this.ui(b)};B(dt,Oi);q=dt.prototype;q.B=k;q.WZ=j;q.VZ=k;q.Xq=l;q.SOa=l;q.b$=-1;q.W9=-1;q.U7=l;q.era=j;q.Ad="toggle_display";q.la=function(){return this.Ad};q.ui=function(a){this.Ad=a};q.e=function(){return this.B};q.oI=function(a){this.cN();this.B=a};q.Gda=function(a){this.cN();this.WZ=a};q.$da=function(a){this.cN();this.U7=a};q.cN=function(){if(this.Xq)e(Error("Can not change this state of the popup while showing."))};q.da=function(){return this.Xq};
q.H=function(a){a?this.PU():this.vu()};q.Za=da;
q.PU=function(){if(!this.Xq)if(this.AS()){if(!this.B)e(Error("Caller must call setElement before trying to show the popup"));this.Za();var a=Nl(this.B);this.U7&&this.V.g(a,"keydown",this.GGa,j);if(this.WZ){this.V.g(a,"mousedown",this.Kaa,j);if(H){for(var b=a.activeElement;b&&b.nodeName=="IFRAME";){try{var c=sm(b)}catch(d){break}a=c;b=a.activeElement}this.V.g(a,"mousedown",this.Kaa,j);this.V.g(a,"deactivate",this.Iaa)}else this.V.g(a,"blur",this.Iaa)}if(this.Ad=="toggle_display")this.mPa();else this.Ad==
"move_offscreen"&&this.Za();this.Xq=j;this.eA()}};q.vu=function(a){if(!this.Xq||!this.qGa(a))return l;this.V&&this.V.pb();if(this.Ad=="toggle_display")this.SOa?Si(this.W7,0,this):this.W7();else this.Ad=="move_offscreen"&&this.KFa();this.Xq=l;this.tm(a);return j};q.mPa=function(){this.B.style.visibility="visible";$(this.B,j)};q.W7=function(){this.B.style.visibility="hidden";$(this.B,l)};q.KFa=function(){this.B.style.left="-200px";this.B.style.top="-200px"};q.AS=function(){return this.dispatchEvent("beforeshow")};
q.eA=function(){this.b$=xa();this.W9=-1;this.dispatchEvent("show")};q.qGa=function(a){return this.dispatchEvent({type:"beforehide",target:a})};q.tm=function(a){this.W9=xa();this.dispatchEvent({type:"hide",target:a})};q.Kaa=function(a){var b=a.target;if(!nm(this.B,b)&&(!this.VZ||nm(this.VZ,b))&&!this.bfa())this.vu(b)};q.GGa=function(a){if(a.keyCode==27)if(this.vu(a.target)){a.preventDefault();a.stopPropagation()}};
q.Iaa=function(a){if(this.era){var b=Nl(this.B);if(H||oe){var c=b.activeElement;if(c&&nm(this.B,c))return}else if(a.target!=b)return;this.bfa()||this.vu()}};q.bfa=function(){return xa()-this.b$<150};q.n=function(){dt.f.n.call(this);this.V.l();delete this.B;delete this.V};var et=function(a,b){ct.call(this,a,b);this.Eo(j);this.H(l,j);this.Sk=new xc};B(et,ct);q=et.prototype;q.QQa=l;q.X9=0;q.Jp=k;q.vc=function(a){et.f.vc.call(this,a);var b=a.getAttribute("for")||a.htmlFor;b&&this.attach(this.L().e(b),1)};q.za=function(){et.f.za.call(this);uc(this.Sk,this.RZ,this);var a=this.Ba();a.g(this,"action",this.yS);a.g(this.L().M(),"mousedown",this.Haa,j);pe&&a.g(this.L().M(),"contextmenu",this.Haa,j)};
q.attach=function(a,b,c,d,f){if(!this.Q8(a)){var g=this.woa(a,b,c,d,f);this.nc()&&this.RZ(g)}};q.woa=function(a,b,c,d,f){if(!a)return k;var g={B:a,pV:b,xFa:c,hN:d?"contextmenu":"mousedown",Lz:f};this.Sk.G(qa(a),g);return g};q.Q8=function(a){return a?this.Sk.Ed(qa(a)):l};q.RZ=function(a){this.Ba().g(a.B,a.hN,this.Saa)};q.detach=function(a){if(!this.Q8(a))e(Error("Menu not attached to provided element, unable to detach."));var b=qa(a);this.nc()&&this.uqa(this.Sk.z(b));this.Sk.remove(b)};
q.uqa=function(a){this.Ba().Cb(a.B,a.hN,this.Saa)};q.vfa=function(a,b,c,d){var f=this.da();if((f||this.bSa())&&this.QQa)this.Nc();else{this.Jp=d||k;if(this.dispatchEvent("beforeshow")){var g=typeof b!="undefined"?b:4;if(!f)this.e().style.visibility="hidden";$(this.e(),j);a.Za(this.e(),g,c);if(!f)this.e().style.visibility="visible";this.rf(-1);this.H(j)}}};q.LU=function(a,b,c){var d=s(a.pV)?new Ss(a.B,a.pV,j):new Vs(b,c);this.vfa(d,a.xFa,a.Lz,a.B)};q.VOa=function(a,b,c){this.vfa(new Vs(a,b),c)};
q.Nc=function(){this.H(l);if(!this.da()){this.X9=xa();this.Jp=k}};q.bSa=function(){return xa()-this.X9<150};q.yS=function(){this.Nc()};q.Saa=function(a){for(var b=this.Sk.zb(),c=0;c<b.length;c++){var d=this.Sk.z(b[c]);if(d.B==a.currentTarget){this.LU(d,a.clientX,a.clientY);a.preventDefault();a.stopPropagation();return}}};q.Haa=function(a){this.da()&&!this.Tj(a.target)&&this.Nc()};q.Xh=function(a){et.f.Xh.call(this,a);this.Nc()};q.n=function(){et.f.n.call(this);if(this.Sk){this.Sk.clear();delete this.Sk}};var ft=function(a){this.B=a;var b=H?"propertychange":pe&&a.tagName=="TEXTAREA"&&!Fe("531")?"keypress":"input";this.OG=V(this.B,b,this)};B(ft,Oi);ft.prototype.handleEvent=function(a){var b=a.Zg();if(b.type=="propertychange"&&b.propertyName=="value"||b.type=="input"||b.type=="keypress"){if(H||oe){var c=b.srcElement;if(c!=Nl(c).activeElement)return}var d=new ei(b);d.type="input";try{this.dispatchEvent(d)}finally{d.l()}}};ft.prototype.n=function(){ft.f.n.call(this);Ei(this.OG);delete this.B};var gt=function(a,b){$q.call(this,b);this.yg=a||""};B(gt,$q);q=gt.prototype;q.ck=k;q.h=function(){this.Wd(this.L().h("input",{type:"text"}))};q.vc=function(a){gt.f.vc.call(this,a);if(!this.yg)this.yg=a.getAttribute("label")||""};q.za=function(){gt.f.za.call(this);this.bL();this.zp();this.e().lh=this};q.yc=function(){gt.f.yc.call(this);this.ND();this.e().lh=k};
q.bL=function(){var a=new fq(this);a.g(this.e(),"focus",this.XP);a.g(this.e(),"blur",this.Qy);I&&a.g(this.e(),["keypress","keydown","keyup"],this.Zza);var b=Nl(this.e()),c=Zl(b);a.g(c,"load",this.WAa);this.j=a;this.SZ()};q.SZ=function(){if(!this.xsa&&this.j&&this.e().form){this.j.g(this.e().form,"submit",this.dAa);this.xsa=j}};q.ND=function(){if(this.j){this.j.l();this.j=k}};q.n=function(){gt.f.n.call(this);this.ND()};q.jK="label-input-label";
q.XP=function(){this.oQ=j;X.remove(this.e(),this.jK);if(!this.qu()&&!this.ZBa){var a=this,b=function(){a.e().value=""};H?Si(b,10):b()}};q.Qy=function(){this.ck=k;this.oQ=l;this.zp()};q.Zza=function(a){if(a.keyCode==27){if(a.type=="keydown")this.ck=this.e().value;else if(a.type=="keypress")this.e().value=this.ck;else if(a.type=="keyup")this.ck=k;a.preventDefault()}};q.dAa=function(){if(!this.qu()){this.e().value="";Si(this.oza,10,this)}};q.oza=function(){if(!this.qu())this.e().value=this.yg};
q.WAa=function(){this.zp()};q.qu=function(){return this.e().value!=""&&this.e().value!=this.yg};q.clear=function(){this.e().value="";if(this.ck!=k)this.ck=""};q.Pa=function(a){if(this.ck!=k)this.ck=a;this.e().value=a;this.zp()};q.aa=function(){if(this.ck!=k)return this.ck;return this.qu()?this.e().value:""};q.zp=function(){this.SZ();if(this.qu())X.remove(this.e(),this.jK);else{!this.ZBa&&!this.oQ&&X.add(this.e(),this.jK);Si(this.zKa,10,this)}};
q.zKa=function(){if(this.e()&&!this.qu()&&!this.oQ)this.e().value=this.yg};var ht=function(){};B(ht,er);fa(ht);q=ht.prototype;q.h=function(a){var b=this.lg(a),c={"class":"goog-inline-block "+b.join(" "),title:a.qg()||""};return a.L().h("div",c,a.getContent())};q.qe=function(a){return a.tagName=="DIV"};q.Oa=function(a,b){X.add(b,"goog-inline-block");return ht.f.Oa.call(this,a,b)};q.aa=function(){return k};q.X=function(){return"goog-flat-button"};mr("goog-flat-button",function(){return new tr(k,ht.fb())});var it=function(){};B(it,ur);fa(it);if(I)it.prototype.zd=function(a,b){var c=it.f.Fa.call(this,a&&a.firstChild);c&&jm(this.createCaption(b,Ol(a)),c)};it.prototype.Fa=function(a){var b=it.f.Fa.call(this,a&&a.firstChild);if(I&&b&&b.__goog_wrapper_div)b=b.firstChild;return b};it.prototype.Oa=function(a,b){var c=Rl("*","goog-menu",b)[0];if(c){$(c,l);Nl(c).body.appendChild(c);var d=new ct;d.Oa(c);a.Jk(d)}return it.f.Oa.call(this,a,b)};
it.prototype.Ts=function(a,b){return it.f.Ts.call(this,[this.createCaption(a,b),this.vD(b)],b)};it.prototype.createCaption=function(a,b){return jt(a,this.X(),b)};var jt=function(a,b,c){return c.h("div","goog-inline-block "+(b+"-caption"),a)};it.prototype.vD=function(a){return a.h("div","goog-inline-block "+(this.X()+"-dropdown"),"\u00a0")};it.prototype.X=function(){return"goog-menu-button"};var kt=function(a,b,c,d){tr.call(this,a,c||it.fb(),d);this.tf(64,j);b&&this.Jk(b);this.Ld=new Qi(500)};B(kt,tr);q=kt.prototype;q.TK=j;q.OT=l;q.cDa=l;q.za=function(){kt.f.za.call(this);this.W&&this.UC(this.W,j);eq(this.e(),"haspopup","true")};q.yc=function(){kt.f.yc.call(this);if(this.W){this.$c(l);this.W.yc();this.UC(this.W,l);var a=this.W.e();a&&Z(a)}};q.n=function(){kt.f.n.call(this);if(this.W){this.W.l();delete this.W}this.Ld.l()};
q.fm=function(a){kt.f.fm.call(this,a);if(this.je()){this.$c(!this.isOpen());this.W&&this.W.Ko(this.isOpen())}};q.Kq=function(a){kt.f.Kq.call(this,a);this.W&&!this.je()&&this.W.Ko(l)};q.ni=function(){this.setActive(l);return j};q.TP=function(a){this.W&&this.W.da()&&!this.Tj(a.target)&&this.$c(l)};q.Tj=function(a){return a&&nm(this.e(),a)||this.W&&this.W.Tj(a)||l};
q.dm=function(a){var b=a.keyCode==32?"keyup":"key";if(a.type!=b)return l;if(this.W&&this.W.da()){var c=this.W.xe(a);if(a.keyCode==27){this.$c(l);return j}return c}if(a.keyCode==40||a.keyCode==38||a.keyCode==32){this.$c(j);return j}return l};q.Iq=function(){this.$c(l)};q.pAa=function(){this.je()||this.$c(l)};q.Xh=function(a){this.dR()||this.$c(l);kt.f.Xh.call(this,a)};q.kb=function(){this.W||this.Jk(new ct(this.L()));return this.W||k};
q.Jk=function(a){var b=this.W;if(a!=b){if(b){this.$c(l);this.nc()&&this.UC(b,l);delete this.W}if(a){this.W=a;a.WA(this);a.H(l);a.Eo(this.dR());this.nc()&&this.UC(a,j)}}return b};q.cb=function(a){this.kb().hc(a,j)};q.dn=function(a,b){this.kb().dl(a,b,j)};q.Ao=function(a){var b=this.kb().removeChild(a,j);b&&b.l()};q.Jr=function(a){var b=this.kb().AA(a,j);b&&b.l()};q.Qn=function(a){return this.W?this.W.sd(a):k};q.Rn=function(){return this.W?this.W.ah():0};
q.H=function(a,b){var c=kt.f.H.call(this,a,b);c&&!this.da()&&this.$c(l);return c};q.U=function(a){kt.f.U.call(this,a);this.ca()||this.$c(l)};q.P8=function(){return this.TK};q.dR=function(){return this.cDa};q.LU=function(){this.$c(j)};
q.$c=function(a){kt.f.$c.call(this,a);if(this.W&&this.oj(64)==a){if(a){this.W.nc()||this.W.ba();this.sha=vq(this.e());this.m_=Bq(this.e());this.XS();this.W.rf(-1)}else{this.setActive(l);this.W.Ko(l);if(ia(this.sH)){this.sH=undefined;var b=this.W.e();b&&zq(b,"","")}}this.W.H(a);this.Vla(a)}};
q.XS=function(){var a=this.P8()?5:7,b=new Ts(this.e(),a,!this.OT,this.OT),c=this.W.e();if(!this.W.da()){c.style.visibility="hidden";$(c,j)}if(!this.sH&&this.OT)this.sH=Aq(c);var d=this.P8()?4:6;b.Za(c,d,k,this.sH);if(!this.W.da()){$(c,l);c.style.visibility="visible"}};
q.tHa=function(){var a=Bq(this.e()),b=vq(this.e()),c,d;var f=this.m_;d=f==a?j:!f||!a?l:f.left==a.left&&f.width==a.width&&f.top==a.top&&f.height==a.height;if(!(c=!d)){var g;var h=this.sha;g=h==b?j:!h||!b?l:h.top==b.top&&h.right==b.right&&h.bottom==b.bottom&&h.left==b.left;c=!g}if(c){this.m_=a;this.sha=b;this.XS()}};q.UC=function(a,b){var c=this.Ba(),d=b?c.g:c.Cb;d.call(c,a,"action",this.Iq);d.call(c,a,"highlight",this.YP);d.call(c,a,"unhighlight",this.mQ)};
q.YP=function(a){eq(this.e(),"activedescendant",a.target.e().id)};q.mQ=function(){this.W.Ul()||eq(this.e(),"activedescendant","")};q.Vla=function(a){var b=this.Ba(),c=a?b.g:b.Cb;c.call(b,this.L().M(),"mousedown",this.TP,j);this.dR()&&c.call(b,this.W,"blur",this.pAa);c.call(b,this.Ld,"tick",this.tHa);a?this.Ld.start():this.Ld.stop()};mr("goog-menu-button",function(){return new kt(k)});var lt=function(){};B(lt,ht);fa(lt);q=lt.prototype;q.h=function(a){var b=this.lg(a),c={"class":"goog-inline-block "+b.join(" "),title:a.qg()||""};return a.L().h("div",c,[this.createCaption(a.getContent(),a.L()),this.vD(a.L())])};q.Fa=function(a){return a&&a.firstChild};
q.Oa=function(a,b){var c=Rl("*","goog-menu",b)[0];if(c){$(c,l);a.L().M().body.appendChild(c);var d=new ct;d.Oa(c);a.Jk(d)}var f=Rl("*",this.X()+"-caption",b)[0];f||b.appendChild(this.createCaption(b.childNodes,a.L()));var g=Rl("*",this.X()+"-dropdown",b)[0];g||b.appendChild(this.vD(a.L()));return lt.f.Oa.call(this,a,b)};q.createCaption=function(a,b){return b.h("div","goog-inline-block "+(this.X()+"-caption"),a)};q.vD=function(a){return a.h("div","goog-inline-block "+(this.X()+"-dropdown"),"\u00a0")};
q.X=function(){return"goog-flat-menu-button"};mr("goog-flat-menu-button",function(){return new kt(k,k,lt.fb())});var mt=function(a,b,c){Ps.call(this,a,b,c);this.vU(j)};B(mt,Ps);mt.prototype.ni=function(){return this.dispatchEvent("action")};mr("goog-option",function(){return new mt(k)});var pt=function(a,b,c,d,f,g){var h=(d?d+" ":"")+"modal-dialog";Ks.call(this,h,j);this.Vda(j);D("knol.ui.client.Dialog");this.Ye(a);var i=K({b:"div",c:"knol-dialog-content"});i.addElement({b:"div",c:"knol-dialog-message",d:b});this.zd(i.w());g&&this.vv(g);f&&V(this,"dialogselect",function(m){nt=j;return f(m)});V(this,"afterhide",function(){nt=ot=l})};F(pt,Ks);var ot=l,nt=l;
pt.prototype.H=function(a){if(a&&ot){var b=D("knol.ui.client.Dialog");b.S("Dialog box already shown")}Ks.prototype.H.call(this,a);ot=a};var qt=function(a,b,c,d){var f=K({b:"div"}),g=new Ls;g.G("ok","OK",j);pt.call(this,"An error has occurred",a,f.w(),"knol-dialog knol-dialog-error",d,g)};F(qt,pt);
var rt=function(){return D("knol.ui.client.ErrorDialog")},st=function(a,b,c,d){if(!a){var f=new yg;f.db("We are experiencing technical difficulties at the moment.  We're sorry for the inconvenience and  hope you'll try again later.<br /><br />");f.db(Wm(Rj("knol/Help",j),"Help").w());a=f.toString()}if(ot){a&&rt().S("suppressed : "+a);b&&rt().S("suppressed : "+b);c&&rt().S("suppressed : "+c)}else(new qt(a,b,c,d)).H(j)},tt=function(a,b){st(k,a,b)},ut=function(a,b,c,d,f,g){var h=new Ls;h.G("yes",d,!!g);
h.G("no",f,!g,j);pt.call(this,a,b,k,"knol-dialog knol-dialog-confirm",c,h)};F(ut,pt);
var vt=function(a,b,c,d,f){var g=new ut(a,b,c,d||"Yes",f||"No");g.H(j);return g},wt=function(a,b,c,d,f,g,h){vt(a,b,function(i){if(c&&i.ea=="yes")c.call(f);else d&&i.ea=="no"&&d.call(f)},g,h)},xt=function(a,b){var c=K({b:"p",d:"To help keep Knol free of spam, we want to make sure it's still you behind the keyboard."}),d=K({b:"p",d:"To continue on Knol, please type the characters you see below."}),f=K({b:"input",id:"knol-captcha-input",name:"guess",size:15,value:""}),g=K,h,i=Wf().yy(),m=a,n=encodeURIComponent||
escape,o=Ue(),p="_/captcha?";p+="captchaEmail="+n(i);p+="&captchaToken="+n(m);h=o+"knol/"+p;var r=g({b:"img",id:"knol-captcha-img",src:h}),t=K({b:"div"});t.addElement(c);t.addElement(d);t.addElement(f);t.addElement({b:"br"});t.addElement(r);ut.call(this,"Before you continue...",t.w(),b,"Continue","Quit",j)};F(xt,ut);
var yt=[],zt=[],At=function(a,b){var c=new xt(a,b);c.H(j);return c},Bt=function(a,b,c){if(ot){yt.push(b);yt.push(c)}else{ot=j;At(a,function(d){if(b&&d.ea=="yes"){var f=Y("knol-captcha-input").value,g=W("knol.User.checkCaptchaAnswer",[a,f]);g.k(function(){zt=[];for(b.call(k);yt.length>0;){var i=yt.shift();i.call()}})}else if(c&&d.ea=="no"){yt=[];for(c.call(k);zt.length>0;){var h=zt.shift();h.call()}}})}},Ct=function(a,b){pt.call(this,a,b,k,"knol-dialog knol-dialog-success",k,Ns)};F(Ct,pt);
var Dt=function(a,b){(new Ct(a,b)).H(j)},Et=function(a,b,c){for(var d="A save has completed, but there are some potentially unexpected modifications that were made while saving version "+(c+"."),f=fn("si57lahl1w25/217"),g="If you want to take a look at how your content will appear when updated with the latest changes, "+('<a href="'+b+'" target="_blank">'+("view version "+(c+(" in a new window"+("</a>"+(". "+('<a href="'+f+'" target="_blank">Learn more</a>'))))))),h=K({b:"ul"}),i=0;i<a.length;i++)h.addElement({b:"li",
d:a[i]});var m=K({b:"div"});m.addElement({b:"p",d:d});m.addElement(h);m.addElement({b:"p",d:g});var n=m.w(),o=new Ls;o.G("ok","OK",j);pt.call(this,"HTML contents have been unexpectedly modified",n,k,"knol-dialog knol-dialog-error",k,o)};F(Et,pt);
var Ft=function(a){var b=G(Lp),c=b.Ne()+1,d=new Ed(window.location),f=d.mk();f.G("version",c);d.YA(f);d.Jo("");var g=d.toString();(new Et(a,g,c)).H(j)},Gt=function(a,b,c){var d=b-a+1,f="Your changes could not be automatically integrated with content from "+(d+" other version(s) saved by another author. <br /><br />You can save your changes anyway, and choose between your changes or the newer version of the knol where they might conflict.<br /><br />"),g=K({b:"a",href:Uf().ha()+"#revisions",target:"revisions",
d:"View versions"}),h=f+g.w()+".",i=new Ls;i.G("mine","Prefer My Changes",j);i.G("latest","Prefer Other(s) Changes",l);i.G("cancel","Cancel",l,j);pt.call(this,"Editing conflict detected",h,undefined,"knol-dialog knol-dialog-confirm",c,i)};F(Gt,pt);
var Ht=function(a,b,c){(new Gt(a,b,c)).H(j)},It=function(a,b,c,d){if(a){X.add(a,c);var f=K({b:"div",c:d,d:b});a.appendChild(em(f.w()))}},Jt=function(a,b,c){if(a){X.remove(a,b);var d=xm(a,function(f){return f.className==c});C(d,function(f){a.removeChild(f)})}},Kt=function(a,b){It(a,b,"knol-inline-notification","knol-inline-notification-message")},Lt=function(a){Jt(a,"knol-inline-notification","knol-inline-notification-message")},Mt=function(a){It(Y("knol-inline-notifications"),a,"knol-toolbar-inline-notification",
"knol-toolbar-inline-notification-message")},Nt=function(){Jt(Y("knol-inline-notifications"),"knol-toolbar-inline-notification","knol-toolbar-inline-notification-message")},Ot=function(a){Kt(Y("knol-inline-statements"),a)},Pt=function(){Lt(Y("knol-inline-statements"))};var Qt=function(a,b){this.poa=a;this.v_=b;this.MOa()},Rt=function(){return D("knol.ui.client.FileUpload")};
Qt.prototype.LRa=function(a,b){Rt();var c=Y("knol-fileupload-input"),d=Y("upload_target"),f=A(function(){var g=sm(d).body.innerHTML;b&&b.l();if(g){var h=eval("("+g+")");if(h&&h[0]=="ok")window.location=h[1];else{var i=h[1];if(i.indexOf("upload empty")!=-1)new st("File upload not successful. The file is empty or missing.",i);else new st("File upload not successful. Cannot extract contents from selected file as it is in an unsupported document format.",i)}}else new st("Upload not successful. Please try again later.")},
this);if(c.value.length>0){a&&a.preventDefault();V(d,"load",f);document.forms["knol-fileupload-form"].submit()}};
Qt.prototype.MOa=function(){Rt();var a=fn("si57lahl1w25/6"),b=K({b:"a",href:a,d:"Learn more"}),c="Select the file to import content from.  "+b.w(),d=cm("div");d.appendChild(em(c));d.appendChild(em("<br/><br/>"));var f;var g=" Supported file types include Microsoft Word documents (doc), Microsoft Excel spreadsheets (xls), PDF documents (pdf), text files (txt) and many others.",h=fd(g);f=h?g.replace(qd,"<span dir=rtl>$&</span>"):g.replace(qd,"<span dir=ltr>$&</span>");d.appendChild(em(f));var i=cm("div",
{id:"knol-ui-upload"});i.appendChild(d);var m=cm("form",{d:d,method:"POST",name:"knol-fileupload-form",id:"knol-fileupload-form",enctype:"multipart/form-data",encoding:"multipart/form-data",target:"upload_target",action:Ue()+"knol/system/services/knolUploadFile"}),n=cm("input",{type:"file",id:"knol-fileupload-input",size:"40",name:"file"});m.appendChild(n);var o=cm("input",{type:"hidden",id:"knol-fileupload-insertid",name:"insertId"});m.appendChild(o);var p=cm("input",{type:"hidden",name:"jot.xtok",
value:Ni("jotxtok")});m.appendChild(p);i.appendChild(m);var r=cm("iframe",{id:"upload_target",name:"upload_target",src:"#",style:"width:0;height:0;border:0px solid #fff"});i.appendChild(r);this.poa.appendChild(i);var t=Y("knol-fileupload-input");V(t,"change",this.v_);V(t,"keyup",this.v_)};var St=function(){if(Y("knol-throbber"))e("Throbber already bound to page");var a=K({b:"div",id:"knol-throbber",style:"display: none"});a.addElement({b:"div",id:"knol-throbber-message"});var b=em(a.w()),c=Y("knol-throbber-c")||document.body;this.tV=c.appendChild(b);this.AFa=this.tV.firstChild;this.CC=0;this.$G=[]};St.prototype.Zga=function(){var a=qb(this.$G)||"";this.AFa.innerHTML=a};St.prototype.Hfa=function(a){this.CC++;a&&this.$G.push(a);this.Zga();this.tV.style.display=""};
St.prototype.stop=function(a){this.CC&&this.CC--;if(a){var b=tb(this.$G,a);b!=-1&&Eb(this.$G,b)}this.Zga();if(!this.CC)this.tV.style.display="none"};var Tt=function(a){this.Wb=a};Tt.prototype.load=function(a){this.iR||(this.Vb()?a():this.n$(a))};Tt.prototype.z_=function(){return j};Tt.prototype.Vb=function(){return l};var Ut=/jot_client_localized_client_base(__\w\w)?\.js/,Vt=/jot_client_client_base\.js/;Tt.prototype.Mxa=function(){for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++)if(a[b].src&&(a[b].src.match(Vt)||a[b].src.match(Ut)))return a[b].src.replace("base",this.Wb);e(new Error("Base script not found"))};
Tt.prototype.n$=function(a){if(this.Vb()){this.iR=l;G(St).stop(void 0);var b=W("knol.User.noop",[]);b.k(a)}else{if(!this.iR){this.iR=j;G(St).Hfa(void 0);var c=this.Mxa();window.setTimeout(A(function(){var d=A(function(){var g=am("script",{type:"text/javascript",src:c}),h=["load","error","readystatechange"];V(g,h,function(i){if((i.type!="readystatechange"||g.readyState=="loaded")&&!this.Vb()){G(St).stop(void 0);tt("Failed to load script: "+i.type+" "+g.readyState)}},l,this);document.body.appendChild(g)},
this),f=A(function(){this.z_()?d():window.setTimeout(f,100)},this);f()},this),0)}window.setTimeout(A(this.n$,this,a),100)}};var Wt=function(){this.Wb="edit"};F(Wt,Tt);Wt.prototype.Vb=function(){try{return s(Xt)}catch(a){return l}};Wt.prototype.z_=function(){try{eval("document.namespaces");return j}catch(a){return l}};var Yt=l,rj=function(a,b,c,d){var f=nj(),g=new Zh;a.add("version",String(Te()));var h=a.z("func")||a.z("method"),i=a.z("args");if(h=="knol.User.noop"&&i=="[false]"){g.Ea(undefined);return g}var m=tj(),n=function(v){G(St).stop(void 0);var w=v.target.nk(),x=w.result,z=w.error_code;if(s(x))g.Ea(x);else if(s(z))switch(z){case 3:st("You are no longer logged in or your session expired.  Please refresh the page and try again.");g.Qa(z);break;case 1:d||st("The Knol service was recently updated.  Please refresh the page and try again. We're sorry for the inconvenience.");
g.Qa(z);break;case 2:st("Sorry! You have reached your daily quota for the action you are performing. Please try again tomorrow.");g.Qa(z);break;case 5:var E=w.captcha_token;Bt(E,function(){var U=rj(a,b,c,d);U.k(g.Ea,g);U.v(g.Qa,g)},function(U){g.Qa(U)});break;case 6:st("Sorry! You have exceeded the number of CAPTCHA attempts that we allow. Please try again tomorrow.");g.Qa(z);break;default:var M="Unknown error: "+(z+".  Please refresh the page and try again. We're sorry for the inconvenience."),J=
"rpc: "+h+" upon node: "+a.z("node");st(M,J);g.Qa(z);break}else{f.S("Server returned no response");if(a.z("func"))g.Qa("No response received for function call to: "+a.z("func"));else a.z("method")?g.Qa("No response received for server-side method call to: "+a.z("method")+" upon node: "+a.z("node")):g.Qa("No response received for unknown server-side call")}uj(m,h)},o=function(v){G(St).stop(void 0);var w=v.target.l5();if(!Xe){var x;var z=v.target;if(Rl("base").length){var E=z.oy();x=E==1||E==5}else x=
l;if(x)f.S("Security warning, not showing error: "+w);else wj(v.target)||g.Qa("HTTP error: "+w)}uj(m,h)},p=Ue()+b+(c?"/system/services/CXhrSwitch":"/system/services/XhrSwitch");if(Bb(oj,h)){p=Ue()+b+"/system/services/RpcSwitch";a.add("webspace",b)}G(St).Hfa(void 0);var r={},t;if(t=a.z("func"))r.func=t;if(t=a.z("method"))r.method=t;if(c){if(t=a.z("node"))r.node=t;if(t=a.z("args"))r.args=t;if(t=a.z("version"))r.version=t}r.hl=eg();r.gl=rf();r.country_domain=hg();if(Yt)r.debug="1";lj(p,n,o,"POST",a.toString(),
k,r);return g},$t=function(a,b,c){var d=Ni("jotxtok");if(d)a&&a.call(c);else{var f;f=H?window.location.pathname==Ve():l;if(f)Zt(a,b,c);else{var g=W("knol.User.noop",[j]);g.k(function(){if(Ni("jotxtok"))a&&a.call(c);else b&&b.call(c)});g.v(b,c)}}},Zt=function(a,b,c){var d=document.createElement("iframe");d.style.position="absolute";d.style.top="-5000px";d.style.left="-5000px";d.src=Rj("system/knol/pages/Null");document.body.appendChild(d);var f=function(){Ei(g);ba.clearTimeout(h);Z(d);b&&b.call(c)},
g=V(d,"load",function(){var i=d.contentWindow.document.cookie,m=/jotxtok=([^;]+)\s*;?/.exec(i);if(m&&m[1]){var n="jotxtok",o=m[1],p=void 0;if(/[;=]/.test(n))e(Error('Invalid cookie name "'+n+'"'));if(/;/.test(o))e(Error('Invalid cookie value "'+o+'"'));s(p)||(p=-1);var r="",t="",v;if(p<0)v="";else if(p==0){var w=new Date(1970,1,1);v=";expires="+w.toUTCString()}else{var x=new Date((new Date).getTime()+p*1E3);v=";expires="+x.toUTCString()}document.cookie=n+"="+o+r+t+v;Ei(g);ba.clearTimeout(h);Z(d);
a&&a.call(c)}else f()},l),h=ba.setTimeout(f,5E3)};var au=function(a,b,c,d,f){this.Sb=ma(a)?a:function(){};this.st=ma(b)?b:function(){};if(this.J=Wf()){var g=this;this.Zk=d||[];this.XC=c;var h=A(g.wk,g);if(!f&&!this.Zk.length>0){var i=sj(this.J.p(),"listUsersSites",[]);i.k(function(m){this.Zk=m;h()},this);i.v(h)}else h()}};F(au,pt);
au.prototype.wk=function(){var a=K({b:"div",id:"knol-website-verify-form"}),b=fn("si57lahl1w25/259"),c=K({b:"a",target:"_blank",href:b,d:"Learn more"}),d="In order to create a moderated collection, we require you to verify that you own a website. "+c.w();a.addElement({b:"div",c:"knol-create-suboption",d:d});var f=K({b:"a",target:"_blank",href:"http://www.google.com/webmasters/tools",d:"Google Webmaster Tools"});if(this.Zk&&this.Zk.length>0){a.P();bu(a,this.Zk)}else{this.O9=j;var g="Please go to "+
(f.w()+" to verify ownership of a website.");a.addElement({b:"div",c:"knol-create-suboption",d:g})}a.na();var h=this.vl(),i="knol-dialog",m=A(this.LA,this),n=a.w();pt.call(this,"Verify website ownership",n,k,i,m,h);this.H(j);var o=Y("knol-website-verify-dropdown");o&&V(o,["click","change"],A(this.bha,this));this.bha()};
var bu=function(a,b,c){if(b&&b.length>0){var d=c||"knol-create-suboption",f=K({b:"a",target:"_blank",href:"http://www.google.com/webmasters/tools",d:"Google Webmaster Tools"}),g="Please select one of the websites you are already verified for through "+(f.w()+":");a.addElement({b:"div",d:g,c:d});var h=K({b:"select",name:"website-verify",c:d,id:"knol-website-verify-dropdown"});h.addElement(K({b:"option",value:k,d:"Select a website..."}));for(var i=0;i<b.length;i++){var m=b[i],n=K({b:"option",value:m,
d:m});h.addElement(n)}a.addElement(h)}};au.prototype.LA=function(a){if(a.ea=="ok"){var b=this.kf().$g("ok");if(b.disabled)a.preventDefault();else if(this.O9)window.location=fn("si57lahl1w25/259");else this.Sb(this.yd)}else a.ea=="continue"&&this.XC?this.XC():this.st()};au.prototype.bha=function(){this.yd=k;if(this.O9&&!this.XC)this.Cc(j);else{var a=Y("knol-website-verify-dropdown");if(a){var b=a.value;if(b)this.yd=b}this.yd?this.Cc(j):this.Cc(l)}};
au.prototype.vl=function(){var a=new Ls;this.ol=a;this.XC&&a.G("continue","<< Back",l);a.G("ok","Create Collection",l);a.G("cancel","Cancel",l,j);return a};au.prototype.Cc=function(a){var b=this.kf().$g("ok");if(b)b.disabled=!a};var cu=function(a,b,c,d,f){new au(a,b,c,d,f)};var du=function(a){var b=Wf();this.aXa=[];this.AB=k;this.bT=l;this.Bp=0;this.GQ=l;this.Zk=a||[];this.P7=!!a;if(b){var c=this,d=function(){if(c.Zk.length==0){var h=sj(b.p(),"listUsersSites",[]);h.k(function(i){c.Zk=i;c.P7=j})}rk(A(c.wk,c))},f=function(){d()};$t(f,tt,k)}else{var g=new Ed(jf());window.location=tf(g.Pf("continue"),"createknol")}};F(du,pt);q=du.prototype;
q.wk=function(){eu();var a=Wf();this.QYa=a.hua();var b=K({b:"div",id:"knol-create-knol-form"}),c=this.bg(fu.AW,j,this.yma);b.addElement(c);var d=fn("si57lahl1w25/102"),f=K({b:"span",id:"knol-create-knol-learn",children:[{b:"a",target:"_blank",href:d,d:"Learn more about templates"}]});c=this.bg(fu.eC,l,this.Dna);c.addElement(f);var g="display:none";c.addElement({b:"div",c:"knol-create-suboption",style:g,d:"Select a template or search for a template. You may also enter a knol address:"});c.addElement(K({b:"div",
style:g,c:"knol-selector-search",id:"knol-create-knol-search"}));b.addElement(c);b.na();var h=this.bg(fu.VJ,l,"Create a new <span class='knol-create-emphasis'>collection</span> of knols.");d=fn("si57lahl1w25/238");f=K({b:"span",id:"knol-create-knol-learn",children:[{b:"a",target:"_blank",href:d,d:"Learn more about collections"}]});h.addElement(f);h.addElement({b:"div",style:g,c:"knol-create-suboption",d:"A collection is a list of knols that you organize."});var i=K({b:"div",style:g,c:"knol-create-suboption-col",
id:"knol-create-sub-collection-option"}),m="Moderated Collection (requires a verified website).  "+('<a href="'+fn("si57lahl1w25/259")+'" id="knol-create-knol-learn" target="_blank">Learn more</a>'),n=this.bg(fu.rs,l,m,"sub-collection",l,"checkbox");n.addElement({b:"div",style:g,d:"This type of collection allows you to customize the appearance of the knols in the collection.",c:"knol-create-suboption"});var o=K({b:"div",style:g,c:"knol-create-suboption",id:"knol-create-sub-mod-col-option"}),p=this.bg(fu.TJ,
j,"<span class='knol-create-emphasis'>Author-Centric</span> Collection.","sub-mod-col");p.addElement({b:"div",d:"Edits to the knols in the collection are approved only by the original authors of the knols.",c:"knol-create-sub-desc"});o.addElement(p);var r=this.bg(fu.vK,l,"<span class='knol-create-emphasis'>Shared-Authorship</span> Collection.","sub-mod-col");r.addElement({b:"div",d:"Edits to the knols in the collection are approved by both the original authors of the knols and the moderators of the collection.",
c:"knol-create-sub-desc"});o.addElement(r);var t=this.bg(fu.nK,l,"<span class='knol-create-emphasis'>Moderator-Centric</span> Collection.","sub-mod-col");t.addElement({b:"div",d:"Once accepted into the collection, edits to the knols in the collection are approved only by the moderators of the collection.",c:"knol-create-sub-desc"});o.addElement(t);n.addElement(o);i.addElement(n);h.addElement(i);b.addElement(h);b.na();if(a instanceof vj||a.wq().xq()!=4){var v=this.bg(fu.kC,l,"<span class='knol-create-emphasis'>Import</span> a file as a new knol.");
v.addElement(K({b:"div",style:g,c:"knol-create-suboption",id:"knol-create-knol-import"}));b.addElement(v);b.na()}if(!this.ke&&a&&a.Fb()){c=this.bg(fu.bY,l,"Create a new promotion.");c.addElement({b:"div",c:"knol-create-knol-text",d:"A promotion creates a label.  Knols can then join the promotion and be searchable under its label.  They will also show icons when viewed in search results."});c.P();c.addElement({b:"div",id:"knol-create-knol-inline"});c.addElement(this.AD("Label: ","knol-create-knol-promo-label",
30));c.addElement(this.AD("Language Restrict: ","knol-create-knol-promo-language",5,"(if applicable)"));c.addElement(this.AD("Country Restrict: ","knol-create-knol-promo-country",3,"(if applicable)"));b.addElement(c);b.P()}var w=this.vl(),x="knol-dialog",z=A(this.LA,this),E=b.w();pt.call(this,this.Ze,E,k,x,z,w);this.H(j);this.el()};
q.el=function(){this.fA={};for(var a in fu){var b=fu[a],c=Y(this.nm+"-"+b)||Y("sub-collection-"+b)||Y("sub-mod-col-"+b);if(c){this.fA[b]=c;V(c,"click",A(this.ep,this))}}var d=Y("knol-create-knol-import");if(d)this.h3=new Qt(d,A(this.YBa,this))};q.YBa=function(){this.eI(fu.kC);this.ep(k)};q.xQa=function(a,b){var c=this.bs.ha();a&&this.eI(fu.eC);var d=c&&b?A(this.BD,this):k;this.ep(d)};q.LA=function(a){if(a.ea=="ok"){var b=this.kf().$g("ok");b.disabled?a.preventDefault():this.ep(A(this.BD,this,a))}};
q.vl=function(){var a=new Ls;this.ol=a;a.G("ok",this.Qg,j,l);a.G("cancel","Cancel",l,j);return a};q.bg=function(a,b,c,d,f,g){b=b?"true":undefined;var h=K({b:"div",c:"knol-create-knol-radio-option"}),i=d||this.nm,m=i+"-"+a;h.addElement({b:"input",type:g||"radio",c:"knol-create-knol-option",name:i,id:m,value:a,checked:b,disabled:f?f:undefined});h.addElement({b:"label","for":m,d:c,id:m+"-label",c:f?"knol-create-knol-disable":""});return h};
q.AD=function(a,b,c,d){var f="display:none",g=K({b:"div",c:"knol-create-suboption",style:f});g.addElement({b:"div",d:a,c:"knol-create-knol-opt-desc"});var h=K({b:"input",type:"text",name:b,size:c,maxlength:c,id:b,value:"",c:"knol-create-knol-textbox"});g.addElement(h);d&&g.addElement(d);g.na();return g};
q.BD=function(a){var b=k,c=Vf(),d=c;if(this.AB)b=this.AB.p();var f,g,h;eu();var i,m,n;if(this.bT){for(var o=["knol-create-knol-promo-label","knol-create-knol-promo-language","knol-create-knol-promo-country"],p=[],r=0;r<o.length;r++){var t=o[r],v=Y(t);if(v)p[r]=v.value}i=p[0];n=p[1];m=p[2];b="knol.promotion"}if(i){var w=nh(i);if(w!=i){var x=Y("knol-create-knol-promo-label");if(x)x.value=w;a&&a.preventDefault();var z=Y("knol-create-knol-inline");if(z){Lt(z);Kt(z,"You must not use special characters in your label, try again with the corrected label:")}return}}if(m)m=
m.toLowerCase();var E=function(){f&&window.history.back()},M=A(st,k,k,"create knol",k,E),J=A(function(U){var R=new tk(hk(d),"createKnol");R.ma([c,b,k,k,g,h,k,i,n,m,this.Bp,k,U],function(N){var sa=O({Uf:N}),Fa=sa.ha();Fa+="#edit";if(f)window.location.replace(Fa);else window.location=Fa},M)},this);if(this.Bp>=2){a&&a.preventDefault();this.H(l);cu(J,function(){},A(function(){new du(this.Zk)},this),this.Zk,this.P7)}else this.GQ&&this.h3?this.h3.LRa(a,this):J.call(this)};var eu=function(){return D("knol.ui.client.CreateKnolDialog")};
q=du.prototype;q.RIa=function(){var a=Y("knol-create-knol-search");if(a)if(this.bs){var b=W("knol.ui.AdvancedSearchResults.getDefaultTemplateResults",[fg()=="user"?k:Sf(),Vf(),this.ke]);b.k(function(c){this.bs.eea(c)},this)}};
q.ep=function(a){eu();var b=ma(a)?a:function(){},c;for(var d in fu){var f=fu[d],g=this.fA[f];if(g&&g.checked&&g.parentNode.parentNode&&g.parentNode.parentNode.style.display!="none")c=f;var h=f==c,i=new gu(g,l,l,2);Vb(i,function(r){if(s(r.className)&&(r.className=="knol-create-suboption"||r.className=="knol-selector-search"||r.className=="knol-create-suboption-col")){r.style.visibility=h?"visible":"hidden";r.style.display=h?"":"none"}})}var m=k,n=l;this.GQ=this.bT=l;this.Bp=0;switch(c){case fu.AW:break;
case fu.eC:var o=G(Wt);o.load(A(function(){if(!this.bs){var r=Y("knol-create-knol-search");this.bs=new hu(r,this.ke,A(this.xQa,this));this.RIa()}if(this.bs){var t=this.bs.ha();if(t)m=Sj(t);else{var v=this.bs.fu();m=Sj(v)}n=!m}},this));break;case fu.VJ:this.Bp=1;break;case fu.rs:case fu.TJ:this.Bp=2;break;case fu.vK:this.Bp=3;break;case fu.nK:this.Bp=4;break;case fu.bY:this.bT=j;break;case fu.kC:this.GQ=j;var p=Y("knol-fileupload-input");n=!p||p.value.length==0;break}this.Mo(c);this.AB=k;if(n){this.Cc(l);
b()}else if(m)rk(A(function(){var r=l;if(m){var t=O(m),v=Wf();if(v&&t&&v.gna(t,this.ke)){this.AB=t;r=j}}this.Cc(r);b(this.AB)},this),A(function(){this.Cc(l);b()},this));else{this.Cc(j);b()}};q.Cc=function(a){var b=this.kf().$g("ok");if(b)b.disabled=!a};q.Mo=function(a){if(this.H0){var b=this.kf().$g("ok");if(b){var c=this.Qg;if(a==fu.VJ)c=this.H0;else if(a==fu.kC)c=this.Soa;else if(a==fu.rs||a==fu.TJ||a==fu.vK||a==fu.nK)c="Continue";b.innerHTML=c}}};q.Ze="How do you want to start?";q.yma="<span class='knol-create-emphasis'>Create</span> a new knol. This is the default.";
q.Dna="<span class='knol-create-emphasis'>Copy</span> an existing knol.";q.Qg="Create Knol";q.H0="Create Collection";q.Soa="Upload";q.nm="knol-create";var fu={AW:"option-blank",eC:"option-choose",VJ:"option-collect",bY:"option-promo",kC:"option-import",rs:"option-moderated-collection",TJ:"option-author-centric",vK:"option-shared-authorship",nK:"option-moderator-centric"};du.prototype.eI=function(a){for(var b in fu){var c=fu[b],d=Y(this.nm+"-"+c);if(d)d.checked=c==a}};du.prototype.ke=l;var iu=function(a,b,c,d){if(!ja(a)||!ja(b))e(Error("Start and end parameters must be arrays"));if(a.length!=b.length)e(Error("Start and end points must be the same length"));this.Pv=a;this.ora=b;this.UD=c;this.OY=d;this.coords=[]};B(iu,Oi);var ju={},ku=k,lu=function(){Pi.clearTimeout(ku);var a=xa();for(var b in ju)ju[b].m1(a);ku=gc(ju)?k:Pi.setTimeout(lu,20)},mu=function(a){var b=qa(a);delete ju[b];if(ku&&gc(ju)){Pi.clearTimeout(ku);ku=k}};q=iu.prototype;q.bb=0;q.x3=0;q.sh=0;q.Ig=k;q.L2=k;q.AR=k;
q.play=function(a){if(a||this.bb==0){this.sh=0;this.coords=this.Pv}else if(this.bb==1)return l;mu(this);this.Ig=xa();if(this.bb==-1)this.Ig-=this.UD*this.sh;this.L2=this.Ig+this.UD;this.AR=this.Ig;this.sh||this.aA();this.gHa();this.bb==-1&&this.lHa();this.bb=1;var b=qa(this);b in ju||(ju[b]=this);ku||(ku=Pi.setTimeout(lu,20));this.m1(this.Ig);return j};q.stop=function(a){mu(this);this.bb=0;if(a)this.sh=1;this.SV(this.sh);this.rHa();this.lH()};
q.pause=function(){if(this.bb==1){mu(this);this.bb=-1;this.fHa()}};q.n=function(){this.bb!=0&&this.stop(l);this.EGa();iu.f.n.call(this)};q.J1=function(){this.l()};q.m1=function(a){this.sh=(a-this.Ig)/(this.L2-this.Ig);if(this.sh>=1)this.sh=1;this.x3=1E3/(a-this.AR);this.AR=a;ma(this.OY)?this.SV(this.OY(this.sh)):this.SV(this.sh);if(this.sh==1){this.bb=0;mu(this);this.MGa();this.lH()}else this.bb==1&&this.zS()};
q.SV=function(a){this.coords=new Array(this.Pv.length);for(var b=0;b<this.Pv.length;b++)this.coords[b]=(this.ora[b]-this.Pv[b])*a+this.Pv[b]};q.zS=function(){this.El("animate")};q.aA=function(){this.El("begin")};q.EGa=function(){this.El("destroy")};q.lH=function(){this.El("end")};q.MGa=function(){this.El("finish")};q.fHa=function(){this.El("pause")};q.gHa=function(){this.El("play")};q.lHa=function(){this.El("resume")};q.rHa=function(){this.El("stop")};
q.El=function(a){this.dispatchEvent(new nu(a,this))};var nu=function(a,b){bi.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.KZa=b.coords[2];this.UD=b.UD;this.sh=b.sh;this.UXa=b.x3;this.Jg=b.bb;this.fXa=b};B(nu,bi);var ou=function(a,b,c,d,f){iu.call(this,b,c,d,f);this.ya=a};B(ou,iu);ou.prototype.yJ=da;ou.prototype.zS=function(){this.yJ();ou.f.zS.call(this)};ou.prototype.lH=function(){this.yJ();ou.f.lH.call(this)};ou.prototype.aA=function(){this.yJ();ou.f.aA.call(this)};var pu=function(a,b,c){if(b.length!=2||c.length!=2)e(Error("Start and end points must be 2D"));ou.apply(this,arguments)};B(pu,ou);
pu.prototype.yJ=function(){this.ya.style.left=Math.round(this.coords[0])+"px";this.ya.style.top=Math.round(this.coords[1])+"px"};var qu=function(a,b,c,d){var f=[a.offsetLeft,a.offsetTop];pu.call(this,a,f,b,c,d)};B(qu,pu);qu.prototype.aA=function(){this.Pv=[this.ya.offsetLeft,this.ya.offsetTop];qu.f.aA.call(this)};var tu=function(a,b){var c=ru(a);if(b<0||b>c)e(new Error("Accordion bounds exceeded"));var d="knol-element-toggle-level-"+b,f=/knol-element-toggle-level-\d+/;if(f.exec(a.className))a.className=a.className.replace(f,d);else a.className+=" "+d;xm(a,function(g){if(g.className){var h=su(g.className,"knol-element-toggle-threshold-");if(h)g.style.display=b>=h?"":"none"}})},su=function(a,b){var c=(new RegExp(b+"(\\d+)")).exec(a);return c?parseInt(c[1],10):undefined},uu=function(a){return su(Y(a).className,
"knol-element-toggle-level-")||0},ru=function(a){return su(a.className,"knol-element-toggle-level-max-")||Number.MAX_VALUE},vu=function(a,b){if(a)a.style.display="";if(b)b.style.display="none"},xu=function(a,b,c){var d=Y(a),f=d,g=uu(f.id);g+=1;tu(f,g);wu(d);vu(b?Y(b):k,c?Y(c):k)},yu=function(a,b,c){var d=Y(a),f=uu(d.id);f+=-1;tu(d,f);vu(b?Y(b):k,c?Y(c):k)},zu=function(a){var b=a.parentNode,c=a.value||a.innerHTML,d=a.disabled;Z(a);var f=new wr(c);f.ba(b);f.U(!d);return f},Au=function(a,b,c){var d=
c||ba||window,f=d.document,g=0,h=0;if(!pe&&f.compatMode=="CSS1Compat"){if(a!=k){g=a-f.documentElement.scrollLeft;f.documentElement.scrollLeft=a}if(b!=k){h=b-f.documentElement.scrollTop;f.documentElement.scrollTop=b}}else{if(a!=k){g=a-f.body.scrollLeft;f.body.scrollLeft=a}if(b!=k){h=b-f.body.scrollTop;f.body.scrollTop=b}}return new oh(g,h)},Bu=function(a,b,c){var d=Xl(c).y;if(a<d)return Au(k,a,c).y;else{var f=d+Wl(c).height;if(b>f){var g=Math.min(a,d+b-f);return Au(k,g,c).y}}return 0},wu=function(a){var b=
tq(a).y,c=b+Aq(a).height;return Bu(b,c)},Cu=function(a,b){if(H&&(b||!Fe("7")))ba.setTimeout(function(){if(y(a))a=Y(a);if(a)a.className=a.className},0)},Du=function(a){if(a&&H){for(var b=Tl("iframe",k,a),c=[],d=0;d<b.length;d++){var f=X.z(b[d]);if(Bb(f,"map_embed")||Bb(f,"igm"))c.push(b[d])}if(c.length){var g=am("div",{style:"display: none"});document.appendChild(g);for(d=0;d<c.length;d++)g.appendChild(c[d]);ba.setTimeout(function(){Z(g)},1E4)}}};var Eu=function(a,b,c,d,f,g,h,i,m,n){this.Wb=n?"-"+n:"";this.Ze=a;this.J=b;this.CG=c;this.oB=d;this.E_=f;this.GHa=g;this.SM=h||this.CG.Th();this.qH=i;this.SI=!m;this.JS=m;var o=this.Moa(),p=this.Boa(o);V(p[0],p[1],A(function(r){if(!this.SI||r.ea=="ok"){var t=Y("knol-inline-error"+this.Wb);Jt(t,"knol-inline-error","knol-inline-error-message");var v=this.lxa();if(!v)return l;this.oB(v,this.gya(),this.yua(),this.Tya(),this.Hta());if(this.SI)this.l();else this.JS.innerHTML="";return j}},this))};
F(Eu,pt);var Fu=function(a){var b=k;if(a)try{b=a.Ja()}catch(c){}return!!b&&b.Ca()};q=Eu.prototype;q.rp=function(a){var b=K({b:"tr",children:[{b:"td",c:"spacer"}]});a.addElement(b)};q.Uoa=function(a){var b=K({b:"div",id:"knol-inline-error"+this.Wb});a.addElement(b)};
q.Noa=function(a){if(!this.J||this.J.p()!=Vf()){var b=D("knol.ui.client.EmailDialog");b.wa("Email user not set or does not match current user.")}else{var c=this.J&&this.J.yy();if(c){var d=K({b:"span",id:"knol-email-from-tag",d:c}).w(),f="From: "+d;a.addElement({b:"tr",children:[{b:"td",c:"label",d:f}]});this.rp(a)}}};
q.vpa=function(a){var b=this.GHa||"To: ",c=K({b:"tr",children:[{b:"td",c:"label",d:b}]}),d=K({b:"tr",children:[{b:"td",children:[{b:"textarea",rows:"1",cols:"70",c:"knol-email-text-box",id:"knol-email-recipients"+this.Wb,name:"recipients"}]}]}),f=K({b:"tr",children:[{b:"td",c:"inote",children:[{b:"i",d:"Separate email addresses with commas"}]}]});a.addElement(c);a.addElement(d);a.addElement(f)};q.ML=function(a,b){this.LL(a,"http://"+window.location.host+this.CG.uy(),this.CG.uy(),b)};
q.LL=function(a,b,c,d,f,g){var h=K({b:"input",id:"knol-email-subject"+this.Wb,c:"knol-email-text-box",name:"subject",value:this.SM}),i={b:"span",id:"knol-email-subject"+this.Wb,c:"knol-fixed-email-subject",d:"<br />"+bf(this.SM)},m=K({b:"tr",children:[{b:"td",children:[d?h:i]}]});a.addElement(m);if(this.qH){var n=Pe(this.qH).replace(/\n/g,"<br />"),o=n.indexOf("http://");if(o>=0){var p=n.indexOf(". ",o);c=n.substring(o,p);n=n.substring(0,o)+K({b:"a",href:c,d:c}).w()+n.substring(p)}var r=K({b:"tr",
children:[{b:"td",c:"indent knol-fixed-email-body",d:n}]}),t="http://"+window.location.host+c;if(ha(b))b=t;var v=K({b:"tr",children:[{b:"td",c:"indent knol-fixed-email-link",children:[{b:"a",href:t,d:b}]}]}),w="";this.rp(a);a.addElement(r);this.rp(a);a.addElement(v);this.rp(a);if(f&&g){var x=Pe(f).replace(/\n/g,"<br />"),z=K({b:"tr",children:[{b:"td",c:"indent knol-fixed-email-body",d:x}]});a.addElement(z);this.rp(a);w=K({b:"tr",children:[{b:"td",c:"indent knol-fixed-email-link",children:[{b:"a",
target:"_blank",href:g,d:g}]}]});a.addElement(w);this.rp(a)}}};q.xpa=function(a){var b=K({b:"tr",children:[{b:"td",c:"note",d:"You may also type an additional message."}]}),c=K({b:"tr",children:[{b:"td",children:[{b:"textarea",rows:"8",cols:"70",c:"knol-email-text-box",id:"knol-email-message"+this.Wb,name:"message"}]}]});a.addElement(b);a.addElement(c)};
q.Coa=function(a){var b=K({b:"tr"});b.addElement({b:"td",children:[{b:"input",type:"checkbox",id:"knol-email-ccMe"+this.Wb,name:"ccMe"},{b:"span",c:"note",d:"Send me a carbon copy (CC) of this email."}]});a.addElement(b)};q.n6=function(){return"Send Request"};q.T3=function(){return"Cancel"};q.vl=function(){var a=new Ls;a.G("ok",this.n6(),l);a.G("cancel",this.T3(),l,j);return a};q.hsa=function(a,b){var c="knol-dialog knol-email-dialog";pt.call(this,this.Ze,a.w(),k,c,k,b);this.H(l);return[this,"dialogselect"]};
q.Aoa=function(a){var b=K({b:"span",c:"knol-manage-button",children:[{b:"input",type:"button",value:this.n6(),id:"knol-email-button-send"+this.Wb}]}),c=K({b:"span",c:"knol-manage-button",children:[{b:"input",type:"button",value:this.T3(),id:"knol-email-button-cancel"+this.Wb}]});a.addElement(b);a.addElement(c);this.JS.innerHTML=a.w();var d=Y("knol-email-button-send"+this.Wb);if(d)d=zu(d);var f=Y("knol-email-button-cancel"+this.Wb);if(f){f=zu(f);V(f,"action",A(function(){this.E_&&this.E_();this.JS.innerHTML=
""},this))}return[d,"action"]};q.Moa=function(){var a=K({b:"div",id:"knol-email-form"+this.Wb});this.Uoa(a);var b=Wf().wq().xq(),c=l;if(b!=0&&b!=3&&b!=4)c=j;var d=K({b:"table",c:"knol-email-table"});this.Noa(d);this.vpa(d);this.rp(d);this.ML(d,c);c&&this.xpa(d);this.Coa(d);a.addElement(d);return a};q.Boa=function(a){var b;if(this.SI){var c=this.vl();b=this.hsa(a,c)}else b=this.Aoa(a);return b};
q.lxa=function(){var a=Y("knol-email-recipients"+this.Wb).value;a=a.replace(/\s+/g,"");var b=a.split(","),c=0;for(Gu=0;Gu<b.length;++Gu){var d=b[Gu];if(d.length!=0){if(!cf.test(d)){var f="The email address "+('"'+Pe(b[Gu])+'" is not recognized. Please correct it and try again.');Hu(f,this.Wb);return k}c++}}if(c){if(c>10){Hu("The maximum number of allowed recipients is: 10",this.Wb);return k}}else{Hu("Please specify at least one recipient.",this.Wb);return k}return b};
q.gya=function(){var a=Y("knol-email-subject"+this.Wb).value;a=$e(a,250);if(!Ja(Ca(a)))a=this.SM;return a};q.Tya=function(){var a=Y("knol-email-message"+this.Wb),b;if(a)b=a.value;else return"";if(b)b=$e(b,1500);else return"";var c="Message from "+(this.J.tb()+(":"+("\n"+b)));return c};q.yua=function(){return this.qH?this.qH.replace(/<wbr \/>/g,""):""};q.Hta=function(){return Y("knol-email-ccMe"+this.Wb).checked};q.hb=function(){this.SI&&this.H(j)};
var Iu=function(a,b,c,d,f){var g=a.tb()+(' requests a review of the knol "'+(b.tk()+'"')),h="Hello,\n\nYou are invited by "+(a.tb()+(" to write a review for the knol: "+(b.tk()+". Click the following link where you can read the knol and decide to accept or decline the request.")));Eu.call(this,"Request a review of this Knol",a,b,c,d,"Request reviewers:",g,h,f,"review")};F(Iu,Eu);
var Ju=function(a,b,c,d,f,g){this.Mb=c;var h='Request a review of "'+(b.Th()+'"'),i=a.tb()+(' requests a review of the knol "'+(b.tk()+('".  It is being considered for submission to the collection "'+(c.tk()+'"')))),m="Hello,\n\nYou are invited by "+(a.tb()+(' to write a review for the knol "'+(b.tk()+('".  It is being considered for submission to the collection "'+(c.tk()+'". Click the following link to view the knol and express your opinion on whether to accept or reject the knol into the collection.')))));
Eu.call(this,h,a,b,d,f,"Enter email address of reviewer:",i,m,g,"collectionreview")};F(Ju,Eu);Ju.prototype.ML=function(a,b){var c=Rj("system/services/createReview")+"?knolId="+this.CG.p()+"&collectionId="+this.Mb.p();this.LL(a,"http://"+window.location.host+c,c,b)};
var Hu=function(a,b){var c=Y("knol-inline-error"+b);It(c,a,"knol-inline-error","knol-inline-error-message")},Ku=function(a,b,c,d,f){var g=a.tb(),h=b.tk(),i="http://"+window.location.host,m=g+(' invites you to co-own a knol entitled "'+(h+'"')),n=g+(' invites you to co-own a collection entitled "'+(h+'"')),o="Hello,\n\nYou are invited by "+(g+(" to co-own the knol: "+(h+(". Learn more about what being an owner entails here: "+(i+fn("si57lahl1w25/7")+".  Click the following link where you can read the knol and decide to accept or decline the request."))))),
p="Hello,\n\nYou are invited by "+(g+(" to co-own the collection: "+(h+(". Learn more about what being an owner entails here: "+(i+fn("si57lahl1w25/7")+".  Click the following link where you can view the collection and decide to accept or decline the request."))))),r=Fu(b);Eu.call(this,r?"Offer ownership for this collection":"Offer ownership for this knol",a,b,c,d,"Invite owners:",r?n:m,r?p:o,f,"owner")};F(Ku,Eu);
var Lu=function(a,b,c,d,f){var g=a.tb(),h=b.tk(),i="http://"+window.location.host,m=g+(' invites you to co-author a knol entitled "'+(h+'"')),n=g+(' invites you to become a moderator of a collection entitled "'+(h+'"')),o="Hello,\n\nYou are invited by "+(g+(" to co-author the knol: "+(h+(". Learn more about what being a co-author entails here: "+(i+fn("si57lahl1w25/8")+".  Click the following link where you can read the knol and decide to accept or decline the request."))))),p="Hello,\n\nYou are invited by "+
(g+(" to become a moderator of the collection: "+(h+(". Learn more about what being a moderator entails here: "+(i+fn("si57lahl1w25/353")+".  Click the following link where you can view the collection and decide to accept or decline the request."))))),r=Fu(b);Eu.call(this,r?"Moderator invitation for this collection":"Offer authorship for this knol",a,b,c,d,r?"Invite moderators:":"Invite authors:",r?n:m,r?p:o,f,"author")};F(Lu,Eu);
var Nu=function(a,b,c){var d=Wf();if(d){var f=k;if(b&&a)f=Ln(a);if(b&&!f)b=l;var g;if(b&&f){var h=d.tb()+(" wants you to write a knol for our "+(f.knol.C+" event."));g=h}else if(!b&&a){var i=d.tb()+(' wants you to write a knol about "'+(a+'".'));g=i}else{var m=d.tb()+" wants you to write a knol.";g=m}var n="";if(b){var o="Hello,\n\n"+(d.tb()+(" recommended you as a knol author for our "+(f.knol.C+(" event. A knol is an authoritative article about a specific topic. Get started creating a knol for our "+
(f.knol.C+" event by clicking on the following links:")))));n=o}else{var p="Hello,\n\n"+(d.tb()+" recommended you as a knol author.  A knol is an authoritative article about a specific topic.  Click on the following link and see how easy it is to share what you know with the world:");n=p}this.w9=b;this.zo=a;this.fL=f;if(this.w9&&this.fL){var r="To find out more about the "+(this.fL.knol.C+" event follow this link:");this.faa=r;this.iha=this.fL.WI}var t=A(Mu,k,a,b,this.faa,this.iha);Eu.call(this,"Invite someone to write a knol",
d,k,t,k,"Invite authors:",g,n,c,"invitenewauthor");c||this.H(j)}else window.location=tf(""+window.location,"invite-author","inviteAuthorRedirect")};F(Nu,Eu);Nu.prototype.ML=function(a,b){var c=Rj("system/services/createKnol");if(this.w9&&this.zo)c+="?label="+this.zo;this.LL(a,k,c,b,this.faa,this.iha)};
var Qu=function(a,b,c){if(Ou()=="invite-author"||H&&c){Pu("#done");Wf()&&window.setTimeout(function(){new Nu(a,b)},0)}},Mu=function(a,b,c,d,f,g,h,i,m){xo();var n=A(st,k,"There was an error when sending the invitation.","invite new author"),o=new tk(hk(Vf()),"inviteFriend"),p=[];p=b&&a?[f,m,g,h,i,a,c,d]:[f,m,g,h,i];o.ma(p,function(r){b||new Ru(a);if(!r)e(new Error("invite friend had errors"))},n)},Su=function(a,b,c){var d=a.tb(),f=b.tk(),g=d+(' invites you to view a knol entitled "'+(f+'"')),h=d+(' invites you to view a collection entitled "'+
(f+'"')),i="Hello,\n\n"+(d+(" would like you to view the knol: "+(f+". Click the following link where you can read the knol."))),m="Hello,\n\n"+(d+(" would like you to view the collection: "+(f+". Click the following link where you can view the collection."))),n=Fu(b);Eu.call(this,n?"Email a link to this collection":"Email a link to this knol",a,b,c,k,"Recipients:",n?h:g,n?m:i)};F(Su,Eu);var Tu=function(){};F(Tu,Ar);Tu.prototype.Rb=function(a,b,c,d){var f=c||"references",g=Y(f),h=a||Uf().xy(),i=h.Me();if(i.length>0){var m=Y(d||"knol-content-body");if(m)if(g){var n="knol-references",o=Y(n);gm(o);for(var p=b?this.y$(i,b):this.QR(i),r=0;r<p.length;r++)o.appendChild(em(p[r].w()))}else{var t=Uf(),v=this.A$(t,i,b),w=em(v.w());w.id=f;m.appendChild(w)}}else if(g){var x=lm(g.nextSibling,j);Z(g);Z(x)}};Tu.prototype.e=function(){return Y("references")};var Uu=["knol-title","knol-subtitle","knol-abstract"],Vu=[k,k,k,k,k],$u=function(a,b){D("knol.ui.client.RevisionCompare");var c=W("knol.ui.RevisionCompare.markupDifference",[Sf(),Rf(),a,b]);c.k(function(d){if(Wu()){Xu(l);Yu();Y("knol-revision-compare").innerHTML=d[0];for(var f=0;f<Uu.length;f++)if(d[f+1]){var g=Y(Uu[f]);if(g){Vu[f]=g.innerHTML;g.innerHTML=d[f+1]}}if(d[d.length-2]){var h=new Nh;h.T(d[d.length-2][0]);var i=new sg(Oo);i.T(d[d.length-2][1]);G(Tu).Rb(h,i,"knol-revision-compare-diff-ref",
"knol-revision-compare-diff")}if(d[d.length-1]){var m=em(d[d.length-1]);im(m,Y("knol-revision-compare-diff"))}Zu()}});c.v(function(d){st(k,"Error encountered while comparing version: "+a+" and version: "+b,d)});return c},av=function(a){var b=a.split("-");if(b.length>1)if(b[1]=="compare")if(b.length>3){var c=parseInt(b[2],10),d=parseInt(b[3],10);if(la(c)&&la(d)&&c<d&&c>=1)return[c,d]}return k},cv=function(a,b){var c=Y("knol-revision-compare"),d="none";if(a)if(b){if(av(b)){d="";bv(j)}}else{d="";bv(j)}if(d==
"none"&&Wu())for(var f=0;f<Uu.length;f++){var g=Y(Uu[f]);if(Vu[f]){if(g)g.innerHTML=Vu[f];Vu[f]=k}G(Tu).Rb();var h=Y("references");if(h){im(Y("references"),Y("knol-content-body"));h.style.display="none"}}c.style.display=d},Wu=function(){var a=Y("knol-revision-compare");return a.style.display!="none"},dv=k,Zu=function(){Yu();var a=new fq,b=Y("knol-revision-compare-collection-paginate");b&&a.g(b,"click",ev);dv=a},Yu=function(){if(dv){dv.pb();dv=k}},ev=function(a){var b=a.target;if(b&&(b.nodeName==Kl||
(b=b.parentNode)&&b.nodeName==Kl))for(var c=X.z(b),d=0;d<c.length;d++){var f;if(f=uf(c[d],"knol-search-knol-pagination")){var g=f.split("_"),h=parseInt(g[1],10),i=parseInt(g[2],10);fv(h,i);return}}},fv=function(a,b){var c=Y("knol-revision-compare-collection"),d;if(c&&(d=uf(c.className,"knol-revision-compare-collection-versions-"))){var f=d.split("_"),g=parseInt(f[0],10),h=parseInt(f[1],10),i=W("knol.ui.RevisionCompare.markupCollectionItems",[Sf(),g,h,a,b]);i.k(function(m){var n=Y("knol-revision-compare-collection");
if(n&&m){Yu();n.innerHTML=m;Zu()}});i.v(function(m){tt(k,m)});return i}return k};var Lp=function(){this.dc(void 0,void 0)};F(Lp,Ip);Lp.prototype.refresh=function(){this.Rb()};Lp.prototype.create=function(){this.Rb()};Lp.prototype.Wga=function(a){D("knol.ui.client.VersionInfo");var b=0;if(!a.JF()){Uf().JNa(a.rT);var c=this.FD;this.FD=a.SB;this.zja(a.SB);b=a.SB-c}this.IG=a.HG;this.Dr=a.rA;G(gv).Wba();return b};var hv,iv={},jv=0,kv=0,mv=function(a){var b=a[0],c=a[1],d=a[2];D("knol.ui.client.History");var f=["top","bottom"],g={LY:["knol-history-pagination-earlier",Math.max(d-1,1)],iXa:["knol-history-pagination-later",Math.min(25+c,b)]};for(var h in g)C(f,function(i){var m=Y(g[h][0]+"-"+i);m&&V(m,"click",A(function(n){lv("revisions",n)},k,g[h][1]))})},ov=function(){var a=vb(["knol-revision-compare-button-top","knol-revision-compare-button-bottom"],Y);C(a,function(b){var c=new wr("Compare checked");c.ba(b);
V(c,"action",nv);b.style.display=""});Cu("knol-history",j)},pv=function(){var a=Rl("a","knol-revision-plonk-class");C(a,function(b){var c=b.id.replace("knol-revision-plonk-id-","");V(b,"click",function(){vt("Block user",Xn(b.name),function(){var d=new tk(hk(Vf()),"blockUser");d.ma([c,l,Rf()],function(f){f?Dt("User blocked",Yn(b.name)):Dt("Block user",ao(b.name))},function(){Dt("Block user",ao(b.name))})})})})},yv=function(){var a=Rl("input","knol-revision-checkbox");C(a,function(b){V(b,"click",A(function(c,
d){var f=d.target.checked,g=parseInt(c.replace(/knol-revision-checkbox-/,""),10);f?uv(g):vv(g);wv()},k,b.id))});xv()},xv=function(){if(kv||hv){var a=kv,b=hv;if(a&&Y("knol-revision-tr-"+a)){kv=0;uv(a)}if(b&&Y("knol-revision-tr-"+b)){hv=0;uv(b)}wv()}},wv=function(){var a=kv;a=a&&!Y("knol-revision-tr-"+a)?a:0;var b=hv;b=b&&!Y("knol-revision-tr-"+b)?b:0;var c=a,d=b,f=Y("knol-history-table"),g=f.createCaption();if(c||d){var h=Math.min(c,d),i=Math.max(c,d),m="Selected version "+((c||d)+" for comparison"),
n="Selected version "+(h+(" and "+(i+" for comparison")));g.style.backgroundColor="#ffffcc";g.style.fontWeight="bold";g.style.display="";g.innerHTML=c&&d?n:m}else g.style.display="none"},nv=function(){if(kv&&hv){var a=Math.min(hv,kv),b=Math.max(hv,kv);window.location="#revisions-compare-"+a+"-"+b}},uv=function(a){var b=Y("knol-revision-tr-"+a),c=Y("knol-revision-checkbox-"+a);if(b&&c){if(kv){hv&&vv(kv);hv=a}else kv=a;b.style.backgroundColor="#ffffcc";if(!c.checked)c.checked=j}},vv=function(a){var b=
Y("knol-revision-tr-"+a),c=Y("knol-revision-checkbox-"+a);if(kv==a){kv=hv;hv=0}if(hv==a)hv=0;if(b)b.style.backgroundColor="#fff";if(c&&c.checked)c.checked=l},lv=function(a,b){var c,d=av(a),f=(c=d?$u(d[0],d[1]):k)||zv(b)||new Zh;return f},zv=function(a){var b=new Zh,c=G(Lp).IG,d=a||c;if(iv[d])b.Ea();else{b=W("knol.ui.History.createHistoryTable",[Sf(),a]);b.k(function(f){iv[d]=f})}b.k(function(){cv(l);if(jv!=d){Y("knol-history").innerHTML=iv[d][0];ov();pv();yv();mv(iv[d][1]);jv=d}Xu(j)});b.v(function(f){st(k,
"Error encountered while fetching history table",f)});return b},Xu=function(a,b){var c=Y("knol-history"),d="none";if(a)if(b){if(b=="revisions")d=""}else d="";c.style.display=d},Av=function(){var a=Y("knol-history");return a.style.display!="none"};var gv=function(a){this.Ia=a;gv.Fu=this;rk(A(this.fCa,this),function(){Bv().wa("could not init author utils")})};u("knol.ui.client.AuthorUtils",gv,void 0);var Bv=function(){return D("knol.ui.client.AuthorUtils")};
gv.prototype.fCa=function(){if(!this.lm){Bv();this.user=Wf();if(Sf()){this.knol=Uf();if(Rf()){this.Qe=Q();this.a8=this.Qe.FO()}}if(Vf()&&this.Qe){this.$e=this.Qe.bi(Vf());this.Kg=this.Qe.ec(Vf())}if(this.user&&this.user.kg())this.Kg=this.$e=j;this.kh=this.Qe.hf()=="managed"&&this.Kg&&!this.Qe.oz(this.user.p());this.Na=new et;new Cv;if(this.$e||this.Kg)new Dv(this);G(Ev).dc(this);this.lm=j}};gv.prototype.cb=function(a){this.Na.cb(a);a.nb&&a.U(a.nb(this))};
gv.prototype.Wba=function(){var a=this;this.Na.we(function(b){s(b.nb)&&b.U(b.nb(a))})};gv.prototype.uk=function(){return G(Lp)};var Cv=function(a){var b=xr(a);if(b){V(b,"click",function(c){new du;c.preventDefault();return l});if(Ou()=="createknol"||H&&Od(window.location).mk().z("createknol")){G(Fv).DD="done";Pu("#done");Wf()&&new du}}};F(Cv,Ps);u("knol.ui.client.CreateKnol",Cv,void 0);Cv.prototype.nb=function(a){return a.user};
Cv.prototype.ma=function(a,b,c,d,f,g,h,i){Bv();var m=function(){b&&window.history.back()},n=A(st,k,k,"create knol",k,m);if(Wf()){var o=A(this.IT,this,n,b,c,d,f,g,h,i);if(i&&parseInt(i,10)>=2)o=A(cu,this,o,m);o()}else window.location=jf()};Cv.prototype.run=Cv.prototype.ma;
Cv.prototype.IT=function(a,b,c,d,f,g,h,i,m){$t(function(){var n=new tk(hk(Vf()),"createKnol");n.ma([k,g,k,k,c,d,f,k,k,k,i,h,m],A(function(o){o||a();var p=O({Uf:o}),r=p.ha();r+="#edit";Bv();var t=function(v,w){if(w)window.location.replace(v);else window.location=v};h?this.Wla(p,h,A(t,k,r,b),a):t(r,b)},this),a)},a,this)};Cv.prototype.Wla=function(a,b,c,d){rk(A(function(){if(b){var f=O(b),g=f.Ja();a&&a.p()&&f&&g&&g.fd()!=0&&Gv(a.p(),b,g.p(),new Ip(b),c,d)}else d()},this),d)};
Cv.prototype.tKa=function(a){if(a&&Wf()){Bv();var b=sj(a,"acceptFriendInvite",[Vf()]);b.k(function(){});b.v(function(){})}};Cv.prototype.resolveInvite=Cv.prototype.tKa;var Hv=function(){};F(Hv,Ps);u("knol.ui.client.CreateReview",Hv,void 0);Hv.prototype.nb=function(a){return a.user};Hv.prototype.ma=function(a,b,c,d){Bv();var f=A(tt,k,"create review");if(Wf()){var g=A(this.IT,this,f,b,c,d);g()}else window.location=jf()};Hv.prototype.run=Hv.prototype.ma;
Hv.prototype.IT=function(a,b,c,d){var f=new tk(hk(Vf()),"createReview");f.ma([Sf(),k,c,d],function(g){if(g==k)a();else if(g==1)Iv();else{Bv();var h=O({Uf:g});if(h){var i=h.ha();i+="#edit";if(b)window.location.replace(i);else window.location=i}else a()}},a)};
var Iv=function(){st("Sorry, you cannot review knols that are owned or authored by youself.",k,k,function(){window.location.replace(og())})},Jv=function(a){if(Wf()){var b=Y(a);if(b){var c="/k/knol/system/services/createReview?knolId="+Sf();b.href=c}}};u("knol.ui.client.CreateReview.swapReviewLink",Jv,void 0);var Dv=function(a,b){if(!b)if(a.$e||a.Kg){var c=Y("knol-create-review");if(c){c.href="#manage-reviewers";c.innerHTML="Invite more reviewers";c.target=""}}};F(Dv,Ps);Dv.prototype.nb=function(a){return a.user};
Dv.prototype.ma=function(a){Bv();this.J=a.user;this.Ra=a.knol;this.D=a.Qe;var b=new Iu(this.J,this.Ra,A(this.submit,this),k);b.hb()};Dv.prototype.submit=function(a,b,c,d,f){Bv();var g=A(tt,k,"request review"),h=new tk(hk(Vf()),"requestReview");Pt();Ot("Sending message...");h.ma([this.D.p(),a,f,b,c,d],function(i){Pt();i||Ot("Failed to send message. Please try again later.")},g)};var Ev=function(){};F(Ev,Ps);Ev.prototype.nb=function(){return j};
Ev.prototype.dc=function(a){if(!this.lm&&a.knol){var b=Y("knol-viewlinks-email");b&&V(b,"click",A(this.ma,this,a));var c=Y("knol-viewlinks-email-icon");c&&V(c,"click",A(this.ma,this,a));this.lm=j}};Ev.prototype.ma=function(a){this.dc(a);Bv();this.J=a.user;this.Ra=a.knol;if(this.J){var b=new Su(this.J,this.Ra,A(this.submit,this));b.hb()}else window.location=jf()};
Ev.prototype.submit=function(a,b,c,d,f){Bv();var g=A(tt,k,"send email"),h=new tk(hk(Vf()),"sendEmail");h.ma([this.Ra.p(),a,f,b,c,d],function(i){Pt();i||Ot("Failed to send message. Please try again later.")},g)};var Kv=function(){var a=Q(),b=a&&a.Ca();Ps.call(this,b?"Publish this collection":"Publish this knol")};F(Kv,Ps);
var Nv=function(){if(G(Wt).Vb())var a=G(Xt);var b,c=G(gv);if(a&&a.je()&&a.wg()){b=a.IA(undefined,j)||new Zh;b.k(Lv)}else{b=sj(Rf(),"changePublishedVersion",[-1]);b.k(function(){var d=c.uk(),f=d.rz();d.Dr=-1;Q().ENa(-1);var g=G(Mv);g.ba(f);g.Mm();iv={};var h=Y("knol-signout-link");if(h)h.innerHTML=bs().w();Lv()});b.v(A(tt,k,"publishing failed"))}return b},Lv=function(){var a=Y("knol-viewlinks-collect-icon");if(a)a.style.display="";if(a=Y("knol-viewlinks-collect"))a.style.display=""};
Kv.prototype.nb=function(a){return Gp(a)};Kv.prototype.ma=function(){return Nv()};var Ov=function(){Ps.call(this,"")};F(Ov,Ps);Ov.prototype.nb=function(a){return Ep(a)};Ov.prototype.ma=function(a){var b=a.uk(),c=sj(Rf(),"xPublishOldVersion",[b.Ne(),j]);c.k(function(d){var f={};f[ul.vw]=d;Q().Rb(f);var g=G(Mv);g.ba();g.Mm();iv={}});c.v(A(tt,k,"Could not un-publish the old version"))};var Pv=function(){var a=Q(),b=a&&a.Ca();Ps.call(this,b?"Unpublish this Collection":"Unpublish this Knol")};F(Pv,Ps);
Pv.prototype.nb=function(a){return Hp(a)};Pv.prototype.ma=function(){var a=sj(Rf(),"changePublishedVersion",[-2]);a.k(function(){window.location.reload(j)});a.v(A(tt,k,"Could not un-publish the knol"))};var Qv=function(){Ps.call(this,"")};F(Qv,Ps);Qv.prototype.nb=function(a){return Fp(a)};Qv.prototype.ma=function(a){var b=a.uk(),c=sj(Rf(),"xPublishOldVersion",[b.Ne(),l]);c.k(function(d){var f={};f[ul.vw]=d;Q().Rb(f);var g=G(Mv);g.ba();g.Mm();iv={}});c.v(A(tt,k,"Could not un-publish the old version"))};
var Rv=function(){var a=Q(),b=a&&a.Ca();Ps.call(this,b?"Delete this Collection":"Delete this Knol")};F(Rv,Ps);Rv.prototype.nb=function(a){Bv();return a.$e};
Rv.prototype.ma=function(a){var b=Q(),c=b&&b.Ca();vt(c?"Delete this Collection":"Delete this Knol",c?"Deleting a collection cannot be undone. You might consider unpublishing it instead.<br /><br />Are you sure you want to delete this collection?":"Deleting a knol cannot be undone. You might consider unpublishing it instead.<br /><br />Are you sure you want to delete this knol?",A(this.LKa,this,a))};
Rv.prototype.LKa=function(a,b){if(b.ea=="yes"){Bv();var c=new tk(hk(Rf()),"removeNode");c.ma([],function(){rk(function(){window.location=a.user.jk()})},A(tt,k,"delete knol"))}};var Sv=function(){this.Wb="manage"};F(Sv,Tt);Sv.prototype.Vb=function(){try{return s(Tv)}catch(a){return l}};var Uv=function(a,b){var c=Wf(),d=c?c.yy():k,f=c?c.p():k,g=new as(d,f,a,b),h=g.eh(),i=Y("knol-header-menu");if(i&&h)i.innerHTML=h};u("knol.ui.client.ProfileLink",Uv,void 0);var Mv=function(a,b){this.vf=a;this.Di=b;Mv.Fu=this};u("knol.ui.client.AuthorToolbox",Mv,void 0);Mv.prototype.ba=function(a){Y("knol-author-toolbox-container");var b=G(Lp);if(this.Di)this.Di=b.Ne();this.Sm=new Jp(Sf(),Pf(),Vf(),this.vf||"",this.Di||"");this.Sm.Rb(l,A(function(c){this.Sm.vCa();this.el(c);if(b&&!b.ih()){var d=new Vv(Sf()),f=a||!b.Lu()&&b.rz();d.ba(f)}Cu("knol-sidebar",j)},this))};Mv.prototype.render=Mv.prototype.ba;q=Mv.prototype;
q.el=function(a){this.Dka();this.Pja();this.ska();this.Eja();this.Nka();this.Hja(a)};
q.Dka=function(){var a=Y("knol-author-toolbox-publish-button");if(a){var b=zu(a);V(b,"action",A(function(){var g=new Kv(this.Sm.R),h=g.ma(this.Sm.R);h.k(function(){G(Sv).Vb()&&G(Tv).Mm()});h.k(this.Mm,this)},this))}var c=Y("knol-author-toolbox-un-publish-change");c&&V(c,"click",A(function(){Pu("manage-unpublish")},this));var d=Y("knol-author-toolbox-unpublish-old");d&&V(d,"click",A(function(){var g=new Qv(this.Sm.R);g.ma(this.Sm.R)},this));var f=Y("knol-author-toolbox-publish-old");f&&V(f,"click",
A(function(){var g=new Ov(this.Sm.R);g.ma(this.Sm.R)},this))};q.Mm=function(){if(G(Sv).Vb()){var a=Y("knol-manage-publish-state");if(a){var b=Y("knol-author-toolbox-publish-sub");a.innerHTML=b.innerHTML}}};q.Pja=function(){var a=Y("knol-author-toolbox-collaboration-change");a&&V(a,"click",A(function(){Pu("manage-general")},this))};q.ska=function(){var a=Y("knol-author-toolbox-license-change");a&&V(a,"click",A(function(){Pu("manage-general")},this))};
q.Eja=function(){var a=Y("knol-author-toolbox-author-change");a&&V(a,"click",A(function(){Pu("manage-authors")},this))};q.Nka=function(){new Dv(this.Sm.R,l);var a=Y("knol-action-sidebar-pane-table");if(a){var b=Y("knol-review-invite");if(b)b.style.display="none"}var c=Y("knol-author-toolbox-reviews-change");c&&V(c,"click",A(function(){Pu("manage-reviewers")},this))};q.Hja=function(a){if(a){if(y(a))a=[a];for(var b=0;b<a.length;b++){var c=a[b];Wv(c)}}};
var Wv=function(a){if(a){var b="knol-badge-remove-"+a,c=Y(b);if(c){var d=Wf(),f=Q();if(d&&f&&(d.Fb()||f.ec(d.p()))){var g=c.parentNode;g.style.visibility="visible";g.style.display="";V(c,"click",A(function(h){var i=sj(Vf(),"removeBadge",[h,Rf()]);i.k(function(){window.location.reload(j)});i.v(A(st,k,"We could not remove the badge from the knol, please try again later","Remove badge failed"))},k,a))}}}};u("knol.ui.client.AuthorToolbox.setupRemoveLinks",Wv,void 0);var Xv=function(a,b){this.J=Wf();this.Pb=a;this.vf=b};u("knol.ui.client.ActionSidebar",Xv,void 0);Xv.prototype.ba=function(){var a=W("knol.ui.ActionSidebar.getTokenedMessageHtml",[this.vf,this.Pb,this.J.p()]);a.k(A(function(b){if(b)Y("knol-action-sidebar-pane").innerHTML=b;else G(Mv).ba()},this));a.v(A(tt,k,"Failed to find relevant messages"))};Xv.prototype.render=Xv.prototype.ba;var Zv=function(a){Yv();this.qc=Sf();this.Li=Pf();this.Dk=(this.Pb=Rf())||this.Li;this.gda=a;var b=Wf();if(b&&b.Fb()){var c=W("knol.ui.AdminOptions.getHtml",[this.Dk,this.gda]);c.k(function(d){var f=Y("knol-admin-pane");if(f&&d){f.innerHTML=d;f.style.display="";this.ba()}},this);c.v(function(){})}};u("knol.ui.client.AdminOptions",Zv,void 0);var Yv=function(){return D("knol.ui.client.AdminOptions")};q=Zv.prototype;
q.ba=function(){Yv();var a={};a["knol-admin-id-1"]=this.wQa;a["knol-admin-id-2"]=this.LJa;a["knol-admin-id-8"]=this.bma;a["knol-admin-id-9"]=this.hna;a["knol-admin-id-22"]=this.zra;a["knol-admin-id-23"]=this.vla;a["knol-admin-id-28"]=this.yra;a["knol-admin-id-29"]=this.ula;a["knol-admin-id-3"]=this.ZLa;a["knol-admin-id-4"]=this.$La;a["knol-admin-id-6"]=this.WLa;a["knol-admin-id-7"]=this.TLa;a["knol-admin-id-42"]=function(){this.DI(1)};a["knol-admin-id-43"]=function(){this.DI(0)};a["knol-admin-id-44"]=
function(){this.DI(-1)};a["knol-admin-id-16"]=function(){this.pU(1)};a["knol-admin-id-17"]=function(){this.pU(0)};a["knol-admin-id-12"]=this.Cda;a["knol-admin-id-13"]=this.wMa;a["knol-admin-id-14"]=this.Bda;a["knol-admin-id-15"]=this.vMa;a["knol-admin-id-26"]=this.VLa;a["knol-admin-id-27"]=this.XLa;a["knol-admin-id-18"]=this.cma;a["knol-admin-id-19"]=this.ina;a["knol-admin-id-20"]=this.nLa;a["knol-admin-id-21"]=this.mna;a["knol-admin-id-36"]=this.Ara;a["knol-admin-id-37"]=this.tla;a["knol-admin-id-35"]=
this.fJa;a["knol-admin-id-38"]=this.Bra;a["knol-admin-id-39"]=this.wla;a["knol-admin-id-31"]=this.xra;a["knol-admin-id-32"]=this.qla;a["knol-admin-id-33"]=this.wra;a["knol-admin-id-34"]=this.pla;a["knol-admin-id-40"]=this.dma;a["knol-admin-id-41"]=this.jna;a["knol-admin-id-45"]=this.mQa;a["knol-admin-id-46"]=this.iEa;a["knol-admin-id-48"]=this.hEa;a["knol-admin-id-49"]=this.$la;a["knol-admin-id-51"]=this.Zla;for(var b in a){var c=Y(b);c&&V(c,["click","change"],A(a[b],this))}};
q.Ua=function(a,b){this.Aca(j);this.Aca(l);var c=W(a,b);c.k(A(function(d){this.X1(d,"Operation")},this));c.v(A(tt,k,"Operation failed"));c.v(A(function(){this.X1(l,"Operation")},this))};q.Aca=function(a){var b=Y(a?"knol-admin-success":"knol-admin-fail");b.innerHTML="";b.style.display="none"};q.X1=function(a,b){b+=": "+(a?"succeeded":"<b>failed</b>!");var c=Y(a?"knol-admin-success":"knol-admin-fail");c.innerHTML=b;c.style.display=""};q.wQa=function(){this.Ua("knol.ui.AdminOptions.opt1",[this.qc])};
q.LJa=function(){this.Ua("knol.ui.AdminOptions.opt2",[this.qc])};q.$La=function(){this.Ua("knol.ui.AdminOptions.opt3",[Pf()])};q.ZLa=function(){this.Ua("knol.ui.AdminOptions.opt4",[Pf()])};q.WLa=function(){this.Ua("knol.ui.AdminOptions.opt5",[Pf()])};q.TLa=function(){this.Ua("knol.ui.AdminOptions.opt6",[Pf()])};q.bma=function(){this.Ua("knol.ui.AdminOptions.opt7",[Pf(),"true"])};q.hna=function(){this.Ua("knol.ui.AdminOptions.opt7",[Pf(),"false"])};
q.DI=function(a){this.Ua("knol.ui.AdminOptions.opt9",[this.Li,a])};q.Cda=function(){this.Ua("knol.ui.AdminOptions.opt10",[Pf(),"true"])};q.wMa=function(){this.Ua("knol.ui.AdminOptions.opt10",[Pf(),"false"])};q.Bda=function(){this.Ua("knol.ui.AdminOptions.opt11",[Pf(),"true"])};q.vMa=function(){this.Ua("knol.ui.AdminOptions.opt11",[Pf(),"false"])};q.pU=function(a){this.Ua("knol.ui.AdminOptions.opt12",[this.qc,a])};q.zra=function(){this.Ua("knol.ui.AdminOptions.opt13",[this.Pb,j])};
q.vla=function(){this.Ua("knol.ui.AdminOptions.opt13",[this.Pb,l])};q.xra=function(){this.Ua("knol.ui.AdminOptions.opt13",[this.Li,j])};q.qla=function(){this.Ua("knol.ui.AdminOptions.opt13",[this.Li,l])};q.VLa=function(){this.Ua("knol.ui.AdminOptions.opt14",[Pf(),j])};q.XLa=function(){this.Ua("knol.ui.AdminOptions.opt14",[Pf(),l])};q.yra=function(){this.Ua("knol.ui.AdminOptions.opt15",[this.Pb,j])};q.ula=function(){this.Ua("knol.ui.AdminOptions.opt15",[this.Pb,l])};
q.wra=function(){this.Ua("knol.ui.AdminOptions.opt15",[this.Li,j])};q.pla=function(){this.Ua("knol.ui.AdminOptions.opt15",[this.Li,l])};q.cma=function(){this.Ua("knol.ui.AdminOptions.opt16",[Pf(),"true"])};q.ina=function(){this.Ua("knol.ui.AdminOptions.opt16",[Pf(),"false"])};q.nLa=function(){var a=$v();this.Ua("knol.ui.AdminOptions.opt18",[a,"true"])};q.mna=function(){var a=$v();this.Ua("knol.ui.AdminOptions.opt18",[a,"false"])};q.Ara=function(){this.Ua("knol.ui.AdminOptions.opt19",[this.Pb,j])};
q.tla=function(){this.Ua("knol.ui.AdminOptions.opt19",[this.Pb,l])};q.fJa=function(){this.Ua("knol.ui.AdminOptions.opt20",[this.Pb])};q.Bra=function(){this.Ua("knol.ui.AdminOptions.opt21",[this.Pb,j])};q.wla=function(){this.Ua("knol.ui.AdminOptions.opt21",[this.Pb,l])};q.dma=function(){this.Ua("knol.ui.AdminOptions.opt22",[Pf(),"true"])};q.jna=function(){this.Ua("knol.ui.AdminOptions.opt22",[Pf(),"false"])};q.mQa=function(){this.Ua("knol.ui.AdminOptions.opt23",[Pf()])};
q.iEa=function(){var a,b=Y("knol-admin-id-46");if(b)a=b.value;if(a){var c=W("knol.ui.AdminOptions.opt28",[Rf(),a]);c.k(A(function(d){var f=Y("knol-admin-id-47");if(f)f.value=d},this))}};q.hEa=function(){var a,b,c=Y("knol-admin-id-46");if(c)a=c.value;if(c=Y("knol-admin-id-47"))b=c.value;a&&this.Ua("knol.ui.AdminOptions.opt29",[Rf(),a,b])};
q.$la=function(){var a,b=Y("knol-admin-id-49");if(b)a=b.value;if(a){var c=W("knol.ui.AdminOptions.opt30",[Pf(),a]);c.k(A(function(d){var f=Y("knol-admin-id-50");if(f)f.value=d},this))}};q.Zla=function(){var a,b,c=Y("knol-admin-id-49");if(c)a=c.value;if(c=Y("knol-admin-id-50"))b=c.value;a&&this.Ua("knol.ui.AdminOptions.opt31",[Pf(),a,b])};var aw=function(){D("knol.ui.client.AdSense");var a=Wf(),b=Q(),c=a&&b&&(a.Fb()||b.ec(a.p()));if(c){var d=Y("knol-adsense-pending-ad");if(d){d.innerHTML=this.Uwa();d.style.visibility="visible";d.style.display=""}}};u("knol.ui.client.AdSense",aw,void 0);aw.prototype.Uwa=function(){return"Your AdSense account is under review by Knol. Once approved your ads will show here. The process can take up to 2 weeks."};var bw=function(a,b,c,d,f){this.Ve=!!b;a&&this.setPosition(a,d);this.Sg=f!=undefined?f:this.ze||0;if(this.Ve)this.Sg*=-1;this.sD=!c};B(bw,Tb);q=bw.prototype;q.node=k;q.ze=k;q.$U=l;q.setPosition=function(a,b,c){if(this.node=a)this.ze=la(b)?b:this.node.nodeType!=1?0:this.Ve?-1:1;if(la(c))this.Sg=c};q.ul=function(a){this.node=a.node;this.ze=a.ze;this.Sg=a.Sg;this.Ve=a.Ve;this.sD=a.sD};q.ua=function(){return new bw(this.node,this.Ve,!this.sD,this.ze,this.Sg)};
q.Nv=function(){var a=this.Ve?-1:1;if(this.ze==a){this.ze=a*-1;this.Sg+=this.ze*(this.Ve?-1:1)}};q.wKa=function(){var a=this.Ve?1:-1;if(this.ze==a){this.ze=a*-1;this.Sg+=this.ze*(this.Ve?-1:1)}};
q.sa=function(){var a;if(this.$U){if(!this.node||this.sD&&this.Sg==0)e(Sb);a=this.node;var b=this.Ve?-1:1;if(this.ze==b){var c=this.Ve?a.lastChild:a.firstChild;c?this.setPosition(c):this.setPosition(a,b*-1)}else{var d=this.Ve?a.previousSibling:a.nextSibling;d?this.setPosition(d):this.setPosition(a.parentNode,b*-1)}this.Sg+=this.ze*(this.Ve?-1:1)}else this.$U=j;a=this.node;if(!this.node)e(Sb);return a};q.IDa=function(){return this.$U};q.rR=function(){return this.ze==1};
q.aR=function(){return this.ze==-1};q.xc=function(a){return a.node==this.node&&(!this.node||a.ze==this.ze)};q.splice=function(){var a=this.node;this.wKa();this.Ve=!this.Ve;bw.prototype.sa.call(this);this.Ve=!this.Ve;for(var b=ka(arguments[0])?arguments[0]:arguments,c=b.length-1;c>=0;c--)im(b[c],a);Z(a)};var gu=function(a,b,c,d){bw.call(this,a,b,c,k,d)};B(gu,bw);gu.prototype.sa=function(){do gu.f.sa.call(this);while(this.aR());return this.node};var cw,dw={lX:["BC","AD"],nia:["Before Christ","Anno Domini"],Mia:["J","F","M","A","M","J","J","A","S","O","N","D"],gja:["J","F","M","A","M","J","J","A","S","O","N","D"],ss:["January","February","March","April","May","June","July","August","September","October","November","December"],fja:["January","February","March","April","May","June","July","August","September","October","November","December"],oY:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ija:["Jan","Feb","Mar",
"Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],IY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],kja:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wK:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jja:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],AVa:["S","M","T","W","T","F","S"],hja:["S","M","T","W","T","F","S"],pY:["Q1","Q2","Q3","Q4"],dY:["1st quarter","2nd quarter","3rd quarter","4th quarter"],vW:["AM","PM"],sw:["EEEE, MMMM d, y","MMMM d, y",
"MMM d, y","M/d/yy"],wC:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],yTa:{Md:"M/d",MMMMd:"MMMM d",MMMd:"MMM d"},tia:6,JY:[5,6],uia:2};cw=dw;var ew=function(){},fw=function(a){if(typeof a=="number"){var b,c=a,d=new ew;d.Jfa=c;var f=d,g;var h=c;if(h==0)g="Etc/GMT";else{var i=["Etc/GMT",h<0?"-":"+"];h=Math.abs(h);i.push(Math.floor(h/60)%100);h%=60;h!=0&&i.push(":",bb(h,2));g=i.join("")}f.uga=g;var m;var n=c;if(n==0)m="UTC";else{var o=["UTC",n<0?"+":"-"];n=Math.abs(n);o.push(Math.floor(n/60)%100);n%=60;n!=0&&o.push(":",n);m=o.join("")}d.JV=[m,m];d.pJ=[];return b=d}var p=new ew;p.uga=a.id;p.Jfa=-a.std_offset;p.JV=a.names;p.pJ=a.transitions;
return p};q=ew.prototype;q.o4=function(a){for(var b=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes()),c=b/36E5,d=0;d<this.pJ.length&&c>=this.pJ[d];)d+=2;return d==0?0:this.pJ[d-1]};q.bva=function(a){var b,c=this.aP(a),d=["GMT"];d.push(c<=0?"+":"-");c=Math.abs(c);d.push(bb(Math.floor(c/60)%100,2),":",bb(c%60,2));return b=d.join("")};q.Xva=function(a){return this.JV[this.Z8(a)?3:1]};q.aP=function(a){return this.Jfa-this.o4(a)};
q.ixa=function(a){var b=-this.aP(a),c=[b<0?"-":"+"];b=Math.abs(b);c.push(bb(Math.floor(b/60)%100,2),bb(b%60,2));return c.join("")};q.Txa=function(a){return this.JV[this.Z8(a)?2:0]};q.sya=function(){return this.uga};q.Z8=function(a){return this.o4(a)>0};var gw=function(a){this.Yc=[];typeof a=="number"?this.SC(a):this.Lw(a)},hw=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];q=gw.prototype;q.Lw=function(a){for(;a;)for(var b=0;b<hw.length;++b){var c=a.match(hw[b]);if(c){var d=c[0];a=a.substring(d.length);if(b==0)if(d=="''")d="'";else{d=d.substring(1,d.length-1);d=d.replace(/\'\'/,"'")}this.Yc.push({text:d,type:b});break}}};
q.Bt=function(a,b){var c=b?(a.getTimezoneOffset()-b.aP(a))*6E4:0,d=c?new Date(a.getTime()+c):a,f=d;if(b&&d.getTimezoneOffset()!=a.getTimezoneOffset()){c+=c>0?-86400000:864E5;f=new Date(a.getTime()+c)}for(var g=[],h=0;h<this.Yc.length;++h){var i=this.Yc[h].text;1==this.Yc[h].type?g.push(this.Hsa(i,a,d,f,b)):g.push(i)}return g.join("")};q.SC=function(a){var b;if(a<4)b=cw.sw[a];else if(a<8)b=cw.wC[a-4];else if(a<12)b=cw.sw[a-8]+" "+cw.wC[a-8];else{this.SC(10);return}this.Lw(b)};
q.Gsa=function(a,b){var c=b.getFullYear()>0?1:0;return a>=4?cw.nia[c]:cw.lX[c]};q.Tsa=function(a,b){var c=b.getFullYear();if(c<0)c=-c;return a==2?bb(c%100,2):String(c)};q.Ksa=function(a,b){var c=b.getMonth();switch(a){case 5:return cw.Mia[c];case 4:return cw.ss[c];case 3:return cw.oY[c];default:return bb(c+1,a)}};q.Csa=function(a,b){return bb(b.getHours()||24,a)};q.Isa=function(a,b){var c=b.getTime()%1E3/1E3;return c.toFixed(Math.min(3,a)).substr(2)+(a>3?bb(0,a-3):"")};
q.Fsa=function(a,b){var c=b.getDay();return a>=4?cw.IY[c]:cw.wK[c]};q.Dsa=function(a,b){var c=b.getHours();return cw.vW[c>=12&&c<24?1:0]};q.Bsa=function(a,b){return bb(b.getHours()%12||12,a)};q.zsa=function(a,b){return bb(b.getHours()%12,a)};q.Asa=function(a,b){return bb(b.getHours(),a)};q.Osa=function(a,b){var c=b.getDay();switch(a){case 5:return cw.hja[c];case 4:return cw.kja[c];case 3:return cw.jja[c];default:return bb(c,1)}};
q.Psa=function(a,b){var c=b.getMonth();switch(a){case 5:return cw.gja[c];case 4:return cw.fja[c];case 3:return cw.ija[c];default:return bb(c+1,a)}};q.Lsa=function(a,b){var c=Math.floor(b.getMonth()/3);return a<4?cw.pY[c]:cw.dY[c]};q.Esa=function(a,b){return bb(b.getDate(),a)};q.Jsa=function(a,b){return bb(b.getMinutes(),a)};q.Nsa=function(a,b){return bb(b.getSeconds(),a)};q.Rsa=function(a,b,c){c=c||fw(b.getTimezoneOffset());return a<4?c.ixa(b):c.bva(b)};
q.Ssa=function(a,b,c){c=c||fw(b.getTimezoneOffset());return a<4?c.Txa(b):c.Xva(b)};q.Qsa=function(a,b){b=b||fw(a.getTimezoneOffset());return b.sya()};
q.Hsa=function(a,b,c,d,f){var g=a.length;switch(a.charAt(0)){case "G":return this.Gsa(g,c);case "y":return this.Tsa(g,c);case "M":return this.Ksa(g,c);case "k":return this.Csa(g,d);case "S":return this.Isa(g,d);case "E":return this.Fsa(g,c);case "a":return this.Dsa(g,d);case "h":return this.Bsa(g,d);case "K":return this.zsa(g,d);case "H":return this.Asa(g,d);case "c":return this.Osa(g,c);case "L":return this.Psa(g,c);case "Q":return this.Lsa(g,c);case "d":return this.Esa(g,c);case "m":return this.Jsa(g,
d);case "s":return this.Nsa(g,d);case "v":return this.Qsa(b,f);case "z":return this.Ssa(g,b,f);case "Z":return this.Rsa(g,b,f);default:return""}};var iw=function(a){this.Yc=[];typeof a=="number"?this.SC(a):this.Lw(a)},jw=80;q=iw.prototype;
q.Lw=function(a){for(var b=l,c="",d=0;d<a.length;d++){var f=a.charAt(d);if(f==" "){if(c.length>0){this.Yc.push({text:c,Df:0,vs:l});c=""}for(this.Yc.push({text:" ",Df:0,vs:l});d<a.length-1&&a.charAt(d+1)==" ";)d++}else if(b)if(f=="'")if(d+1<a.length&&a.charAt(d+1)=="'"){c+="'";d++}else b=l;else c+=f;else if("GyMdkHmsSEDahKzZvQ".indexOf(f)>=0){if(c.length>0){this.Yc.push({text:c,Df:0,vs:l});c=""}var g=this.qwa(a,d);this.Yc.push({text:f,Df:g,vs:l});d+=g-1}else if(f=="'")if(d+1<a.length&&a.charAt(d+1)==
"'"){c+="'";d++}else b=j;else c+=f}c.length>0&&this.Yc.push({text:c,Df:0,vs:l});this.oFa()};q.SC=function(a){var b;if(a>11)a=10;b=a<4?cw.sw[a]:a<8?cw.wC[a-4]:cw.sw[a-8]+" "+cw.wC[a-8];this.Lw(b)};q.parse=function(a,b,c){var d=c||0;return this.M8(a,b,d,l)};q.YPa=function(a,b,c){var d=c||0;return this.M8(a,b,d,j)};
q.M8=function(a,b,c,d){for(var f=new kw,g=[c],h=-1,i=0,m=0,n=0;n<this.Yc.length;n++)if(this.Yc[n].Df>0){if(h<0&&this.Yc[n].vs){h=n;i=c;m=0}if(h>=0){var o=this.Yc[n].Df;if(n==h){o-=m;m++;if(o==0)return 0}if(!this.bga(a,g,this.Yc[n],o,f)){n=h-1;g[0]=i}}else{h=-1;if(!this.bga(a,g,this.Yc[n],0,f))return 0}}else{h=-1;if(this.Yc[n].text.charAt(0)==" "){var p=g[0];this.Bfa(a,g);if(g[0]>p)continue}else if(a.indexOf(this.Yc[n].text,g[0])==g[0]){g[0]+=this.Yc[n].text.length;continue}return 0}return f.Rma(b,
d)?g[0]-c:0};q.qwa=function(a,b){for(var c=a.charAt(b),d=b+1;d<a.length&&a.charAt(d)==c;)d++;return d-b};q.jR=function(a){if(a.Df<=0)return l;var b="MydhHmsSDkK".indexOf(a.text.charAt(0));return b>0||b==0&&a.Df<3};q.oFa=function(){for(var a=l,b=0;b<this.Yc.length;b++)if(this.jR(this.Yc[b])){if(!a&&b+1<this.Yc.length&&this.jR(this.Yc[b+1])){a=j;this.Yc[b].vs=j}}else a=l};q.Bfa=function(a,b){var c=a.substring(b[0]).match(/^\s+/);if(c)b[0]+=c[0].length};
q.bga=function(a,b,c,d,f){this.Bfa(a,b);var g=b[0],h=c.text.charAt(0),i=-1;if(this.jR(c))if(d>0){if(g+d>a.length)return l;i=this.nA(a.substring(0,g+d),b)}else i=this.nA(a,b);switch(h){case "G":f.P2=this.ro(a,b,cw.lX);return j;case "M":return this.aQa(a,b,f,i);case "E":return this.ZPa(a,b,f);case "a":f.DZ=this.ro(a,b,cw.vW);return j;case "y":return this.cQa(a,b,g,i,c,f);case "Q":return this.bQa(a,b,f,i);case "d":f.at=i;return j;case "S":return this.$Pa(i,b,g,f);case "h":if(i==12)i=0;case "K":case "H":case "k":f.Vd=
i;return j;case "m":f.Re=i;return j;case "s":f.We=i;return j;case "z":case "Z":case "v":return this.fQa(a,b,f);default:return l}};q.cQa=function(a,b,c,d,f,g){var h;if(d<0){h=a.charAt(b[0]);if(h!="+"&&h!="-")return l;b[0]++;d=this.nA(a,b);if(d<0)return l;if(h=="-")d=-d}if(!h&&b[0]-c==2&&f.Df==2)g.iOa(d);else g.Ym=d;return j};q.aQa=function(a,b,c,d){if(d<0){d=this.ro(a,b,cw.ss);if(d<0)d=this.ro(a,b,cw.oY);if(d<0)return l;c.Wu=d}else c.Wu=d-1;return j};
q.bQa=function(a,b,c,d){if(d<0){d=this.ro(a,b,cw.dY);if(d<0)d=this.ro(a,b,cw.pY);if(d<0)return l;c.Wu=d*3;c.at=1;return j}return l};q.ZPa=function(a,b,c){var d=this.ro(a,b,cw.IY);if(d<0)d=this.ro(a,b,cw.wK);if(d<0)return l;c.eM=d;return j};q.$Pa=function(a,b,c,d){var f=b[0]-c;d.iS=f<3?a*Math.pow(10,3-f):Math.round(a/Math.pow(10,f-3));return j};q.fQa=function(a,b,c){if(a.indexOf("GMT",b[0])==b[0]){b[0]+=3;return this.hba(a,b,c)}return this.hba(a,b,c)};
q.hba=function(a,b,c){if(b[0]>=a.length){c.KV=0;return j}var d=1;switch(a.charAt(b[0])){case "-":d=-1;case "+":b[0]++}var f=b[0],g=this.nA(a,b);if(g==0&&b[0]==f)return l;var h;if(b[0]<a.length&&a.charAt(b[0])==":"){h=g*60;b[0]++;f=b[0];g=this.nA(a,b);if(g==0&&b[0]==f)return l;h+=g}else{h=g;if(h<24&&b[0]-f<=2)h*=60;else h=h%100+h/100*60}h*=d;c.KV=-h;return j};q.nA=function(a,b){var c=a.substring(b[0]).match(/^\d+/);if(!c)return-1;b[0]+=c[0].length;return parseInt(c[0],10)};
q.ro=function(a,b,c){for(var d=0,f=-1,g=a.substring(b[0]).toLowerCase(),h=0;h<c.length;h++){var i=c[h].length;if(i>d&&g.indexOf(c[h].toLowerCase())==0){f=h;d=i}}if(f>=0)b[0]+=d;return f};var kw=function(){};kw.prototype.iOa=function(a){var b=new Date,c=b.getFullYear()-jw,d=c%100;this.Bla=a==d;a+=Math.floor(c/100)*100+(a<d?100:0);return this.Ym=a};
kw.prototype.Rma=function(a,b){if(this.P2!=undefined&&this.Ym!=undefined&&this.P2==0&&this.Ym>0)this.Ym=-(this.Ym-1);this.Ym!=undefined&&a.setFullYear(this.Ym);var c=a.getDate();a.setDate(1);this.Wu!=undefined&&a.setMonth(this.Wu);this.at!=undefined?a.setDate(this.at):a.setDate(c);if(this.Vd==undefined)this.Vd=a.getHours();if(this.DZ!=undefined&&this.DZ>0)if(this.Vd<12)this.Vd+=12;a.setHours(this.Vd);this.Re!=undefined&&a.setMinutes(this.Re);this.We!=undefined&&a.setSeconds(this.We);this.iS!=undefined&&
a.setMilliseconds(this.iS);if(b&&(this.Ym!=undefined&&this.Ym!=a.getFullYear()||this.Wu!=undefined&&this.Wu!=a.getMonth()||this.at!=undefined&&this.at!=a.getDate()||this.Vd>=24||this.Re>=60||this.We>=60||this.iS>=1E3))return l;if(this.KV!=undefined){var d=a.getTimezoneOffset();a.setTime(a.getTime()+(this.KV-d)*60*1E3)}if(this.Bla){var f=new Date;f.setFullYear(f.getFullYear()-jw);a.getTime()<f.getTime()&&a.setFullYear(f.getFullYear()+100)}if(this.eM!=undefined)if(this.at==undefined){var g=(7+this.eM-
a.getDay())%7;if(g>3)g-=7;var h=a.getMonth();a.setDate(a.getDate()+g);if(a.getMonth()!=h)a.setDate(a.getDate()+(g>0?-7:7))}else if(this.eM!=a.getDay())return l;return j};var lw=function(a,b){$q.call(this);this.Pk=b||cw;this.cSa=this.Pk.wK;this.Q=new zl(a);this.Q.Yda(this.Pk.uia);this.Q.Xda(this.Pk.tia);this.Ce=this.Q.ua();this.Ce.setDate(1);this.GJ=["","","","","","",""];this.GJ[this.Pk.JY[0]]="goog-date-picker-wkend-start";this.GJ[this.Pk.JY[1]]="goog-date-picker-wkend-end";this.Nu={}};B(lw,$q);q=lw.prototype;q.kfa=j;q.kPa=j;q.Fra=j;q.OU=j;q.ufa=j;q.UK=j;q.tfa=j;q.yPa=l;q.w1=k;var mw=0;q=lw.prototype;
q.DRa=function(){$(this.x2,this.tfa);$(this.w2,this.UK);$(this.nga,this.tfa||this.UK)};q.Aba=function(){this.Ce.add(new yl("m",-1));this.dp()};q.raa=function(){this.Ce.add(new yl("m",1));this.dp()};q.yIa=function(){this.Ce.add(new yl("y",-1));this.dp()};q.cGa=function(){this.Ce.add(new yl("y",1));this.dp()};q.rda=function(){this.setDate(new zl)};q.nda=function(){this.UK&&this.setDate(k)};q.getDate=function(){return this.Q};
q.setDate=function(a){var b=a!=this.Q&&!(a&&this.Q&&a.getFullYear()==this.Q.getFullYear()&&a.getMonth()==this.Q.getMonth()&&a.getDate()==this.Q.getDate());this.Q=a&&new zl(a);if(a){this.Ce.G(this.Q);this.Ce.setDate(1)}this.dp();var c=new nw("select",this,this.Q);this.dispatchEvent(c);if(b){var d=new nw("change",this,this.Q);this.dispatchEvent(d)}};
q.sRa=function(){if(this.QM){for(var a=this.QM;a.firstChild;)a.removeChild(a.firstChild);var b=Ol(a),c,d,f;if(this.yPa){c=b.createElement("td");c.colSpan=this.OU?1:2;this.Qg(c,"\u00ab",this.Aba);a.appendChild(c);c=b.createElement("td");c.colSpan=this.OU?6:5;c.className="goog-date-picker-monthyear";a.appendChild(c);this.PM=c;c=b.createElement("td");this.Qg(c,"\u00bb",this.raa);a.appendChild(c)}else{var g=this.Pk.sw[0].toLowerCase();d=b.createElement("td");d.colSpan=5;this.Qg(d,"\u00ab",this.Aba);this.Vp=
this.Qg(d,"",this.jPa,"goog-date-picker-month");this.Qg(d,"\u00bb",this.raa);f=b.createElement("td");f.colSpan=3;this.Qg(f,"\u00ab",this.yIa);this.ux=this.Qg(f,"",this.xPa,"goog-date-picker-year");this.Qg(f,"\u00bb",this.cGa);if(g.indexOf("y")<g.indexOf("m")){a.appendChild(f);a.appendChild(d)}else{a.appendChild(d);a.appendChild(f)}}}};
q.vc=function(a){lw.f.vc.call(this,a);a.className="goog-date-picker";var b=Ol(a),c=b.createElement("table"),d=b.createElement("thead"),f=b.createElement("tbody"),g=b.createElement("tfoot");dq(f,"grid");f.tabIndex="0";this.oV=f;this.nga=g;var h=b.h("tr","goog-date-picker-head");this.QM=h;this.sRa();d.appendChild(h);var i;this.Xi=[];for(var m=0;m<7;m++){h=b.createElement("tr");this.Xi[m]=[];for(var n=0;n<8;n++){i=b.createElement(n==0||m==0?"th":"td");if((n==0||m==0)&&n!=m){i.className=n==0?"goog-date-picker-week":
"goog-date-picker-wday";dq(i,n==0?"rowheader":"columnheader")}h.appendChild(i);this.Xi[m][n]=i}f.appendChild(h)}h=b.h("tr","goog-date-picker-foot");i=b.h("td",{colSpan:2,className:"goog-date-picker-today-cont"});this.x2=this.Qg(i,"Today",this.rda);h.appendChild(i);i=b.h("td",{colSpan:4});h.appendChild(i);i=b.createElement("td");i.colSpan=2;i.className="goog-date-picker-none-cont";this.w2=this.Qg(i,"None",this.nda);h.appendChild(i);g.appendChild(h);this.DRa();c.cellSpacing="0";c.cellPadding="0";c.appendChild(d);
c.appendChild(f);c.appendChild(g);a.appendChild(c);this.ZIa();this.dp();a.tabIndex=0};q.h=function(){lw.f.h.call(this);this.vc(this.e())};q.za=function(){lw.f.za.call(this);var a=this.Ba();a.g(this.oV,"click",this.fAa);a.g(this.KO(this.e()),"key",this.gAa)};q.yc=function(){lw.f.yc.call(this);this.gt();for(var a in this.Nu)this.Nu[a].l();this.Nu={}};q.create=lw.prototype.Oa;q.n=function(){lw.f.n.call(this);this.w2=this.x2=this.ux=this.PM=this.Vp=this.QM=this.nga=this.oV=this.Xi=k};
q.fAa=function(a){if(a.target.tagName=="TD"){var b,c=-2,d=-2;for(b=a.target;b;b=b.previousSibling,c++);for(b=a.target.parentNode;b;b=b.previousSibling,d++);var f=this.Gb[d][c];this.setDate(f.ua())}};
q.gAa=function(a){var b,c;switch(a.keyCode){case 33:a.preventDefault();b=-1;break;case 34:a.preventDefault();b=1;break;case 37:a.preventDefault();c=-1;break;case 39:a.preventDefault();c=1;break;case 38:a.preventDefault();c=-7;break;case 40:a.preventDefault();c=7;break;case 36:a.preventDefault();this.rda();case 46:a.preventDefault();this.nda();default:return}var d;if(this.Q){d=this.Q.ua();d.add(new yl(0,b,c))}else{d=this.Ce.ua();d.setDate(1)}this.setDate(d)};
q.jPa=function(a){a.stopPropagation();for(var b=[],c=0;c<12;c++)b.push(this.Pk.ss[c]);this.zD(this.Vp,b,this.qAa,this.Pk.ss[this.Ce.getMonth()])};q.xPa=function(a){a.stopPropagation();for(var b=[],c=this.Ce.getFullYear()-5,d=0;d<11;d++)b.push(String(c+d));this.zD(this.ux,b,this.$Aa,String(this.Ce.getFullYear()))};q.qAa=function(a){for(var b=a,c=-1;b;b=lm(b.previousSibling,l),c++);this.Ce.setMonth(c);this.dp();this.Vp.focus&&this.Vp.focus()};
q.$Aa=function(a){if(a.firstChild.nodeType==3){this.Ce.setFullYear(Number(a.firstChild.nodeValue));this.dp()}this.ux.focus()};
q.zD=function(a,b,c,d){this.gt();var f=Ol(a),g=f.h("div","goog-date-picker-menu");this.Vu=k;for(var h=f.createElement("ul"),i=0;i<b.length;i++){var m=f.h("li",k,b[i]);if(b[i]==d)this.Vu=m;h.appendChild(m)}g.appendChild(h);g.style.left=a.offsetLeft+a.parentNode.offsetLeft+"px";g.style.top=a.offsetTop+"px";g.style.width=a.clientWidth+"px";this.Vp.parentNode.appendChild(g);this.W=g;if(!this.Vu)this.Vu=h.firstChild;this.Vu.className="goog-date-picker-menu-selected";this.hS=c;var n=this.Ba();n.g(this.W,
"click",this.k7);n.g(this.KO(this.W),"key",this.l7);n.g(f.M(),"click",this.gt);g.tabIndex=0;g.focus()};q.k7=function(a){a.stopPropagation();this.gt();this.hS&&this.hS(a.target)};
q.l7=function(a){a.stopPropagation();var b,c=this.Vu;switch(a.keyCode){case 35:a.preventDefault();b=c.parentNode.lastChild;break;case 36:a.preventDefault();b=c.parentNode.firstChild;break;case 38:a.preventDefault();b=c.previousSibling;break;case 40:a.preventDefault();b=c.nextSibling;break;case 13:case 9:case 0:a.preventDefault();this.gt();this.hS(c);break}if(b&&b!=c){c.className="";b.className="goog-date-picker-menu-selected";this.Vu=b}};
q.gt=function(){if(this.W){var a=Ol(this.W),b=this.Ba();b.Cb(this.W,"click",this.k7);b.Cb(this.KO(this.W),"key",this.l7);b.Cb(a.M(),"click",this.gt);a.removeNode(this.W);delete this.W}};q.Qg=function(a,b,c,d){var f=["goog-date-picker-btn"];d&&f.push(d);var g=Ol(a),h=g.createElement("button");h.className=f.join(" ");h.appendChild(g.createTextNode(b));a.appendChild(h);this.Ba().g(h,"click",c);return h};
q.dp=function(){if(this.e()){var a=this.Ce.ua();a.setDate(1);if(this.PM){var b=this.PM,c,d=this.Pk.ss[a.getMonth()],f=a.getFullYear(),g=d+(" "+f);c=g;tm(b,c)}this.Vp&&tm(this.Vp,this.Pk.ss[a.getMonth()]);this.ux&&tm(this.ux,String(a.getFullYear()));var h=a.cza(),i=a.J5();a.add(new yl("m",-1));a.setDate(a.J5()-(h-1));this.kfa&&!this.Fra&&i+h<33&&a.add(new yl("d",-7));var m=new yl("d",1);this.Gb=[];for(var n=0;n<6;n++){this.Gb[n]=[];for(var o=0;o<7;o++){this.Gb[n][o]=a.ua();a.add(m)}}this.YIa()}};
q.YIa=function(){if(this.e())for(var a=this.Ce.getMonth(),b=new zl,c=b.getFullYear(),d=b.getMonth(),f=b.getDate(),g=0;g<6;g++){if(this.OU){tm(this.Xi[g+1][0],this.Gb[g][0].bza());X.G(this.Xi[g+1][0],"goog-date-picker-week")}else{tm(this.Xi[g+1][0],"");X.G(this.Xi[g+1][0],"")}for(var h=0;h<7;h++){var i=this.Gb[g][h],m=this.Xi[g+1][h+1];if(!m.id)m.id="goog-dp-"+mw++;dq(m,"gridcell");var n=["goog-date-picker-date"];if(this.kPa||i.getMonth()==a){i.getMonth()!=a&&n.push("goog-date-picker-other-month");
var o=(h+this.Ce.AO()+7)%7;this.GJ[o]&&n.push(this.GJ[o]);i.getDate()==f&&i.getMonth()==d&&i.getFullYear()==c&&n.push("goog-date-picker-today");if(this.Q&&i.getDate()==this.Q.getDate()&&i.getMonth()==this.Q.getMonth()&&i.getFullYear()==this.Q.getFullYear()){n.push("goog-date-picker-selected");eq(this.oV,"activedescendant",m.id)}if(this.w1){var p=this.w1(i);p&&n.push(p)}tm(m,i.getDate())}else tm(m,"");X.G(m,n.join(" "))}if(g>=4)$(this.Xi[g+1][0].parentNode,this.Gb[g][0].getMonth()==a||this.kfa)}};
q.ZIa=function(){if(this.e()){if(this.ufa)for(var a=0;a<7;a++){var b=this.Xi[0][a+1],c=(a+this.Ce.AO()+7)%7;tm(b,this.cSa[(c+1)%7])}$(this.Xi[0][0].parentNode,this.ufa)}};q.KO=function(a){var b=qa(a);b in this.Nu||(this.Nu[b]=new fr(a));return this.Nu[b]};var nw=function(a,b,c){bi.call(this,a,b);this.q1=c};B(nw,bi);var ow=function(a,b){this.mn=a instanceof oh?a:new oh(a,b)};B(ow,Qs);ow.prototype.Za=function(a,b,c,d){Es(qq(a),0,a,b,this.mn,c,k,d)};var pw=function(a,b){this.vba=4;this.zH=b||undefined;dt.call(this,a)};B(pw,dt);pw.prototype.sU=function(a){this.vba=a;this.da()&&this.Za()};pw.prototype.setPosition=function(a){this.zH=a||undefined;this.da()&&this.Za()};pw.prototype.Za=function(){if(this.zH){var a=!this.da()&&this.la()!="move_offscreen",b=this.e();if(a){b.style.visibility="hidden";$(b,j)}this.zH.Za(b,this.vba,this.Lz);a&&$(b,l)}};var qw=function(a,b){$q.call(this,b);this.Wi=a||new lw};B(qw,$q);q=qw.prototype;q.Wi=k;q.Na=k;q.GG=k;q.up=j;q.h=function(){qw.f.h.call(this);this.e().className="goog-popupdatepicker";this.Na=new pw(this.e())};q.za=function(){qw.f.za.call(this);if(!this.Wi.nc()){var a=this.e();a.style.visibility="hidden";$(a,l);this.Wi.Oa(a)}this.Ba().g(this.Wi,"change",this.cA)};q.n=function(){qw.f.n.call(this);if(this.Na){this.Na.l();this.Na=k}this.Wi.l();this.GG=this.Wi=k};q.qe=function(){return l};q.getDate=function(){return this.Wi.getDate()};
q.setDate=function(a){this.Wi.setDate(a)};q.attach=function(a){this.Ba().g(a,"mousedown",this.pfa)};q.detach=function(a){this.Ba().Cb(a,"mousedown",this.pfa)};q.Eo=function(a){this.up=a};q.lPa=function(a){this.GG=a;this.Na.setPosition(new Rs(a,5));this.Ba().Cb(this.Wi,"change",this.cA);this.Wi.setDate(k);this.dispatchEvent("show");this.Ba().g(this.Wi,"change",this.cA);this.Na.H(j);this.up&&this.e().focus()};q.pfa=function(a){this.lPa(a.currentTarget)};
q.wQ=function(){this.Na.H(l);this.up&&this.GG&&this.GG.focus()};q.cA=function(a){this.wQ();this.dispatchEvent(a)};var rw=function(a,b,c,d){$q.call(this,d);this.r1=a;this.s1=b;this.Kd=new qw(c,d);this.hc(this.Kd);this.Kd.Eo(l)};B(rw,$q);q=rw.prototype;q.r1=k;q.s1=k;q.Kd=k;q.wba=k;q.getDate=function(){var a=this.JO(),b=this.Kd.getDate();if(a&&b)a.xc(b)||this.Kd.setDate(a);else this.Kd.setDate(k);return a};q.setDate=function(a){this.Kd.setDate(a)};q.UA=function(a){var b=this.e();if(b.lh)b.lh.Pa(a);else b.value=a};q.tq=function(){var a=this.e();return a.lh?a.lh.aa():a.value};
q.JO=function(){var a=Ja(this.tq());if(a){var b=new Al;if(this.s1.YPa(a,b)>0)return b}return k};q.h=function(){this.Wd(this.L().h("input",{type:"text"}));this.Kd.h()};q.za=function(){rw.f.za.call(this);var a=this.e();(this.wba||this.L().M().body).appendChild(this.Kd.e());this.Kd.za();this.Kd.attach(a);this.Kd.setDate(this.JO());var b=this.Ba();b.g(this.Kd,"change",this.cA);b.g(this.Kd,"show",this.hHa)};q.yc=function(){rw.f.yc.call(this);var a=this.e();this.Kd.detach(a);this.Kd.yc();Z(this.Kd.e())};
q.vc=function(a){rw.f.vc.call(this,a);this.Kd.h()};q.n=function(){rw.f.n.call(this);this.Kd.l();this.wba=this.Kd=k};q.wQ=function(){this.Kd.wQ()};q.hHa=function(){this.setDate(this.JO())};q.cA=function(a){this.UA(a.q1?this.r1.Bt(a.q1):"")};var vw=function(a){var b=Y("knol-advancedsearch-form"),c=Y("knol-advancedsearch-button"),d=new wr("Search");d.ba(b);c.value="";c.style.width=0;c.style.height=0;c.style.border="none";V(d,"action",function(){b.submit()});var f=Y("knol-advancedsearch-showhide");f&&V(f,"click",sw);var g=Y("knol-advancedsearch-selectall");g&&V(g,"click",function(){tw(j)});var h=Y("knol-advancedsearch-unselectall");h&&V(h,"click",function(){tw(l)});var i=Y("knol-advancedsearch-doctype");if(i){uw(a);V(i,"change",A(uw,k,
a))}this.Xja()};u("knol.ui.client.AdvancedSearchForm",vw,void 0);
var sw=function(){var a=Y("knol-advancedsearch-showhide"),b=Y("knol-advancedsearch-options"),c=Y("knol-advancedsearch-showhide-input");if(a&&b){var d=b.style.display!="none",f=!d;a.innerHTML=d?"Show options":"Hide options";b.style.visibility=f?"visible":"hidden";b.style.display=f?"":"none";if(c)c.value=f?"on":"off"}},tw=function(a){for(var b=0;b<xn.length;b++){var c="knol-advancedsearch-loc-"+b,d=Y(c);if(d)d.checked=a}},uw=function(a){var b=Y("knol-advancedsearch-doctype"),c=new gu(b,l,l,1),d;Vb(c,
function(g){if(s(g.selected)&&g.selected)d=g.value});var f=d==2;ww(!f,[0,5]);xw(d,a);yw(d)},ww=function(a,b){for(var c=0;c<xn.length;c++)if(!b||!Bb(b,c)){var d="knol-advancedsearch-loc-"+c,f=Y(d);if(f)f.disabled=!a}},xw=function(a,b){var c=Y("knol-restrict-radio-list"),d=new gu(c,l,l,1),f;Vb(d,function(i){if(s(i.checked)&&i.checked)f=i.value});var g=undefined,h=Y("knol-restrict-url");if(h)g=h.value;c&&rk(A(function(i,m,n){var o=new wn(l);o.YZ=n;var p=o.xxa(m,f,g);i.innerHTML=p.w()},k,c,a,b))},yw=
function(a){var b=Y("knol-advancedsearch-topstat");if(b)b.innerHTML=a==3?"Show only authors that have the most number of: ":"Show only knols that have the most number of: "};vw.prototype.Xja=function(){this.ZI("knol-advancedsearch-start-dateedited");this.ZI("knol-advancedsearch-end-dateedited");this.ZI("knol-advancedsearch-start-datecreated");this.ZI("knol-advancedsearch-end-datecreated")};
vw.prototype.ZI=function(a){var b=Y(a);if(b){var c=new gw("MM'/'dd'/'yyyy"),d=new iw("MM'/'dd'/'yyyy"),f=new rw(c,d);f.Oa(b)}};var zw=function(){var a=Y("knol-advancedsearch-visibility-published"),b=Y("knol-advancedsearch-visibility-publishedOverride");a&&b&&V(a,"click",function(){b.value=a.checked})};u("knol.ui.client.AdvancedSearchForm.enforcePublishCheckbox",zw,void 0);var Bw=function(a){if(Vf()==a){var b=Aw(),c=Y("knol-author-profile-button");if(c){c.appendChild(b.Oh());c.appendChild(document.createElement("br"));var d,f=Sf(),g=Rj("Settings")+(f?"?back="+f:""),h=K({b:"a",href:g,d:"Edit My Preferences"});d=h;c.appendChild(d.Oh())}var i=Y("knol-author-profile-badge-unauth"),m;if(m=i){var n=rf();m=n&&Bb(Sr,n)?j:l}m&&iq(i,"display","")}};u("knol.ui.client.Author",Bw,void 0);
var Aw=function(){var a=new Ed(document.location.href);a.Jo("");a.fa("profile_edited","1");var b=new Ed("http://www.google.com/s2/profiles/me/editprofile");b.fa("service","knol");b.fa("continue",a.toString());var c=K({b:"a",href:b.toString(),d:"Edit My Profile"});return c};var Ew=function(a,b,c,d){if(a&&!b)e(Error("Can't use invisible history without providing a blank page."));var f;if(c)f=c;else{var g="history_state"+Cw;document.write(Aa('<input type="text" name="%s" id="%s" style="display:none" />',g,g));f=Pl(g)}this.az=f;this.Ae=c?Zl(Nl(c)):window;this.qma=this.Ae.location.href.split("#")[0]+"#";this.TF=b;if(H&&!b)this.TF=window.location.protocol=="https"?"https:///":'javascript:""';this.Ld=new Qi(150);this.js=!a;this.j=new fq(this);if(a||H&&!Dw){var h;if(d)h=d;
else{var i="history_iframe"+Cw,m=this.TF?'src="'+Ta(this.TF)+'"':"";document.write(Aa('<iframe id="%s" style="display:none" %s></iframe>',i,m));h=Pl(i)}this.Hb=h;this.Lga=j}if(H&&!Dw){this.j.g(this.Ae,"load",this.Jaa);this.cfa=this.JM=l}this.js?this.mU(this.of(),j):this.Cv(this.az.value);Cw++};B(Ew,Oi);Ew.prototype.Ma=l;Ew.prototype.RG=l;Ew.prototype.Ou=k;var Dw=H&&document.documentMode>=8||I&&Fe("1.9.2")||pe&&Fe("532.1");q=Ew.prototype;q.Ru=k;q.n=function(){Ew.f.n.call(this);this.j.l();this.U(l)};
q.U=function(a){if(a!=this.Ma)if(H&&!Dw&&!this.JM)this.cfa=a;else if(a){if(oe)this.j.g(this.Ae.document,Fw,this.EHa);else I&&this.j.g(this.Ae,"pageshow",this.eA);if(Dw&&this.js){this.j.g(this.Ae,"hashchange",this.PGa);this.Ma=j;this.dispatchEvent(new Gw(this.of()))}else if(!H||this.JM){this.j.g(this.Ld,"tick",this.zp);this.Ma=j;if(!H)this.Ou=this.of();this.Ld.start();this.dispatchEvent(new Gw(this.of()))}}else{this.Ma=l;this.j.pb();this.Ld.stop()}};
q.Jaa=function(){this.JM=j;this.az.value&&this.Cv(this.az.value,j);this.U(this.cfa)};q.eA=function(a){if(a.Zg().persisted){this.U(l);this.U(j)}};q.PGa=function(){var a=this.$E(this.Ae);a!=this.Ou&&this.aW(a)};q.of=function(){return this.Ru!==k?this.Ru:this.js?this.$E(this.Ae):this.HO()||""};q.So=function(a,b){this.VMa(a,l,b)};q.$E=function(a){var b=a.location.href,c=b.indexOf("#");return c<0?"":b.substring(c+1)};
q.VMa=function(a,b,c){if(this.of()!=a)if(this.js){this.mU(a,b);Dw||H&&this.Cv(a,b,c);this.Ma&&this.zp()}else{this.Cv(a,b);this.Ru=this.Ou=this.az.value=a;this.dispatchEvent(new Gw(a))}};q.mU=function(a,b){var c=this.qma+(a||""),d=this.Ae.location;if(c!=d.href)if(b)d.replace(c);else d.href=c};
q.Cv=function(a,b,c){if(this.Lga||a!=this.HO()){this.Lga=l;a=Ma(a);if(H){var d=sm(this.Hb);d.open("text/html",b?"replace":undefined);d.write(Aa("<title>%s</title><body>%s</body>",Ta(c||this.Ae.document.title),a));d.close()}else{var f=this.TF+"#"+a,g=this.Hb.contentWindow;if(g)if(b)g.location.replace(f);else g.location.href=f}}};
q.HO=function(){if(H){var a=sm(this.Hb);return a.body?Na(a.body.innerHTML):k}else{var b=this.Hb.contentWindow;if(b){var c;try{c=Na(this.$E(b))}catch(d){this.RG||this.jea(j);return k}this.RG&&this.jea(l);return c||k}else return k}};q.zp=function(){if(this.js){var a=this.$E(this.Ae);a!=this.Ou&&this.aW(a)}if(!this.js||H&&!Dw){var b=this.HO()||"";if(this.Ru==k||b==this.Ru){this.Ru=k;b!=this.Ou&&this.aW(b)}}};
q.aW=function(a){this.Ou=this.az.value=a;if(this.js){H&&!Dw&&this.Cv(a);this.mU(a)}else this.Cv(a);this.dispatchEvent(new Gw(this.of()))};q.jea=function(a){if(this.RG!=a)this.Ld.setInterval(a?1E4:150);this.RG=a};q.EHa=function(){this.Ld.stop();this.Ld.start()};var Fw=["mousedown","keydown","mousemove"],Cw=0,Gw=function(a){bi.call(this,"navigate");this.token=a};B(Gw,bi);var Hw=function(a,b){this.ib=new Ed(a);this.Zma=b?b:"callback";this.zh=5E3},Iw=0;Hw.prototype.MNa=function(a){this.zh=a};
Hw.prototype.send=function(a,b,c,d){if(!document.documentElement.firstChild){c&&c(a);return k}var f=d||"_"+(Iw++).toString(36)+xa().toString(36);ba._callbacks_||(ba._callbacks_={});var g=document.createElement("script"),h=k;if(this.zh>0){var i=Jw(f,g,a,c);h=ba.setTimeout(i,this.zh)}var m=this.ib.ua(),n=a,o=m;for(var p in n)if(!n.hasOwnProperty||n.hasOwnProperty(p))o.zI(p,n[p]);if(b){var r=Kw(f,g,b,h);ba._callbacks_[f]=r;m.zI(this.Zma,"_callbacks_."+f)}Vl(g,{type:"text/javascript",id:f,charset:"UTF-8",
src:m.toString()});var t=document.getElementsByTagName("head")[0];t.appendChild(g);return{Ia:f,zh:h}};Hw.prototype.ce=function(a){if(a&&a.Ia){var b=Pl(a.Ia);if(b&&b.tagName=="SCRIPT"&&typeof ba._callbacks_[a.Ia]=="function"){a.zh&&ba.clearTimeout(a.zh);Lw(a.Ia,b,l)}}};
var Jw=function(a,b,c,d){return function(){Lw(a,b,l);d&&d(c)}},Kw=function(a,b,c,d){return function(){ba.clearTimeout(d);Lw(a,b,j);c.apply(undefined,arguments)}},Lw=function(a,b,c){ba.setTimeout(function(){Z(b)},0);if(ba._callbacks_[a])if(c)delete ba._callbacks_[a];else ba._callbacks_[a]=da};var Pw=function(){this.wfa=j;var a=Mw(Uf().p()),b={entity:{url:a,groups:["public"]},backgroundColor:"ffffff",descriptionNodeId:"knol-zipit-user-desc"};Nw("NumRatings","knol-zipit-count",b);Nw("RatingEditor","knol-zipit-user",b);jg()&&Ow("knol-zipit-user")};F(Pw,so);u("knol.ui.client.Zipit",Pw,void 0);
var Qw="http://knol.google.com/k/-/-/",Rw=l,Mw=function(a){if(!Rw&&Se("experimentId")!="prod")Qw="http://"+window.location.host+"/k/-/-/";Rw=j;return Qw+a.replace(".","/")},Sw=new Zh,Tw=function(){V(window,"load",function(){if(!(typeof google=="undefined"||typeof google.annotations=="undefined")){google.annotations.setApplicationId(31);google.annotations.setInlineMode(j);Sw.Ea()}})};Pw.initialize=Tw;
var Uw=l,Nw=function(){var a=arguments;Sw.k(function(){google.annotations.create.apply(google.annotations,a);if(!Uw){Uw=j;ba.setTimeout(function(){Uw=l;google.annotations.fetch()},0)}})};Pw.prototype.refresh=function(){google.annotations.fetch()};Pw.prototype.e=function(){return Y("knol-zipit-container")};
var Ow=function(a){var b=Y(a),c=b&&b.firstChild,d=c&&c.lastChild;if(d){if(d.tagName=="IMG"&&d.className=="zzRightEdge"){var f=c.firstChild;c.appendChild(f.nextSibling);c.appendChild(f);c.insertBefore(d,c.firstChild)}}else{var g=Vw[a]||0;if(++g<=10){ba.setTimeout(A(Ow,k,a),500);Vw[a]=g}}},Vw={},Ww=function(){var a=Uf(),b=Vf(),c=Mw(a.p()),d={entity:{url:c,groups:["public"]},backgroundColor:"ffffff",textColor:"54494C"};Nw("NumUsersFoundThisHelpful","knol-review-zipit-ratings",d);rk(function(){var f=
a.dna(b);if(f){var g=Y("knol-review-zipit-user-msg");g.style.display="block";Nw("VotingEditor","knol-review-zipit-user",d)}},A(tt,k,"review zipit"))};F(Ww,vo);u("knol.ui.client.ReviewZipit",Ww,void 0);Ww.prototype.refresh=function(){google.annotations.fetch()};Ww.prototype.e=function(){return Y("knol-review-zipit-container")};var Xw=function(){},Yw=function(a,b,c){if(a&&b){var d=G(Xw);d.Nma(a,b,c||"")}};u("knol.ui.client.ZipitDisplay.initContainer",Yw,void 0);
Xw.prototype.Nma=function(a,b,c){var d=Y(a);if(d){var f=new gu(d);Vb(f,function(g){var h=g.id,i=a+"-zipit-display-";if(h&&ya(h,i)){var m=h.substring(i.length).split("-zipit-separator-");if(m.length==1){var n=Zw(m[0]),o=Mw(n),p={entity:{url:o,groups:["public"]},backgroundColor:c,width:"70",height:"10"},r=uo(h),t=Y(r);t&&X.add(t,"knol-zipit-widget-created")&&Nw("NumRatings",r,p)}else if(m.length==2){var v=Zw(m[0]),w=Zw(m[1]);o=Mw(v);var x=w;p={entity:{url:o,groups:["public"],author:x},backgroundColor:c,
width:"70",height:"10"};Nw("RatingDisplay",h,p)}}})}};var Zw=function(a){if(!a)return a;var b=a.indexOf("-zipit-disambiguator-");if(b>=0)return a.substring(0,b);return a};Xw.prototype.refresh=function(){google.annotations.fetch()};var $w=function(){this.kha={};this.gI=ya(window.location.href,"http://knol.google.com/")?this.xLa:this.yLa};q=$w.prototype;q.xLa=function(a,b,c,d){var f=["req="+Ma(yd(b))];c!=k&&f.unshift("token="+c);jj(a,this.lSa(d),"POST",f.join("&"))};q.yLa=function(a,b,c,d){var f={req:yd(b)};if(c!=k)f.token=c;var g=new Hw(a);g.send(f,d)};q.w$=function(a,b,c){var d=this;return function(f){a.call(d,f,b,c)}};q.lSa=function(a){return function(b){b.target.yk()&&a(b.target.nk())}};
q.lookup=function(a,b,c){for(var d=[],f=0;f<a.length;f++){var g={},h=Mw(a[f]);this.kha[h]=a[f];g.url=h;g.groups=["public"];g.includeAggregateInfo=j;d.push(g)}var i={};i.applicationId=31;i.entities=d;this.gI("http://knol.google.com/reviews/json/lookup",i,k,this.w$(this.aQ,b,c))};
q.aQ=function(a,b,c){this.$ca(a);var d=a&&a.annotations;if(d)for(var f=0;f<d.length;f++){var g=d[f].entity,h=g&&g.url,i=h&&this.kha[h],m=d[f].aggregateInfo;if(i&&m){var n=d[f].starRating||0,o=m&&m.starRatings,p=[0,0,0,0,0,0];if(o)for(var r=0;r<o.length;r++){var t=o[r].rating,v=o[r].count;if(t!=undefined&&v!=undefined)p[t]=v}b.call(c,i,n,p)}}};q.$ca=function(a){var b=a&&a.channelHeader,c=b&&b.token;if(c)this.vf=c};
q.NIa=function(a,b,c,d){if(this.vf){var f={};f.url=Mw(a);f.groups=["public"];var g={};g.entity=f;g.starRating=b;var h={};h.applicationId=31;h.annotations=[g];this.gI("http://knol.google.com/reviews/json/write",h,this.vf,this.w$(this.YAa,c,d))}};q.YAa=function(a,b,c){this.$ca(a);b.call(c)};var ax=function(){this.ff=new fq;this.ks={};this.ym={};this.OJ=new $w};ax.prototype.add=function(a){this.ym[a]||(this.ym[a]=new bx(this.OJ,a));if(!this.ks[a]){var b=new cx(this.ym[a],a);b.kJa(this.ff);this.ks[a]=b}};ax.prototype.bJa=function(){var a=[];for(var b in this.ks)this.ym[b].jBa()?this.ks[b].refresh():a.push(b);a.length&&this.OJ.lookup(a,this.aQ,this)};ax.prototype.pb=function(){this.ks={};this.ff.l();this.ff=new fq};
ax.prototype.aQ=function(a,b,c){if(this.ym[a]){this.ym[a].setData(b,c);this.ks[a]&&this.ks[a].refresh()}};var bx=function(a,b){this.OJ=a;this.Ia=b;this.ru=l};q=bx.prototype;q.setData=function(a,b){this.ru=j;this.WB=a;this.QF=b};q.jBa=function(){return this.ru};q.Ata=function(){return this.ru?this.QF[5]:0};q.nwa=function(){return this.ru?this.QF[1]:0};q.Zya=function(){if(this.ru)if(this.WB==5)return j;else if(this.WB==1)return l;return k};
q.tha=function(a,b,c){if(this.ru){var d=a?5:1;if(d!=this.WB){this.QF[this.WB]--;this.QF[d]++;this.WB=d;this.OJ.NIa(this.Ia,d,b,c)}}};var cx=function(a,b){this.xm=a;this.Ia=b};cx.prototype.kJa=function(a){var b=Y("knol-comment-aye-"+this.Ia);b&&a.g(b,"click",this.qza,l,this);var c=Y("knol-comment-nay-"+this.Ia);c&&a.g(c,"click",this.uAa,l,this)};
cx.prototype.refresh=function(){var a=this.xm.Ata()-this.xm.nwa(),b=Y("knol-comment-votes-num-"+this.Ia);if(b){b.innerHTML=(a>0?"+":"")+String(a);b.className=a>0?"knol-comment-votes-positive":a<0?"knol-comment-votes-negative":"knol-comment-votes-zero"}var c=this.xm.Zya(),d="knol-comment-voted",f=Y("knol-comment-aye-"+this.Ia);if(f)c==j?X.add(f,d):X.remove(f,d);var g=Y("knol-comment-nay-"+this.Ia);if(g)c==l?X.add(g,d):X.remove(g,d)};cx.prototype.qza=function(a){this.xm.tha(j,this.refresh,this);a.preventDefault()};
cx.prototype.uAa=function(a){this.xm.tha(l,this.refresh,this);a.preventDefault()};var dx=function(a){var b=sj(Rf(),"getFreshProperties",[a]);b.k(function(c){Q().Rb(c)});b.v(function(c){tt(k,c)});return b},ex=function(a,b){var c=Rf(),d=Vf(),f=new tk(hk(c),"isBlocked");f.ma([d],function(g){g&&a.call(b)},function(){st()},j)};var fx=function(a,b,c,d,f,g){this.V=new fq(this);this.ei=a;this.Dk=b;this.Pj=c;this.Lha=d;this.e_=f;this.Qma=g;this.yL();if(g){var h=ca(c).prototype,i=0,m=h.mi,n=h.gF(i,m);this.er(n,j)}};F(fx,Oi);var gx={},hx=function(a,b,c,d,f,g){if(!gx[a]){if(!b||!c)return k;gx[a]=new fx(a,b||"",c||"",d||"",f||"",g||l)}return gx[a]},ix=function(a,b,c,d,f,g){var h=hx(a,b,c,d,f,g=="true");h.pea();Yw(h.ei,h.Lha,h.e_);h.Lb()};u("knol.ui.client.NodeList.initPage",ix,void 0);q=fx.prototype;
q.pea=function(a){this.kA=a||[];var b=Y(this.ei),c=Y("knol-nodelist-page-key-"+this.ei),d=k;if(b&&c)for(var f=c.getElementsByTagName("span"),g=0;g<f.length;g++){var h=f[g].className;if(ya(h,"knol-nodelist-page-key-")){var i=h.substring(23);if(!Bb(this.kA,i)){this.kA.push(i);if(!this.Pg[i]){d||(d=um(b));this.Pg[i]=d}}}}};
q.Lb=function(){var a=Y(this.ei);if(a){for(var b=a.getElementsByTagName("a"),c=0;c<b.length;c++){var d=b[c].className;if(ya(d,"knol-nodelist-pagination-")){var f=A(this.er,this,d.substring(25),l);this.V.g(b[c],"click",f)}}this.dispatchEvent("listen")}};q.Zc=function(){this.dispatchEvent("unlisten");this.V.pb()};
q.er=function(a,b){var c=new Zh;if(Bb(this.kA,a)){c.Ea();return c}if(this.Pg[a])c.Ea();else{c=W("knol.ui.NodeList.getPage",[this.Dk,this.Pj,a,Sf()],this.Qma);c.k(function(d){this.dispatchEvent("load");this.Pg[a]=d},this)}c.k(function(){var d=this.Pg[a];if(d){var f=document.createElement("div");f.innerHTML=d;var g=Y(this.ei),h=g.parentNode,i=g.nextSibling;this.Zc();h.removeChild(g);h.insertBefore(f.firstChild,i);this.pea([a]);Yw(this.ei,this.Lha,this.e_);this.Lb();b||this.kLa()}},this);c.v(function(d){st("Error encountered while fetching node list",
k,d)});return c};q.Lwa=function(){return this.kA};q.yL=function(){this.kA=[];this.Pg={}};q.kLa=function(){wu(Y(this.ei))};q.cya=function(){return this.Dwa("knol-nodelist-start-")};q.H_=function(a){this.I_("knol-nodelist-items-",a);this.I_("knol-nodelist-total-",a)};q.Dwa=function(a){var b=Y(a+this.ei);return b&&parseInt(b.innerHTML,10)};q.I_=function(a,b){var c=Y(a+this.ei);if(c)c.innerHTML=String(Math.max(0,parseInt(c.innerHTML,10)+b))};var jx=function(a,b,c){rk(A(this.NOa,this,a,b,c))};F(jx,go);u("knol.ui.client.DiscussionView",jx,void 0);jx.prototype.NOa=function(a,b,c){var d=a||Q();go.call(this,d,b,c);if(this.Ma=this.Ln()){this.V=new fq(this);this.xaa=new fq(this);this.Pq={};this.ym=new ax;if(!(this instanceof kx))this.FYa=new kx(d,"knol-comment-pending-list",A(this.kw,this))}};var lx=function(){return D("knol.ui.client.DiscussionView")};q=jx.prototype;
q.kw=function(){var a=hx(this.Ob());if(a){this.xaa.g(a,"listen",this.mCa);this.xaa.g(a,"unlisten",this.OH)}this.el()};q.Ina=function(){var a=hx(this.Ob());a&&a.yL()};q.OH=function(){this.V.pb();this.ym.pb()};q.mCa=function(a){this.el();var b=a.target.Lwa()[0];if(b){var c=Ou();if(!c||c=="view"||c=="comments"||ya(c,"view-comment-")||ya(c,"comment-")){var d=this.N_(b),f=d?"comment-"+d:"view-comment-"+b;if(c!=f||d){this.SS=f;Pu(f)}}}};
q.el=function(){var a=Q(),b=Wf(),c=k;if(b){mx(j);c=b.ij()}else{mx(l);Y("knol-comment-new-sign-in").style.display=""}this.V.g(Y("knol-comment-new-show"),"click",A(xu,k,"knol-comment-new",k,"knol-comment-new-show"));var d=Y("knol-comment-new-submit");this.V.g(d,"click",A(this.PL,this,Rf(),l,"knol-comment-new-text","knol-comment-new-title"));if(b&&c){var f="Submit comment to this knol as "+c,g="Submit comment to this collection as "+c,h=a&&a.Ca();d.innerHTML=h?g:f}var i=Y("knol-comment-new-title"),m=
Y("knol-comment-new-text");this.IR([i,m],d);this.lCa(m);this.xha(m);var n=Y("comments");this.jSa(n,c);this.kSa(n);this.iSa(n);this.gSa(n);this.gra(n);this.hSa(n)};q.lCa=function(a){if(!s(this.Kz))this.Kz=a.className=="knol-comment-lorem-ipsum"?a.value:k};q.xha=function(a){if(a&&this.Kz){this.V.g(a,"focus",function(){if(a.className=="knol-comment-lorem-ipsum"){a.className="";a.value=""}});this.V.g(a,"blur",function(){if(!a.value){a.className="knol-comment-lorem-ipsum";a.value=this.Kz}})}};
q.jSa=function(a,b){for(var c=Rl("a","knol-comment-my-reply-submit",a),d=0;d<c.length;d++){var f=c[d],g=f.id.replace("knol-comment-reply-link-","");if(b!=k){var h="knol-comment-reply-"+g;this.V.g(f,"click",A(this.PL,this,g,j,h));var i=Y("knol-comment-reply-"+g);this.IR([i],f);this.xha(i);var m="Post reply to this comment as "+b;f.innerHTML=m}else{Z(c[d].parentNode);var n=Y("knol-comment-reply-sign-in-"+g);if(n)n.style.display=""}}};
q.kSa=function(a){for(var b=Rl("a","knol-comment-replies-toggle",a),c=0;c<b.length;c++){var d=b[c],f=k,g=k,h=k;if(d.className.indexOf("knol-comment-replies-hide-toggle")!=-1){g=d.id.replace("knol-comment-replies-hide-toggle","");f=d.id.replace("knol-comment-replies-hide-toggle","knol-comment-replies-show-toggle");h=yu}else{g=d.id.replace("knol-comment-replies-show-toggle","");f=d.id.replace("knol-comment-replies-show-toggle","knol-comment-replies-hide-toggle");h=this.W2}var i="knol-comment-replies-"+
g;this.V.g(d,"click",A(h,this,i,f,d.id))}};
q.iSa=function(a){var b=Rl("a","knol-comment-remove-link",a);C(b,function(c){var d=X.z(c),f=[],g=l;C(d,function(v){v.indexOf("knol-comment-authorid-")==0&&f.push(v.replace("knol-comment-authorid-",""));if(v.indexOf("knol-comment-too-many-replies-")==0)g=j});var h=Wf(),i=Vf(),m=c.id.replace("knol-comment-remove-link-",""),n=Y("knol-comment-edit-link-"+m),o=Y("knol-comment-save-link-"+m),p=Y("knol-comment-cancel-link-"+m);if(h&&(h.kg()||f[0]==i)){n.style.display="";this.V.g(n,"click",A(this.Tqa,this,
m));this.V.g(o,"click",A(this.kRa,this,m));this.V.g(p,"click",A(this.yKa,this,m));var r=Y("knol-comment-text-editor-"+m);this.IR([r],o)}else{Z(n);Z(o);Z(p)}if(h&&(h.Fb()||!g&&f.length==1&&f[0]==i)){c.style.display="";this.V.g(c,"click",A(vt,k,"Delete Post","Are you sure you wish to delete this post?",A(this.nca,this,m,j),undefined,undefined));var t=Y("knol-comment-hide-link"+m);t&&Z(t)}else if(g)c.style.display="none";else Z(c)},this)};
q.gSa=function(a){var b=Q(),c=Wf(),d=b.ec(Vf())||c&&c.Fb(),f=Rl("span","knol-comment-action-link-span",a);C(f,function(h){var i=h.id.replace("knol-comment-action-link-span-",""),m=Y("knol-report-link-"+i),n=Y("knol-report-hide-link-"+i),o=Y("knol-report-send-link-"+i);m&&this.V.g(m,"click",A(this.vca,this,i));n&&this.V.g(n,"click",A(this.wca,this,i));o&&this.V.g(o,"click",A(this.zLa,this,i));var p=Y("knol-comment-hide-link"+i);if(p)if(d){p.style.display="";this.V.g(p,"click",A(vt,k,"Remove comment",
"Are you sure you wish to remove this item and its replies from your knol entry?",A(this.nca,this,i,l),"Remove comment","Cancel"))}else Z(p);var r=Y("knol-comment-block-link-"+i),t=Y("knol-abuse-block-div-"+i);if(r&&r.style.display!="")if(d){var v=W("knol.ui.DiscussionView.isBlockable",[i,Rf()]);v.k(function(x){if(x){var z=r.name.replace("knol-comment-block-name-","");if(r.style.display!=""){this.V.g(r,"click",A(this.pba,this,i,z));r.style.display=""}}else Z(r)},this);v.v(function(){tt()},this)}else Z(r);
else if(r){var w=r.name.replace("knol-comment-block-name-","");this.V.g(r,"click",A(this.pba,this,i,w));if(t)t.style.display=""}},this);var g=Rl("a","knol-comment-approve-link",a);C(g,function(h){var i=h.id.replace("knol-comment-approve-link-","");if(d){this.V.g(h,"click",A(this.Nla,this,i));h.style.display=""}},this)};q.gra=function(a){var b=G(Fv).Js(),c=Rl("a","knol-comment-invite-link",a);C(c,function(d){if(b)d.style.display="";else Z(d)})};
q.hSa=function(a){var b=Rl("span","knol-comment-rating",a),c=this.ym;C(b,function(d){var f=d.id;if(ya(f,"knol-comment-rating-")){f=f.replace("knol-comment-rating-","");c.add(f)}});c.bJa()};
q.W2=function(a,b,c){var d=Y(a),f;if(d){f=new Zh;f.Ea()}else{var g=a.replace("knol-comment-replies-",""),h="knol-comment-action-spinner-"+g;if(!this.Wf(h,j))return;f=W("knol.ui.DiscussionView.createRepliesAsString",[g]);f.k(function(i){this.Wf(h,l);var m=cm("div");m.innerHTML=i;im(m.firstChild,Y("comment-"+g));m.firstChild&&this.ERa(g,m.firstChild);this.OH();this.el()},this);f.v(function(i){this.Wf(h,l);st("Error encountered while fetching replies",k,i)},this)}f.k(function(){xu(a,b,c)})};
q.ERa=function(a,b){var c=Y("comment-"+a);if(c){var d=X.z(b),f="knol-comment-too-many-replies-"+a;wm(c,function(g){if(X.mj(g,f)){X.remove(g,f);X.add.apply(X,[g].concat(d))}return l})}};q.uxa=function(a,b){if(b)return l;var c=O(a);if(c&&c instanceof T){var d=c;return d.Kn()&&!d.ec(Vf())&&!Wf().Fb()}return l};q.PL=function(a,b,c,d){var f=A(this.Hoa,this,a,b,c,d);f()};
q.Hoa=function(a,b,c,d){lx();var f=this.uxa(a,b),g=d?Y(d).value:k,h=this.e5(Y(c))||"";if(h||g){h=$e(h,5E3);g=$e(g,250);var i=b?"knol-comment-replies-spinner-"+a:"knol-comment-new-spinner";if(this.Wf(i,j)){var m=this,n=function(w){if(f)window.location.reload();else{var x=hx(m.Ob());if(x&&x.cya()!=1){x.yL();Bi(x,"load",r);x.er(m.gF(m.aJ,m.mi))}else{var z="knol.ui.DiscussionView.createDiscussionItemFromId",E=W(z,[w.p()]);E.k(function(M){var J=Y(m.Ob()),U=p(M,J,J.firstChild);wu(U);x&&x.H_(1)});E.v(t)}}},
o=function(w){var x="knol.ui.DiscussionView.createReplyItemFromId",z=W(x,[w.p()]);z.k(function(E){var M=Y("knol-comment-replies-"+a),J=wm(M,function(U){return U.className&&U.className.indexOf("knol-comment-my-reply")!=-1});p(E,J.parentNode,J).style.display=""});z.v(t)},p=function(w,x,z){var E=cm("div");E.innerHTML=w;for(var M=E.firstChild;E.firstChild;)x.insertBefore(E.firstChild,z);m.OH();m.el();r();return M},r=function(){var w=Y(c);w.value="";Ji(w,"change",l,k);this.Kz&&Ji(w,"blur",l,k);if(d)Y(d).value=
"";b||yu("knol-comment-new","knol-comment-new-show");m.Wf(i,l)},t=function(){m.Wf(i,l);tt("There was an error in creating comments. This can be due to a temporary outage or the insufficient permission in making comments.")},v=new tk(hk(Vf()),"createDiscussion");v.ma([a,h,g,f],function(w){var x=O({Uf:w});b?o(x):n(x)},t)}}};q.e5=function(a){if(this.Kz&&a.className=="knol-comment-lorem-ipsum")return"";return a.value};
q.Tqa=function(a){var b=Y("knol-comment-text-"+a),c=Em(b),d=Y("knol-comment-text-editor-"+a);d.style.width=b.clientWidth-40+"px";d.style.height=b.clientHeight+40+"px";d.value=c;this.fU(a,j)};
q.vca=function(a){if(Wf()){var b=Y("knol-report-placeholder-"+a);if(b){this.OH();var c=b,d,f=l;d=(new co).wja(a,"knol-abuse-form","display: none",l,"",l,l,l,f);var g=d.w;c.innerHTML=g.call(d);b.parentNode.insertBefore(b.firstChild,b);b.parentNode.removeChild(b);this.el()}(new co).pPa(a);var h=Y("knol-report-link-"+a),i=Y("knol-report-hide-link-"+a);h.style.display="none";i.style.display="";wu(i)}else{var m=window.location.href,n=m.indexOf("#");if(n>=0)m=m.substring(0,n);m+="#report-comment-"+a;kf(m)}};
q.wca=function(a){(new co).GBa(a);var b=Y("knol-report-link-"+a),c=Y("knol-report-hide-link-"+a);b.style.display="";c.style.display="none"};
q.zLa=function(a){var b="knol-report-div-"+a,c=Y(b+"type_sexually_explicit"),d=Y(b+"type_hate_speech"),f=Y(b+"type_general_abuse"),g=Y(b+"type_impersonation"),h=Y(b+"type_spam"),i=Y(b+"type_other"),m=Y(b+"checkbox"),n=Y(b+"body"),o=Y(b+"typeerror");Y(b+"emailerror");Y(b+"quotaerror");o.style.display="none";var p="";if(c.checked)p=c.value;if(d.checked)p=d.value;if(g.checked)p=g.value;if(f.checked)p=f.value;if(h.checked)p=h.value;if(i.checked)p=i.value;var r=0;if(p==""){o.style.display="";r++}var t=
function(){alert("There was an error in sending your report.")};if(r==0){var v=W("knol.ui.AbuseReport.isAbuseReportQuotaReached",k);v.k(A(function(w){if(w)t();else{var x=W("knol.Discussion.reportAbuse",[a,Sf(),p,n.value,m?m.checked:l]);x.k(function(){alert("Thank you. Your report has been submitted.");this.wca(a)},this);x.v(t)}},this));v.v(t)}};
q.kRa=function(a){var b=Y("knol-comment-text-editor-"+a).value;if(b){var c="knol-comment-action-spinner-"+a;if(this.Wf(c,j)){lx();var d=Y("knol-comment-text-"+a),f=W("knol.ui.DiscussionView.updateId",[a,b]),g=this,h=function(m){if(d.innerHTML!=m){d.innerHTML=m;g.lRa(a)}g.fU(a,l);g.Wf(c,l)},i=function(){g.Wf(c,l);tt("Failed to update comment")};f.k(h);f.v(i)}}};q.yKa=function(a){this.fU(a,l)};
q.nca=function(a,b,c){lx();if(c.ea=="yes"){var d="knol-comment-action-spinner-"+a;if(this.Wf(d,j)){var f=this,g=function(m){f.Wf(d,l);tt("Failed to remove comment",m)},h=function(){sj(Rf(),"cleanUpDiscussions",[]);var m=["comment-"+a,"knol-comment-replies-"+a],n=0;C(m,function(p){var r=Y(p);if(r){var t=r.parentNode;t.removeChild(r);if(!t.firstChild){var v=t.parentNode;v.removeChild(t);v.id==f.Ob()&&n--}}});if(n){var o=hx(f.Ob());o&&o.H_(n)}f.Wf(d,l)};if(b){var i=new tk(hk(a),"removeNode");i.ma([],
h,g)}else{i=new tk(hk(a),"hideNode");i.ma([Rf()],h,g)}}}};q.pba=function(a,b){var c=A(Dt,k,"Block user",ao(b));vt("Block user",Xn(b),A(function(d){if(d.ea=="yes"){var f=new tk(hk(Vf()),"blockUserFromDiscussion");f.ma([a,Rf()],A(function(g){if(g){var h=sj(Rf(),"cleanUpDiscussions",[]);h.k(function(){this.lca()},this);h.v(c)}else c()},this),c)}},this))};
var mx=function(a){var b=a?"":"none",c=Vf(),d=Rf(),f=new tk(hk(d),"isBlocked"),g=function(i){if(i){var m=Y("knol-comments-not-permitted");m.style.display="";b="none";for(var n=Y("comments"),o=Rl("a","knol-comment-my-reply-submit",n),p=0;p<o.length;p++)o[p].parentNode.innerHTML="Sorry! This knol's owner(s) have blocked you from editing, making suggestions, or commenting here."}else{var r=Y("knol-comment-new");if(r)r.style.display=b}},h=function(){st()};f.ma([c],g,h,j)},nx=function(){var a=Y("knol-comment-new");
return!!a&&a.style.display!="none"};q=jx.prototype;q.pDa=function(a){return!!this.SS&&this.SS==a};q.Jna=function(){this.SS=k};
q.eJa=function(a){var b=k,c=k,d=k;if(a)if(ya(a,"view-comment-"))b=a.substring(13);else if(ya(a,"comment-"))b=this.P5(a.substring(8));else if(ya(a,"report-comment-")){d=a.substring(15);b=this.P5(d)}var f=function(){if(d){var i=Y("comment-"+g);if(i&&i.style.display=="none")i.style.display="";this.vca(d)}else this.IBa(a)};if(b){var g=this.N_(b);if(!g||!Y("comment-"+g)){var h=hx(this.Ob());if(h){c=h.er(b,j);c.k(f,this)}}else f.call(this)}return c};
q.IBa=function(a){if(ox(a,"comment")){var b=Y(a);if(b){var c=X.z(b);if(Bb(c,"knol-comment"))X.Ic(b,"knol-highlighted-comment",j);else if(Bb(c,"knol-comment-reply")){var d=Gm(Y(a),"DIV","knol-comment-replies"),f=Rl(Kl,"knol-comment-replies-toggle",lm(d.previousSibling,l));this.W2(d.id,f[1].id,f[0].id);X.Ic(b,"knol-highlighted-reply",j)}}}};
q.fU=function(a,b){for(var c=["knol-comment-text-",!b,"knol-comment-edit-wrapper-",b,"knol-comment-edit-link-",!b,"knol-comment-save-link-",b,"knol-comment-cancel-link-",b,"knol-comment-remove-link-",!b],d=0;d<c.length;d+=2){var f=Y(c[d]+a);if(f)f.style.display=c[d+1]?"":"none"}};
q.lRa=function(a){var b=Y("knol-comment-created-time-"+a);if(b)b.style.display="none";var c=Y("knol-comment-edited-time-"+a);c.style.display="";var d=Y("knol-comment-timestamp-"+a),f=sj(a,"getEditTime",[]);f.k(function(g){d.innerHTML=g})};q.IR=function(a,b){var c=["keyup","change"];C(a,function(d){d&&this.V.g(d,c,function(){var f=yb(a,function(g){return!this.e5(g).length},this);X.Ic(b,"knol-link-disabled",f)})},this)};
q.Wf=function(a,b){if(this.Pq[a]&&b)return l;if(!!this.Pq[a]!=b){this.Pq[a]=b;var c=Y(a);if(c)c.style.visibility=b?"inherit":"hidden";b||this.Ina()}return j};q.Nla=function(a){var b=sj(a,"approve",[]);b.k(this.lca,this)};q.lca=function(){var a=new Ed(Uf().ha());a.fa("nc",Ne());a.Jo("comments");window.location=a.toString()};var px=function(){};F(px,rs);Sd(px.prototype,fq.prototype);u("knol.ui.client.Toc",px,void 0);var qx=l,rx=0,sx=0,tx=[],ux=k,vx=k,wx=k,xx=k,yx=k,zx=k;px.prototype.dA=function(a,b,c,d){qx=a;rx=b;sx=c;tx=d;ux=Y("knol-toc-expand-handle");vx=Y("knol-toc-collapse-handle");wx=Y("knol-toc");xx=Y("knol-toc-list");yx=Y("knol-content-"+Sf());zx=Y("knol-content-body");Ax(rx>0);this.sI();Bx()};px.prototype.onLoadHandler=px.prototype.dA;
var Bx=function(){V(ux,"click",function(){var a=G(px).WO();if(-1!=a){var b=G(px).hO();if(-1==b)b=a;var c;if(qx){c=b;qx=l}else c=b+1;c=Math.min(c,a);tu(wx,tx[c]);G(px).sI()}});V(vx,"click",function(){var a=0,b=G(px).hO(),c=Math.max(b-1,a);qx=l;tu(wx,tx[c]);G(px).sI()})};q=px.prototype;
q.CRa=function(a){if(this.Ln()){var b=k;try{b=wd(a)}catch(c){D("knol.ui.client.Toc").S("could not parse jsonToc: "+a,c);b=ss}qx=b.truncated;rx=b.nItems;sx=b.dispLevel;tx=b.nonemptyLevels;if(wx)wx.className="knol-element-toggle-level-max-6 knol-element-toggle-level-"+sx;if(xx)xx.innerHTML=b.htmlCode;Ax(rx>0);this.ACa();this.sI()}};
q.ACa=function(){var a=xm(xx,function(g){return g.tagName=="A"}),b=rx;if(a.length<b)b=a.length;if(!(b<=0)){this.mca();var c=new gu(yx),d,f=0;Vb(c,function(g){if((d=g.tagName)&&d.match(/H[1-6]/)){if(!Da(Dm(g))){hm(cm("a",{name:a[f].hash.substring(1),"class":"knol-anchor-headings"},""),g);f++;if(f>=b)e(Sb)}c.Nv()}})}};q.mca=function(){var a=zx,b=xm(a,function(c){return c.className=="knol-anchor-headings"});C(b,function(c){Z(c)})};
q.sI=function(){var a=vx,b=ux,c=this.WO(),d=this.hO();if(c==-1||rx<10){$(a,l);$(b,l);var f=G(px).WO();if(f!=-1){qx=l;tu(wx,tx[f])}}else{d==0?$(a,l):$(a,j);d==c&&!qx?$(b,l):$(b,j)}};q.WO=function(){for(var a=ru(wx),b=tx.length-1;b>=0&&tx[b]>a;)b--;return b};q.hO=function(){var a=uu("knol-toc");return sb(tx,a)};var Ax=function(a){wx&&$(wx,a&&rx>0)};var Cx=function(){},Dx,Ex,Fx;F(Cx,Fr);
var Gx=l,Hx=function(){Gx=l},Kx=function(a){var b=G(Lp),c=new Zh;if(b.ih()||!Ix(a))c.Ea();else{c=W("knol.ui.Toc.getUpdatedToc",[Sf(),0]);c.k(function(d){G(px).CRa(d)});c.v(function(d){Jx(k,d)})}return c},Lx=function(a,b,c){D("knol.ui.client.Knol");var d=b-a+1,f="Integrated latest content from "+(d+" other version(s) saved by other author(s). "),g=K({b:"a",href:Uf().ha()+"#revisions",target:"versions",d:"View versions."}),h=f+g.w();if(c){Nt();Mt(h)}else{Pt();Ot(h)}},Nx=function(){var a=Q(),b=Wf();
if(b&&a.ek(b,2)==4){var c=G(Lp).Ne(),d="Rollback to version "+c,f=Y("knol-old-version-header");if(f){var g=am("a",{"class":"knol-fake-link",id:"knol-old-version-header-link"},d);f.appendChild(g);Mx(c)}}};u("knol.ui.client.Knol.renderRevertLink",Nx,void 0);
var Mx=function(a){var b="Rollback to version "+a,c="Rolling back to version "+(a+" will edit the knol to include only the exact the contents of that version. That will effectively undo all changes made after it.<br /><br />Are you sure you want to rollback?"),d="Rolling back to version "+(a+" will edit the collection to include only the exact the contents and knols of that version. That will effectively undo all changes made after it.<br /><br />Are you sure you want to rollback?"),f=Y("knol-old-version-header-link");
if(f){var g=Q(),h=g&&g.Ca();Bi(f,"click",function(){Dx=vt("Version Rollback",h?d:c,Ox,b,"Cancel")})}},Ox=function(a){var b=G(Lp).Ne();if(a.ea!="yes")Mx(b);else{var c=sj(Rf(),"revertToContentVersion",[b]);c.k(function(d){Dx&&Dx.l();if(d==8)Jx("There is no difference between the latest version and this version");else if(!d||la(d))Jx("Could not rollback to this version");else if(na(d)){var f=new Po;f.T(d);if(f.JF())f.j5()==9?Jx("You cannot rollback a moderated collection to a previous version that included a knol that does not belong to you. Please ask an author of the knol to add it back to this moderated collection."):
Jx("Could not rollback to this version");else{iv={};var g=Y("knol-old-version-header-link"),h="Knol edited to contain contents of version: "+(b+"."),i="Collection edited to contain contents of version: "+(b+"."),m=am("a",{href:"#revisions"},"Versions"),n=Q(),o=n&&n.Ca(),p=am("span",{id:"knol-old-version-header-link"},(o?i:h)+" View: ",m);jm(p,g)}}});c.v(function(d){Dx&&Dx.l();Jx(k,d)})}},Px=function(){var a="Start writing here.";return'<br /><span class="knol-starter-text">'+a+"</span><br /><br />"},
Jx=function(a,b){st(a||"Unexpected error",k,b)},Qx=function(a){var b=Y("knol-content-"+Sf());Du(b);b.innerHTML=a},Rx=function(a){var b=Sf(),c=["knol-old-version-header","knol-content-wrapper-"+b,"references",Ar.uK,"knol-adsense-long-code","knol-review-details","knol-collection-navigation","knol-collection-navigationfooter"];C(c,function(d){var f=Y(d);if(f)f.style.display=a?"":"none"})},bv=function(a){D("knol.ui.client.Knol");for(var b=Y("knol-article-top"),c=b.firstChild;c;c=c.nextSibling)if(c.style&&
c.id!="knol-title-message"&&c.id!="knol-author-heading")c.style.display=a?"":"none";var d=Y("knol-title-message");if(d)d.style.display="none"},Sx=function(){var a=Y("knol-content-wrapper-"+Sf());return a.style.display!="none"};var Tx=function(){},Ux=function(){var a=Q();return!!a&&a.pG()},Vx=function(){var a=Y("knol-sub-collection-suggestions");return!!a&&a.style.display!="none"},Wx=function(){var a=G(Tx);return a.cv()};Tx.prototype.cv=function(){var a=W("knol.ui.SubCollectionSuggestions.getListHTML",[Rf()]);a.k(this.oRa,this);a.v(Xx);return a};var Xx=function(a){tt(k,a)};Tx.prototype.oRa=function(a){var b=Y("knol-sub-collection-suggestions-list");if(b)b.innerHTML=a};var Yx=function(a){this.j=new fq(this);this.Lm=k;this.vo=a||""},Zx=function(){var a=G(Yx);a.dc()};u("knol.ui.client.ChatLog.init",Zx,void 0);var $x=function(a){var b=Y(a||"knol-chatlog");if(b)b.style.display="none"};q=Yx.prototype;q.dc=function(){var a=Wf(),b=Q();if(a&&b){var c=new Ed(document.location.href);this.Lm=c.Pf("submissionId")||k;if(b.L7()||this.Lm)this.refresh()}};
q.refresh=function(a,b,c){var d=W("knol.ui.ChatLog.get",[a||Rf(),b||this.Lm,this.vo]);d.k(function(f){var g=f&&f[0],h=f&&f[1];if(y(h)&&g==1||g==2||g==3){var i=Y(c||"knol-chatlog");if(i){this.Zc();i.style.display="";i.innerHTML=h;this.Lb(a,c)}}},this)};
q.Lb=function(a,b){var c=Y(b||"knol-chatlog");if(c){for(var d=Tl(k,"knol-chatlog-submit",c),f=0;f<d.length;f++){var g=uf(d[f].id,"knol-chatlog-submit-"+this.vo);if(g)this.j.g(d[f],"click",A(this.u7,this,g,a||Rf()))}var h=Tl(k,"knol-chatlog-stub",c);for(f=0;f<h.length;f++)(g=uf(h[f].id,"knol-chatlog-stub-"+this.vo))&&this.j.g(h[f],"click",A(this.y7,this,g,j));var i=Tl(k,"knol-chatlog-collapse",c);for(f=0;f<i.length;f++)(g=uf(i[f].id,"knol-chatlog-hide-"+this.vo))&&this.j.g(i[f],"click",A(this.y7,this,
g,l))}};q.Zc=function(){this.j.pb()};q.u7=function(a,b,c,d){var f=Y("knol-chatlog-input-"+this.vo+a),g=Ja(f&&f.value||"");if(g){var h=W("knol.ui.ChatLog.submit",[b,a,g]);h.k(function(i){var m=i&&i[0],n=i&&i[1];if(y(n)&&m==1||m==2){var o=Y("knol-chatlog-item-"+this.vo+a);if(o){var p=document.createElement("div");p.innerHTML=n;o.insertBefore(p.firstChild,o.lastChild);f.value=""}}d&&d.call(k)},this);h.v(function(i){d?d.call(k):tt(k,i)})}else d&&d.call(k)};
q.y7=function(a,b,c){c.preventDefault();var d=Y("knol-chatlog-stub-"+this.vo+a);if(d)d.style.display=b?"none":"";var f=Y("knol-chatlog-item-"+this.vo+a);if(f)f.style.display=b?"":"none"};var ay=function(a,b,c,d,f){this.uL=new Yx("dialog");this.Pb=a;this.e0=b;this.cn=c;this.Sb=d||function(){};this.kna=f||function(){};this.dc();this.uL.Lm=this.e0;this.uL.refresh(this.Pb,this.Lm,"knol-chatlogdialog")};F(ay,pt);
ay.prototype.dc=function(){var a=K({b:"div",children:[{b:"div",c:"knol-chatlogdialog-desc",d:"Optional: Leave a private comment to explain your reasoning."},{b:"div",id:"knol-chatlogdialog"}]}),b=this.vl(),c="knol-dialog",d=A(this.gI,this);pt.call(this,this.cn?"Accept knol into the collection":"Reject knol from the collection",a.w(),k,c,d,b);this.H(j);var f=b.$g("ok");if(f){var g=f;if(H){g.style.overflow="visible";g.style.padding="0 5px"}}};
ay.prototype.vl=function(){var a=new Ls;this.ol=a;a.G("ok",this.cn?"Accept knol into the collection":"Reject knol from the collection",l);a.G("cancel","Cancel",l,j);return a};ay.prototype.gI=function(a){a.ea=="ok"?this.uL.u7(this.e0,this.Pb,a,this.Sb):this.kna.call(k)};var by=function(){this.Ok=nl();this.cH=new sg;this.j=new fq(this);this.Yq={};this.Yu=this.Jm=this.MG=0},cy=function(){var a=Q();return!!a&&a.fd()!=0},dy=function(){var a=Y("knol-submissions");return!!a&&a.style.display!="none"},ey=function(){var a=G(by);return a.cv(l)};by.prototype.cv=function(a){return this.Yba(a,0,50)};by.prototype.Yba=function(a,b,c){if(b>=this.Jm+this.Yu)b-=this.Yu-this.MG;var d=W("knol.ui.Submissions.getList",[Rf(),a,b,c]);d.k(A(this.rRa,this,b,c));d.v(fy);return d};
var fy=function(a){tt(k,a)};q=by.prototype;q.rRa=function(a,b,c){var d=c&&c[0],f=c&&c[1],g=c&&c[2];if(!ia(d)||!y(f)||!ia(g))fy();else{this.Jm=a;this.Yu=b;this.Ok=nl();this.Ok.T(d);this.cH=new sg;this.cH.T(g);this.Vga();var h=Y("knol-submissions-list");if(h){this.Zc();gm(h);this.jNa(h,f);this.Lb()}}};
q.Vga=function(){var a=this.Ok.Da(),b=Y("knol-submissions-list");if(b)b.style.display=a?"none":"";var c=Y("knol-menu-heading-extra-note");if(c)c.style.display=a?"none":"";var d=Y("knol-submissions-empty");if(d)d.style.display=a?"":"none"};
q.jNa=function(a,b){var c=document.createElement("div");c.innerHTML=b;var d=c.getElementsByTagName("ul")[0];if(d)for(var f=this.Ok.lf(),g=d.firstChild,h=0,i=g;i;i=g){g=i.nextSibling;i.nodeName&&i.nodeName.toLowerCase()=="li"&&this.Kja(f[this.Jm+h++],i,a)}this.MG=h;var m=Tl(k,"knol-search-pagination",c)[0];if(m){this.jKa(m);a.appendChild(m)}};
q.Kja=function(a,b,c){var d=this.f5(a),f=a.la(),g=f=="delete",h=new fq(this);this.Yq[d]=h;var i=am("div",{id:d,"class":"knol-submissions-item-cls"});c.appendChild(i);var m=this.Ota(a);i.appendChild(m);var n=this.xoa();m.appendChild(n);h.g(n,"click",A(this.vza,this,a));var o=am("div",{"class":"knol-submissions-wrapper"});i.appendChild(o);var p=am("div",{"class":"knol-submissions-left"});p.appendChild(this.zpa(b));p.appendChild(document.createTextNode(" | "));var r=this.Apa(a.va());p.appendChild(r);
h.g(r,"click",A(this.RQa,this,a));var t=am("div",{"class":"knol-submissions-right"}),v=this.uoa(g);t.appendChild(v);h.g(v,"click",A(this.Waa,this,j,a));t.appendChild(document.createTextNode(" | "));var w=this.jpa(g);t.appendChild(w);h.g(w,"click",A(this.Waa,this,l,a));t.appendChild(document.createTextNode(" | "));var x=this.lpa();t.appendChild(x);h.g(x,"click",A(this.DHa,this,a));var z="goog-inline-block knol-submissions-content knol-submissions-type-"+f,E=am("div",{"class":b.className+" "+z},b.childNodes);
o.appendChild(p);o.appendChild(t);o.appendChild(E);o.appendChild(am("div",{"class":"knol-clearer-div"}));var M=am("div",{"class":"knol-submissions-view-review-list",style:"display: none",id:"knol-submissions-view-review-list"+a.va()});o.appendChild(M);i.appendChild(am("div",{"class":"knol-clearer-div"}))};
q.Ota=function(a){var b=a.la(),c=a.hj(),d=a.Pn(),f=this.cH.z(a.Wh())||["????",""],g='<a href="'+Ta(f[1])+'" target="_blank">'+f[0]+"</a>",h=am("div",{"class":"knol-submissions-description"}),i="";if(b=="add")if(la(c)){var m="Added to position "+(String(c)+(" by "+(g+":")));i=m}else{var n="Added by "+g;i=n}else if(b=="delete"){var o="Removed by "+g;i=o}else if(b=="edit")if(ia(d))if(d){var p="Hide item by "+g;i=p}else if(la(c)){var r="Show item in position "+(String(c)+(" by "+g));i=r}else{var t="Show item by "+
g;i=t}else if(la(c)){var v="Moved to position "+(String(c)+(" by "+g));i=v}h.innerHTML=i;return h};q.zpa=function(a){var b=Tl("a","knol-search-knol-title",a)[0],c=b&&b.href||"";return am("a",{href:c,target:"_blank","class":"knol-submissions-link"},"View")};q.uoa=function(a){var b="";b=a?"Remove":"Accept";return am("a",{href:Hm,"class":"knol-submissions-link"},b)};q.lpa=function(){return am("a",{href:Hm,"class":"knol-submissions-link"},"Request review")};
q.Apa=function(a){return am("a",{href:Hm,"class":"knol-submissions-link",id:"knol-submissions-view-review-"+a},"View reviews")};q.jpa=function(a){var b="";b=a?"Keep":"Decline";return am("a",{href:Hm,"class":"knol-submissions-link"},b)};q.xoa=function(){return am("a",{href:Hm,"class":"knol-less-important-small-link"},"Block this user")};
q.jKa=function(a){for(var b=Tl("a",k,a),c=0;c<b.length;c++){var d=(b[c].className||"").split("_");if(d.length>=3&&d[0]=="knol-search-knol-pagination"){b[c].href=Hm;this.j.g(b[c],"click",A(this.Yba,this,l,Number(d[1]),Number(d[2])))}}};q.Lb=function(){};q.Zc=function(){this.j.pb();for(var a in this.Yq){this.Yq[a]&&this.Yq[a].l();delete this.Yq[a]}};q.DHa=function(a){var b=a.va(),c=Wf(),d=Uf();rk(A(function(){var f=O(b),g=new Ju(c,f,d,A(this.eQa,this,f.ge()),function(){});g.hb()},this))};
q.RQa=function(a){var b=a.va(),c=Y("knol-submissions-view-review-list"+b);if(c)if(c.style.display!="none")c.style.display="none";else{var d=W("knol.ui.CollectionSubmissionReviews.get",[b,Rf()]);d.k(function(f){c.innerHTML=f?f:"There are no reviews for this knol.";c.style.display=""})}};
q.eQa=function(a,b,c,d,f,g){Bv();var h=A(tt,k,"request collection review");Pt();Ot("Sending message...");var i=sj(Vf(),"requestCollectionReview",[a,Rf(),b,g,c,d,f]);i.k(function(m){Pt();m||Ot("Failed to send message. Please try again later.")});i.v(h)};q.Waa=function(a,b,c){c.preventDefault();var d=b.va();if(d){var f=A(this.OP,this,a,b),g=b.Wh();b.la()!="add"||!g?f.call(this):rk(A(function(){var h=O(d);h||f.call(this);var i=h.Ja();if(i.ec(g))new ay(i.p(),Rf(),a,f,k);else f.call(this)},this))}};
q.OP=function(a,b,c){c&&c.preventDefault();var d=W("knol.ui.Submissions.review",[Rf(),a,b.serialize()]);d.k(function(f){var g,h="";if(f instanceof Array&&f.length==2){g=f[0];h=f[1]}else g=f instanceof Array?1:f;this.vf=h;if(g==-1){this.NH(b,j);a&&this.zRa();var i="";if(a)if(b.la()=="add")i="The submission is now a part of the collection.";else if(b.la()=="delete")i="The item has been removed from the collection.";else{if(b.la()=="edit")i="The item has changed position in the collection."}else if(b.la()==
"add")i="The submission has been rejected.";else if(b.la()=="delete")i="The removal request has been rejected.";else if(b.la()=="edit")i="The move request has been rejected.";var m=K({b:"a",href:Hm,d:"Undo",id:"knol-suggestion-undo"});Pt();if(h)i+=" "+m.w();Ot(i);var n=Y("knol-suggestion-undo");n&&this.j.g(n,"click",A(this.eRa,this,h))}else{i="An error has occurred.  Please reload the page and try again.";if(g==2)i="You don't have permission to review this submission.  Please reload the page and sign in again.";
else if(g==3){i="This submission no longer exists.  It may already be reviewed by another moderator or reverted by the submitter.";this.NH(b,l)}else if(g==4){i="The collection has been changed and this submission no longer applies.";this.NH(b,j)}else if(g==5){i="This submission was automatically discarded because it has been accepted into another moderated collection.";this.NH(b,j)}st(i)}},this);d.v(fy)};
q.NH=function(a,b){for(var c=this.Ok.lf(),d=[],f=0;f<c.length;f++){var g=c[f]==a;if(b)g=c[f].va()==a.va()&&c[f].la()==a.la();if(g){var h=this.f5(c[f]),i=this.Yq[h];if(i){i.l();delete this.Yq[h]}Z(Y(h));this.MG--}else d.push(c[f])}this.Ok.tI(d);!this.MG&&!this.Ok.Da()?this.cv(l):this.Vga()};q.f5=function(a){return"knol-submissions-item-"+a.Wh()+"-"+a.la()+"-"+a.va()};
q.vza=function(a,b){b.preventDefault();var c=a.Wh(),d=this.cH.z(c)[0],f="You are going to decline all submissions from "+(d+" and block this user. <br><br>");vt("Block user",f+Xn(d),A(function(g){g.ea=="yes"&&this.zma(c,d)},this))};q.zma=function(a,b){var c=new tk(hk(Vf()),"blockUser");c.ma([a,l,Rf()],A(function(d){if(d){Dt("Block user",Yn(b));this.cv(j)}else Dt("Block user",ao(b))},this),function(){Dt("Block user",ao(b))})};q.zRa=function(){var a=Uf();a[Xh.cK]=xa();G(gy).t7()};
q.eRa=function(a){var b=W("knol.ui.Submissions.undo",[Rf(),a]);b.k(A(function(c){Pt();var d="Undo suceeded";c||(d="Undo failed");Ot(d);this.cv(j)},this));b.v(fy)};var Fv=function(){this.DD=""},hy,iy;u("knol.ui.client.KnolMenu",Fv,void 0);
var jy=function(){if(!hy){var a=Y("knol-navigation-state-input");if(!a){a=am("input",{type:"text",id:"knol-navigation-state-input",name:"knol-navigation-state-input",style:"display: none"});document.body.appendChild(a)}var b=Y("knol-navigation-state-iframe");if(!b&&H){b=am("iframe",{id:"knol-navigation-state-iframe",src:"",style:"display: none"});document.body.appendChild(b)}hy=new Ew(l,undefined,a,b);hy.U(j);H&&!Dw&&hy.Jaa()}return hy},vy=function(a){D("knol.ui.client.KnolMenu");var b,c=new Zh,d=
G(Fv),f=Sx(),g=Av(),h=nx(),i;i=wx?nq(wx,"display")!="none":l;var m={content:f,history:g,vM:h,xga:i,kS:G(Wt).Vb()?ky()||ly():l,G$:G(Sv).Vb()?my():l,rl:ny(),IM:oy(),dga:dy(),aga:Vx()},n=G(Wt),o=k;py(a);if(n.Vb())var p=G(Xt);if(ox(a,"edit"))if(d.Is())if(Wf())if(p)if(o=G(qy).bRa(a)){a=o;b=l}else(function(){Pt();ry({content:j,vM:j,kS:d.pl(),rl:j,IM:d.pl()},a);if(Sx())if(p.je()){p.refresh();b=j}else if(iy)b=j;else{iy=j;var x=function(){iy=l;p.Sqa()},z=function(){iy=l;Pu("view")};if(d.Tp()){c=G(sy).iya(j);
c.k(function(E){if(E)x();else{Gx=j;var M=ty(j,l,l,j);M.k(x);M.v(z)}})}else{uy();Gx=j;c=ty(j,l,l,j);c.k(x)}c.v(z)}else{b=j;ba.setTimeout(function(){Fv.rS(a)},50)}})();else{n.load(A(vy,k,a));b=j}else{kf(document.location.href);b=j}else b=l;else if(Ix(a)){var r=G(jx);if(r.pDa(a))r.Jna();else if(wy(p,a,j)){var t=ia(Wf());ry({content:j,vM:t,xga:j,rl:j,IM:d.pl()},a);var v=r.eJa(a);if(v)c=v;else b=j}else b=l}else if(ox(a,"revisions")&&!Uf().R3())if(wy(p,a)){ry({history:j},a);c=lv(a)}else b=l;else if(ox(a,
"manage")&&d.Js()){var w=G(Sv);if(w.Vb())if(wy(p,a)){ry({G$:j},a);c=xy(a)}else b=l;else{w.load(A(vy,k,a));b=j}}else if(ox(a,"submissions")&&d.pl()&&cy())if(wy(p,a)){ry({dga:j},a);c=ey(a)}else b=l;else if(ox(a,"subsuggestions")&&d.pl()&&Ux())if(wy(p,a)){ry({aga:j},a);c=Wx(a)}else b=l;c.v(function(){ry(m,a)});if(b==j)c.Ea();else b==l&&c.Qa(new Error("did not complete navigation"));return c},wy=function(a,b,c){if(!a||a.B_(b)){Nt();c||Pt();return j}else return l},py=function(a){dy()&&!ox(a,"submissions")&&
Pt()},ry=function(a,b){Rx(!!a.content,b);bv(!!a.content);Xu(!!a.history,b);cv(!!a.history,b);mx(!!a.vM,b);Ax(!!a.xga,b);if(G(Wt).Vb()){yy(!!a.kS,b);zy(!!a.kS,b)}G(Sv).Vb()&&Ay(!!a.G$,b);By(!!a.rl,b);var c=!!a.IM,d=b;G(Cy).H(c,d);var f=!!a.dga,g=Y("knol-submissions");if(g)g.style.display=f?"":"none";var h=!!a.aga,i=Y("knol-sub-collection-suggestions");if(i)i.style.display=h?"":"none"},Ix=function(a){return!a||ox(a,"view")||ya(a,"comment-")||ya(a,"report-comment-")},Ou=function(){return window.location.hash.substring(1)},
ox=function(a,b){return a.split("-")[0]==b},Pu=function(a){window.location.hash=a};q=Fv.prototype;q.lO=function(){return Q().ek(Wf(),2,G(Lp).Ne())};q.Is=function(){var a=this.lO();return a==4||a==3||a==6};q.Tp=function(){var a=this.lO();return a==3||a==6};q.$va=function(){return Q().ek(Wf(),10)};q.Js=function(){return this.$va()==4};q.cwa=function(){return Q().ek(Wf(),14)};q.pl=function(){return this.cwa()==4};q.load=function(){V(jy(),"navigate",function(a){G(Fv).rS(a.token)});this.rS(Ou())};
Fv.prototype.load=Fv.prototype.load;Fv.prototype.rS=function(a){Ou()!=a&&Pu(a);if(!this.Pca)if(!ot||nt){if(Ix(a)||ox(a,"edit")||ox(a,"revisions")||ox(a,"manage")||ox(a,"submissions")||ox(a,"subsuggestions")){var b=vy(a);b.k(function(){this.DD=a},this);b.v(this.Jca,this)}}else this.Jca()};Fv.prototype.Jca=function(){this.Pca=j;Pu(this.DD);this.Pca=l};Fv.prototype.wna=function(){ex(function(){G(Gr).HU(l)},this)};
Fv.prototype.KBa=function(){this.Is()?G(Gr).npa():G(Gr).HU(l);if(Wf()){this.wna();!Y("knol-content-"+Sf()).innerHTML&&G(Fv).Is()&&Q()&&Q().fd()==0&&Qx(Px())}};Fv.prototype.hookupLinks=Fv.prototype.KBa;
var uy=function(){var a=Q(),b=Vf();if(!a.ec(b)&&!a.V8(b)&&!a.oz(b)){var c,d=Wf();if(!d){var f,g=Vf(),h={};h[pp.AK]="UserStub";h[pp.TX]=g;var i=h,m=pp.OX,n;n="";i[m]=n;h[pp.tw]=req.user?req.user.primaryEmail:"";f=h;d=new vj(f)}c=d.ij();var o="You will appear as "+(c+" in this knol's contributor list once your changes are saved."),p="You will appear as "+(c+" in this collection's contributor list once your changes are saved."),r=a.Ca()?p:o;Fx=r}};var Ey=function(a,b){var c=Wf();if(c){var d=Q();if(a==c.p()||c.kg()||d.bi(c.p())){var f=b+"-"+a,g=Y(f);if(g){var h=g.parentNode;h.style.visibility="visible";h.style.display="";var i=A(Dy,k,c.p(),a,d.p());V(g,"click",i)}}}};u("knol.ui.client.AuthorListHelper.setupRemoveLinks",Ey,void 0);
var Dy=function(a,b,c){wt("Remove author from list","Are you sure you want to remove the author from the list?",function(){var d=sj(a,"removeUser",[b,c]);d.k(function(){window.location.reload(j)});d.v(A(st,k,"Failed to remove the author, please try again later","Remove author failed"))},k,k)},Fy=function(a){var b=G(Fv).Js(),c=Tl("*","knol-author-list-invite",Y(a));C(c,function(d){if(b)d.style.display="";else Z(d)})};u("knol.ui.client.AuthorListHelper.setupInviteLinks",Fy,void 0);var Gy=function(a,b,c,d){this.O=c||Ol();this.Hf=a;this.Ib=[];this.sQa=b?b:0;this.mha=!!d;this.BD()};B(Gy,Oi);q=Gy.prototype;
q.BD=function(){this.Hf.className="goog-tabpane";var a=this.Rta();this.gg=this.O.h("ul",{className:"goog-tabpane-tabs",tabIndex:"0"});this.Je=this.O.h("div","goog-tabpane-cont");this.Hf.appendChild(this.Je);switch(this.sQa){case 0:this.Hf.insertBefore(this.gg,this.Je);this.Hf.insertBefore(this.G0(),this.Je);X.add(this.Hf,"goog-tabpane-top");break;case 1:this.Hf.appendChild(this.gg);this.Hf.appendChild(this.G0());X.add(this.Hf,"goog-tabpane-bottom");break;case 2:this.Hf.insertBefore(this.gg,this.Je);
X.add(this.Hf,"goog-tabpane-left");break;case 3:this.Hf.insertBefore(this.gg,this.Je);X.add(this.Hf,"goog-tabpane-right");break;default:e(Error("Invalid tab location"))}this.gg.tabIndex=0;V(this.gg,this.mha?"mousedown":"click",this.mH,l,this);V(this.gg,"keydown",this.nH,l,this);this.gpa(a)};q.G0=function(){var a=".goog-tabpane-clear { clear: both; height: 0px; overflow: hidden }";Hq(a);return this.O.h("div","goog-tabpane-clear")};
q.n=function(){Gy.f.n.call(this);Ci(this.gg,this.mha?"mousedown":"click",this.mH,l,this);Ci(this.gg,"keydown",this.nH,l,this);delete this.Hf;this.Je=this.gg=k};q.Rta=function(){for(var a=[],b=mm(this.Hf);b;){a.push(b);b=lm(b.nextSibling,j)}return a};q.gpa=function(a){for(var b,c=0;b=a[c];c++)this.zf(new Hy(b))};
q.zf=function(a,b){a.Ta&&a.Ta!=this&&a.Ta instanceof Gy&&a.Ta.removePage(a);var c=this.Ib.length;if(s(b)&&b!=c){c=b;this.Ib.splice(c,0,a);this.gg.insertBefore(a.wn,this.gg.childNodes[c])}else{this.Ib.push(a);this.gg.appendChild(a.wn)}a.XA(this,c);if(!this.yd){this.yd=a;this.dispatchEvent(new Iy("change",this,this.yd))}this.Je.appendChild(a.Je);a.DU(a==this.yd);for(var d,f=c+1;d=this.Ib[f];f++)d.ye=f};
q.removePage=function(a){if(la(a))a=this.Ib[a];this.Ib.splice(a.ye,1);a.XA(k);Z(a.wn);Z(a.Je);for(var b,c=0;b=this.Ib[c];c++)b.XA(this,c)};q.ZA=function(a){if(a.ca()&&(!this.yd||a!=this.yd)){this.yd.DU(l);a.DU(j);this.yd=a;this.dispatchEvent(new Iy("change",this,this.yd))}};q.wh=function(a){a>=0&&a<this.Ib.length&&this.ZA(this.Ib[a])};q.$l=function(){return this.yd?this.yd.ye:-1};q.Qxa=function(){return this.yd||k};q.Fa=function(){return this.Je||k};q.e=function(){return this.Hf||k};
q.mH=function(a){for(var b=a.target;b!=this.gg;){if(b.tagName=="LI"){var c;for(c=0;b=b.previousSibling;c++);this.wh(c);break}b=b.parentNode}a.preventDefault()};q.nH=function(a){if(!(a.altKey||a.metaKey||a.ctrlKey))switch(a.keyCode){case 37:var b=this.yd.RE()-1;this.wh(b<0?this.Ib.length-1:b);break;case 39:b=this.yd.RE()+1;this.wh(b>=this.Ib.length?0:b);break;case 36:this.wh(0);break;case 35:this.wh(this.Ib.length-1);break}};
var Hy=function(a,b,c){var d,f;if(y(a)&&!s(b))d=a;else if(b){d=b;f=a}else if(a){var g=mm(a);if(g){d=Dm(g);g.parentNode.removeChild(g)}f=a}this.O=c||Ol();this.Je=f||this.O.h("div");this.wn=this.O.h("li",k,d);this.ye=this.Ta=k;this.Ma=j};q=Hy.prototype;q.kd=function(){return Dm(this.wn)};q.Ye=function(a){tm(this.wn,a)};q.J6=function(){return this.wn};q.Fa=function(){return this.Je};q.RE=function(){return this.ye};q.gb=function(){return this.Ta};q.select=function(){this.Ta&&this.Ta.ZA(this)};
q.U=function(a){this.Ma=a;this.wn.className=a?"goog-tabpane-tab":"goog-tabpane-tab-disabled"};q.ca=function(){return this.Ma};q.DU=function(a){if(this.ca()){this.Je.style.display=a?"":"none";this.wn.className=a?"goog-tabpane-tab-selected":"goog-tabpane-tab"}};q.XA=function(a,b){this.Ta=a;this.ye=s(b)?b:k};var Iy=function(a,b,c){bi.call(this,a,b);this.page=c};B(Iy,bi);var Jy=function(){this.cV={}};q=Jy.prototype;q.ba=function(a,b,c){var d=xs(a),f=Y(d);if(f){f.style.display="";f.style.visibility="visible";var g=this.wE(a,j),h=this.wE(a,l),i=this.cV[a];this.Kb(a,j,i?i.rA:g.checked);this.Kb(a,l,i?i.gRa:h.checked);b.g(g,"click",c);b.g(h,"click",c)}};q.wE=function(a,b){var c=xs(a),d=c+(b?"-published":"-unpublished");return Y(d)};q.Ab=function(a,b){var c=this.wE(a,b),d=c?c.checked:b;this.Tba(a,b,d);return d};
q.Kb=function(a,b,c){var d=this.wE(a,b);if(d)d.checked=c?"checked":"";this.Tba(a,b,c)};q.Tba=function(a,b,c){var d=this.cV[a];if(!d){d={};this.cV[a]=d}if(b)d.rA=c;else d.gRa=c};var Ky=function(a,b){this.V=new fq(this);this.Li=a;this.is=b;this.visibility=new Jy;var c=Vf()==a;if(c){var d=Y("knol-author-page-favorites-short");if(d){var f=W("knol.ui.AuthorPageLinks.renderFavoriteLinks",[]);f.k(function(J){if(J){d.innerHTML=J;d.style.display=""}})}}var g=Y("knol-author-page-tabs");if(g){var h=new Gy(g);this.od=h;this.Ib=[];var i=Y("knol-author-page-aboutme");if(c){if(!i.firstChild){i.appendChild(document.createTextNode("Tell the world about yourself in a few words."));for(var m=
0;m<2;m++)i.appendChild(document.createElement("br"))}var n=Aw();i.appendChild(n.Oh())}if(i.firstChild){var o=new Hy(i,"About me");h.zf(o);this.Ib.push(o)}for(m=0;m<Bp.length;m++){var p=Bp[m];if(!p.i2){var r=Y(p.id),t=new Hy(r,p.C);h.zf(t);this.Ib.push(t);this.Xb(p,r)}}g.firstChild&&Bm(g.firstChild,l);var v=Wf(),w=[0,8,6,1];for(var x in w){var z=Y("knol-author-redirect-blurb-"+w[x]);if(z&&(!c||!v||0))Z(z)}if(c&&v){var E=Y("knol-author-page-favorites"),M=v.xO();if(M&&M.length){f=W("knol.ui.AuthorPage.renderFavoritesTab",
[]);f.k(A(function(J){if(J){E.innerHTML=J;var U=new Hy(E,"Favorites");h.zf(U);this.Ib.push(U);Yw("knol-author-page-favorites","div","#fff");Ji(this.wd,"navigate",l,{token:this.wd.of()})}},this));f.v(A(tt,k,"Failed to render favorites"))}}this.iCa()}};u("knol.ui.client.AuthorPage",Ky,void 0);q=Ky.prototype;
q.iCa=function(){this.wd=jy();V(this.wd,"navigate",A(function(a){for(var b=a.token,c=0;c<this.Ib.length;c++){var d=this.Ib[c],f=d.Fa().id,g=Ly(f);if(!b||g==b){this.Ju=j;this.od.ZA(d);this.Ju=l;break}}},this));V(this.od,"change",A(function(a){if(!this.Ju){var b=a.page,c=Ly(b.Fa().id);this.wd.So(c)}},this));Ji(this.wd,"navigate",l,{token:this.wd.of()})};
q.v2=function(a){Y("knol-search-redirect-url-display-"+a).style.display="none";Y("knol-search-redirect-url-setlink-"+a).style.display="none";Y("knol-search-redirect-url-editlink-"+a).style.display="none";Y("knol-search-redirect-url-deletelink-"+a).style.display="none";Y("knol-search-redirect-url-form-"+a).style.display="";Y("knol-search-redirect-url-cancelbtn-"+a).style.display="";Y("knol-search-redirect-url-savebtn-"+a).style.display=""};
q.qqa=function(a){var b=sj(Vf(),"setRedirect",[a,""]);b.v(function(c){var d="Could not remove redirect URL";tt(d,c)});b.k(A(function(c){Y("knol-search-redirect-url-form-"+c).value="";Y("knol-search-redirect-url-url-"+c).innerHTML="";Y("knol-search-redirect-url-display-"+c).style.display="none";Y("knol-search-redirect-url-editlink-"+c).style.display="none";Y("knol-search-redirect-url-deletelink-"+c).style.display="none";Y("knol-search-redirect-url-setlink-"+c).style.display=""},this,a))};
q.dLa=function(a,b,c){b.U(l);c.U(l);var d=Y("knol-search-redirect-url-form-"+a);if(d.value.indexOf("http://")!=0&&d.value.indexOf("https://")!=0){if(d.value.indexOf("://")==-1)d.value="http://"+d.value;var f=new Ed(d.value);f.jj()!="http"&&f.jj()!="https"&&f.Qo("http");d.value=f.toString()}var g=sj(Vf(),"setRedirect",[a,d.value]);g.v(A(function(h,i,m){var n="Could not set redirect URL";tt(n,m);h.U(j);i.U(j)},this,b,c));g.k(A(function(h,i,m){var n=Y("knol-search-redirect-url-url-"+h),o=Y("knol-search-redirect-url-form-"+
h);n.innerHTML=o.value;i.U(j);m.U(j)},this,a,b,c))};
q.TPa=function(a){var b=Y("knol-search-redirect-url-url-"+a),c=b?b.innerHTML:k;Y("knol-search-redirect-url-display-"+a).style.display=c?"":"none";Y("knol-search-redirect-url-editlink-"+a).style.display=c?"":"none";Y("knol-search-redirect-url-deletelink-"+a).style.display=c?"":"none";Y("knol-search-redirect-url-setlink-"+a).style.display=c?"none":"";Y("knol-search-redirect-url-form-"+a).style.display="none";Y("knol-search-redirect-url-cancelbtn-"+a).style.display="none";Y("knol-search-redirect-url-savebtn-"+
a).style.display="none"};
q.Xb=function(a){var b=a.id,c="knol-authorpage-pagination-"+b.substring(17),d=Y(c);if(d)for(var f=d.getElementsByTagName("a"),g=0;g<f.length;g++){var h=f[g].className;if(ya(h,"knol-search-knol-pagination")){var i=A(this.er,this,h.substring(27),a);this.V.g(f[g],"click",i)}}var m=Wf();if(Vf()==Pf()||m&&m.Fb()){this.visibility.ba(b,this.V,this.ty(a));var n=Y(b),o=xm(n,function(t){return t.className=="knol-search-redirect-url-edit"}),p=function(t){var v="knol-search-redirect-url-set";if(t.id.indexOf("-edit")!=
-1)v="knol-search-redirect-url-edit";var w=t.id.substring(v.length+1,t.id.length);t=Y("knol-search-redirect-url-"+w);var x=Y("knol-search-redirect-url-url-"+w),z=Y("knol-search-redirect-url-display-"+w),E=am("input",{id:"knol-search-redirect-url-form-"+w,type:"text",size:20,value:x?x.innerHTML:"",maxlength:500,placeholder:"Redirect URL"}),M=new wr("Save"),J=am("span",{id:"knol-search-redirect-url-savebtn-"+w},""),U=new wr("Done"),R=am("span",{id:"knol-search-redirect-url-cancelbtn-"+w},""),N=am("a",
{href:"javascript:void(0);",id:"knol-search-redirect-url-editlink-"+w},"Edit URL"),sa=am("a",{href:"javascript:void(0);",id:"knol-search-redirect-url-setlink-"+w},"Set a redirect URL"),Fa=am("a",{href:"javascript:void(0);",id:"knol-search-redirect-url-deletelink-"+w},"Remove redirect");t.appendChild(E);t.appendChild(J);M.ba(J);t.appendChild(R);U.ba(R);var Gb=am("span",k," ");t.appendChild(Gb);t.appendChild(N);var $a=am("span",k," ");t.appendChild($a);t.appendChild(sa);var ce=am("span",k," ");t.appendChild(ce);
t.appendChild(Fa);E.style.display="none";J.style.display="none";R.style.display="none";if(x)sa.style.display="none";else{var ef="Redirects to: "+('<span class="knol-search-redirect-url-url" id="knol-search-redirect-url-url-'+w+'"></span>');z.innerHTML=ef;z.style.display="none";N.style.display="none";Fa.style.display="none"}V(N,"click",A(this.v2,this,w));V(sa,"click",A(this.v2,this,w));V(Fa,"click",A(this.qqa,this,w));V(M,"action",A(this.dLa,this,w,M,U));V(U,"action",A(this.TPa,this,w))};C(o,A(p,this));
var r=xm(n,function(t){return t.className=="knol-search-redirect-url-set"});C(r,A(p,this))}this.LOa(a);this.AOa(a);a.jc==1&&this.KOa(a);a.jc==2&&this.zOa(a)};q.ty=function(a){return A(this.er,this,"_0_10",a)};
q.er=function(a,b){var c=Y(b.id),d=a.split("_"),f=d[1]||0,g=d[2]||10,h=b.jc==0||b.jc==1||b.jc==6||b.jc==8,i=this.visibility.Ab(b.id,j),m=this.visibility.Ab(b.id,l),n=this.Xxa(b.id),o=this.cua(b.id),p=this.Exa(b),r=this.aua(b),t=W("knol.ui.AuthorPage.getSearchHTML",[Vf(),this.Li,this.is,b.jc,b.id,b.hn,b.gw,n,o,f,g,h,i,m,p,r]);t.k(A(function(v,w,x){w.innerHTML=x;Yw(v.id,"div","#fff");this.Xb(v,w)},this,b,c));t.v(A(tt,k,"failed to get pagination"))};
var Ly=function(a){return a.replace("knol-author-page-","")};q=Ky.prototype;q.v6=function(a){return Y("knol-advancedsearch-"+("sort"+a.substring(17)))};q.Xxa=function(a){var b=this.v6(a);if(b){var c=b.selectedIndex;if(c>=0&&c<An.length)return An[c].id}return 0};q.d4=function(a){return Y("knol-authorpage-compact-"+a.substring(17))};q.cua=function(a){var b=this.d4(a);return b?!!b.checked:l};q.LOa=function(a){var b=a.id,c=this.v6(b);c&&this.V.g(c,"change",this.ty(a))};
q.AOa=function(a){var b=a.id,c=this.d4(b);c&&this.V.g(c,"click",this.ty(a))};q.KOa=function(a){var b=this.ty(a),c=this.g6();c&&this.V.g(c,"click",b);var d=this.Gxa();d&&this.V.g(d,"click",b)};q.g6=function(){return Y("knol-reviews-about")};q.Gxa=function(){return Y("knol-reviews-by")};q.Exa=function(a){if(a.jc==1){var b=this.g6();if(b)return!!b.checked}return l};q.b4=function(){return Y("knol-comments-to")};q.$ta=function(){return Y("knol-comments-by")};
q.aua=function(a){if(a.jc==2){var b=this.b4();if(b)return!!b.checked}return l};q.zOa=function(a){var b=this.ty(a),c=this.b4();c&&this.V.g(c,"click",b);var d=this.$ta();d&&this.V.g(d,"click",b)};var My=function(){Np.call(this)};F(My,Np);u("knol.ui.client.BannerAnnouncement",My,void 0);
My.prototype.VN=function(){var a,b="";if(G(Wt).Vb()&&G(Xt).je())if(We())We(j)||(b+="The browser version you are using is not supported for editing knols. If you keep using it you may run into problems. For best results, we recommend upgrading your browser to the latest version.");else b+="The browser you are using is not supported for editing knols. You are welcome to keep using it, but you might run into problems. For best results, we recommend the latest version of Firefox, Internet Explorer, Safari or Google Chrome.";if(b){var c=
K(),d=K({b:"span",id:this.qj,c:"knol-inline-announce-message",d:b});c.addElement(d);a=c.w()}return a};My.prototype.Uta=function(){return""};
My.prototype.Pc=function(){var a=D("knol.ui.client.BannerAnnouncement");try{this.oT();var b=Y("knol-announcement-banner"),c="knol-announcement-banner-client",d=Y(c),f=Y(this.hz),g=this.VN(),h=l;if(!g){g=this.Uta();h=j}if(g){if(d)d.innerHTML=g;else{d=K({b:"div",id:c,d:g}).Oh();b.appendChild(d)}h?X.add(b,"knol-inline-announce"):X.add(b,"knol-inline-announce-warning");f&&X.remove(f,"knol-inline-announce")}else{d&&Z(d);X.remove(b,"knol-inline-announce-warning");f&&X.add(f,"knol-inline-announce")}}catch(i){a.wa("failed to writeHTML",
i)}};My.prototype.writeHTML=My.prototype.Pc;My.prototype.Rb=function(){this.Pc()};My.prototype.oT=function(){for(var a=["knol-inline-announce-time-start","knol-inline-announce-time-end"],b=0;b<a.length;b++){var c=Y(a[b]);if(c){var d=c.innerHTML,f=d&&new Date(d);if(f&&f.getTime()){var g=new gw(9);c.innerHTML=g.Bt(f)}}}};var Ny=function(){this.j=new fq(this)};F(Ny,Qp);Ny.prototype.eB=function(){if(!this.Na){var a=Y("knol-citation");if(a){this.Na=new pw(a);this.Na.$da(j);this.Na.Gda(j);this.Na.sU(2);var b=Y("knol-article-top-hr");b&&this.Na.setPosition(new Ss(b,2))}}};var Oy=function(){G(Ny).Xb()};
Ny.prototype.Xb=function(){this.eB();for(var a=["knol-viewlinks-citation","knol-viewlinks-citation-icon"],b=0;b<a.length;b++){var c=Y(a[b]);c&&this.j.g(c,"click",A(function(){this.eB();this.Na.H(j);var d=Y("knol-citation-input-box");if(d){d.select();d.focus()}},this))}};u("knol.ui.client.Citation.addListener",Oy,void 0);
var Py=function(a){if(a){var b=Y("knol-citation-input-box");if(b){b.value=a;var c=Y("knol-citation");if(c&&c.style.display!="none"){b.select();b.focus()}}}},Qy=function(a){var b=W("knol.ui.Knol.getRRNCitation",[a]);b.k(Py)};u("knol.ui.client.Citation.refreshWithRRN",Qy,void 0);var Ry=function(){var a=W("knol.ui.Citation.makeCitationText",[Sf()]);a.k(function(b){var c=Wa(Ca(b));Py(c)})};var Sy=function(){this.J=Wf();this.Ra=Uf();this.D=Q();this.Ks=k;if(this.Ra){this.cG();this.wk()}};F(Sy,pt);var Ty=function(){return D("knol.ui.client.CollectDialog")};q=Sy.prototype;
q.wk=function(){Ty();var a=K({b:"div",id:"knol-collect-knol-form"});b=this.eF("option-choose");a.addElement(b);a.na();var b=this.eF("option-new");a.addElement(b);a.na();var c=this.$N();a.addElement(c);a.na();a.addElement({b:"div",style:"display: none",id:"knol-collect-knol-error"});a.na();var d=this.vl(),f="knol-dialog",g=A(this.LA,this);pt.call(this,this.Ze,a.w(),k,f,g,d);this.H(j);this.fA={};for(var h in Uy){var i=Uy[h],m=Y(this.nm+"-"+i);if(m){this.fA[i]=m;V(m,"click",A(this.ep,this))}}var n=G(Wt);
n.load(A(function(){var o=Y("knol-collect-knol-search");this.Dg=new (this.pP())(o,A(this.wLa,this));this.QIa()},this))};q.cG=function(){};q.eF=function(){return k};q.$N=function(){return k};q.LA=function(a){if(a.ea=="ok"){var b=this.kf().$g("ok");b.disabled?a.preventDefault():this.ep(A(this.OD,this,a))}};q.wLa=function(a,b){Ty();var c=this.Dg.ha();a&&this.eI("option-choose");var d=c&&b?A(this.OD,this):k;this.ep(d)};
q.vl=function(){var a=new Ls;this.ol=a;a.G("ok",this.mGa,l);a.G("cancel","Cancel",l,j);return a};q.bg=function(a,b,c){b=b?"true":undefined;var d=K({b:"div",c:"knol-create-knol-radio-option"}),f=this.nm+"-"+a;d.addElement({b:"input",type:"radio",c:"knol-collect-knol-option",name:this.nm,id:f,value:a,checked:b});d.addElement({b:"label","for":f,d:c});return d};
q.AD=function(a,b,c,d){var f=K({b:"div",c:"knol-collect-suboption"});f.addElement({b:"div",d:a,c:"knol-collect-knol-opt-desc"});var g=K({b:"input",type:"text",name:b,size:c,maxlength:c,id:b,value:"",c:"knol-collect-knol-textbox"});f.addElement(g);d&&f.addElement(d);f.na();return f};q.QIa=function(){this.PK();var a=Y("knol-collect-knol-search");if(a)if(this.Dg){var b=this.Dg.Rw(k,a.id);b.k(function(c){this.Dg.eea(c)},this)}};q.PK=function(){};q.OD=function(){};
var Gv=function(a,b,c,d,f,g){var h=Ty(),i=new ll(a,"add",undefined,undefined,undefined,xa()),m=new Ro(262144,[i.serialize()]),n=new Po(b,d.Ne(),d.FN());n.DA=-1;if(ja(m))n.ic.push.apply(n.ic,m);else m?n.ic.push(m):h.wa("Failed to construct part of the change-list for collecting.");var o=sj(c,"proposeKnolModification",[n]);o.k(function(p){var r=new Po;r.T(p);r.JF()?g():f()});o.v(g)};q=Sy.prototype;
q.ep=function(a){Ty();var b=ma(a)?a:function(){};this.Ks=k;for(var c in Uy){var d=Uy[c],f=this.fA[d];if(f&&f.checked)this.Ks=d}switch(this.Ks){case "option-new":this.iRa();this.vAa(b);break;case "option-choose":this.RP(b);break}};q.vAa=function(a){this.Cc(j);a()};q.RP=function(a){this.Cc(j);a()};q.iRa=function(){var a=this.nm+"-option-choose",b=Y(a);if(b&&b.parentNode)for(var c=Rl("input","knol-template-search-radio",b.parentNode)||[],d=0;d<c.length;d++){var f=c[d];if(f.checked)f.checked=l}this.Dg.rv.sf(k)};
q.Cc=function(a){var b=this.kf().$g("ok");if(b)b.disabled=!a};q.Mo=function(a){var b=this.kf().$g("ok");if(b)b.innerHTML=a};q.Xe=function(a){var b=Y("knol-collect-knol-error");if(b){b.innerHTML=a;b.style.display=a?"":"none"}};q.eI=function(a){for(var b in Uy){var c=Uy[b],d=Y(this.nm+"-"+c);if(d)d.checked=c==a}};q.Ze="What do you want to do?";q.mGa="Done";q.tra="There was an unexpected error when submitting the knol to the collection.";
var Vy=function(a){if(a==2)return'<span class="knol-ec-emphasis">Note!</span> This is a author-centric collection.  Submitting your knol will have the following effect:';else if(a==3)return'<span class="knol-ec-emphasis">Note!</span> This is a shared-authorship collection.  Submitting your knol will have the following effect:';else if(a==4)return'<span class="knol-ec-emphasis">Note!</span> This is a moderator-centric collection.  Submitting your knol will have the following effect:';return""};
Sy.prototype.pP=function(){return Wy};Sy.prototype.nm="knol-collect";var Uy={DVa:"option-new",eC:"option-choose"},Xy=function(a){this.CL=this.Qs=k;this.gf=!!a;if(Wf())Sy.call(this);else{var b=new Ed(jf());window.location=tf(b.Pf("continue"),"collectknol")}};F(Xy,Sy);var Yy=function(){if(Ou()=="collectknol"||H&&Od(window.location).mk().z("collectknol")){G(Fv).DD="done";Pu("#done");Wf()&&new Xy}};u("knol.ui.client.FromKnolCollectionDialog.openOnHash",Yy,void 0);
var Zy=function(){var a="knol-viewlinks-collect",b="knol-viewlinks-collect-icon",c=Y(a),d=Y(b);d&&c&&C([d,c],function(f){V(f,"click",function(){new Xy},l,this)})};u("knol.ui.client.FromKnolCollectionDialog.setupClient",Zy,void 0);
Xy.prototype.eF=function(a){if(a=="option-new"){if(this.gf)return new K;var b=bf(this.Ra.tk(),40),c="Create a new collection with this knol, "+(b+", in it."),d=this.bg("option-new",l,c);return d}else if(a=="option-choose"){d=this.bg("option-choose",j,this.gf?"Submit this knol to an existing moderated collection.":"Submit this knol to an existing collection.");this.gf&&d.addElement({b:"div",c:"knol-collect-suboption",d:"Knols can only be submitted by their authors.  Knols can only be in one moderated collection at a time."});
var f="Search for a collection you own or select one from the list.  We exclude collections that already contain this knol:";if(this.gf)f="Search for a moderated collection or select one from the list.  We exclude moderated collections that already contain this knol:";d.addElement({b:"div",c:"knol-collect-suboption",d:f});d.addElement(K({b:"div",c:"knol-selector-search",id:"knol-collect-knol-search"}));return d}return k};
Xy.prototype.$N=function(){if(this.gf){var a=K();a.addElement({b:"div",id:"knol-from-collect-contract"});return a}else return k};
Xy.prototype.OD=function(){Ty();var a=k;if(this.Qs)a=this.Qs.p();if(this.Ks=="option-new"){var b=A(st,this,"There was an unexpected error when creating the new collection."),c=new tk(hk(this.J.p()),"createKnol");c.ma([this.J.p(),k,k,k,k,k,k,k,k,k,1,this.Ra.p()],function(d){var f=O({Uf:d}),g=f.ha();g+="#edit";window.location=g},b)}else this.Ks=="option-choose"&&$y(this.Ra.p(),this.Qs,this.CL)};
var $y=function(a,b,c,d){if(!(!a||!b||!c)){var f=b.jd(),g=K();if(f)g=K({b:"a",href:f.ha(),d:f.Th()});var h="The knol is now submitted for review by the collection "+(g.w()+"."),i="The knol is now a part of the collection.  This may take a few minutes to complete.",m=b.ek(Wf(),21)==4;m||(i=h);if(d){var n=d+"#edit";g=K({b:"a",href:n,d:"Click here to go to your new knol."});var o=K({b:"div"});o.addElement({b:"div",d:i});o.addElement(g);i=o.w()}var p=function(){Pt();Ot(i);if(b.Id()){var r=sj(Rf(),"setEditorialCollectionChecked",
[b.va()]);r.k(function(t){t&&Q().CMa(t)},this)}};Pt();Gv(a,b.va(),b.p(),c,p,A(st,k,"There was an unexpected error when submitting the knol to the collection."))}};
Xy.prototype.RP=function(a){var b=k,c=l;if(this.Dg){var d=this.Dg.ha();if(d)b=Sj(d);else{var f=this.Dg.fu();b=Sj(f)}c=!b}this.Xe("");this.CL=this.Qs=k;if(c){this.Cc(l);a()}else if(b){this.Cc(l);this.Mo("Verifying");rk(A(function(){var g=l;if(b){var h=O(b),i=h.Ja();if(this.J&&h&&i&&i.fd()!=k&&i.fd()!=0){if(this.gf){var m=i.fd(),n=K({b:"div",c:"knol-collect-suboption",d:Vy(m)}),o=Lo(m,"knol-collect-suboption","knol-collect-subli"),p=i.hy(),r=Mo(p,"knol-collect-suboption"),t=K({b:"div",children:[n,o,
r]}),v=Y("knol-from-collect-contract");if(v)v.innerHTML=t.w()}var w=Q().Ca(),x=i.Id()&&(Q().Id()||Q().Mf()),z=i.hf()=="moderated"||i.hf()=="open",E=i.ec(this.J.p()||this.J.Fb()),M=w&&i.Id();if(!x&&!M&&(!this.gf&&E||this.gf&&i.Id()&&!Q().Mf()&&(E||z))){this.Qs=i;this.CL=new Ip(b);g=j}else if(x&&Q().Id())this.Xe("You can not put a moderated collection into another moderated collection.");else if(x&&Q().Mf())w?this.Xe("The collection is already in a moderated collection."):this.Xe("The knol is already in a moderated collection.");
else if(M)this.Xe("You can not put a collection into a moderated collection.");else if(this.gf)if(this.gf&&!z)this.Xe("The collection is closed to submissions.");else this.gf&&this.Xe("Please choose a moderated collection");else this.Xe("You can only use this option to add to collections you moderate.")}else this.Xe("Please choose a collection.")}this.Mo("Done");this.Cc(g);a(this.Qs)},this),A(function(){this.Mo("Done");this.Cc(l);a()},this))}else{this.Cc(j);a()}};Xy.prototype.pP=function(){return az};
Sy.prototype.PK=function(){this.Dg.NMa(this.gf)};var bz=function(a,b,c){this.KR=a;this.Rq=b||0;this.V=c;this.Sb=A(this.jt,this)};B(bz,ai);q=bz.prototype;q.Ia=0;q.n=function(){bz.f.n.call(this);this.stop();delete this.KR;delete this.V};q.start=function(a){this.stop();this.Ia=Si(this.Sb,s(a)?a:this.Rq)};q.stop=function(){this.je()&&Pi.clearTimeout(this.Ia);this.Ia=0};q.jsa=function(){this.stop();this.jt()};q.yt=function(){this.je()&&this.jsa()};q.je=function(){return this.Ia!=0};q.jt=function(){this.Ia=0;this.KR&&this.KR.call(this.V)};var cz=function(a){this.yg=a.label;this.ds=a.wb;this.kx=a.Bl;this.Ia=hb()};cz.prototype.Zn=function(){return"tr_customTab_"+this.Ia};cz.prototype.ly=function(){return this.yg};cz.prototype.qg=function(){return this.ds||this.yg||""};cz.prototype.cM=function(a){this.kx&&this.kx(this,a,this.vp);return!!this.kx};var dz=function(a){this.GL=a};dz.prototype.Jka=function(a,b){for(var c in a){var d=a[c];this.OK(d,c,b)}};dz.prototype.OK=function(a,b,c){var d=c(a,b);if(d)this.bN?hm(d,this.bN):this.GL.appendChild(d)};dz.prototype.noa=function(){return!!(this.bN?this.bN.previousSibling:this.GL.firstChild)};dz.prototype.t5=function(){return this.GL};var ez=function(a){var b=a.parentNode,c=a.offsetTop-b.firstChild.offsetTop,d=c-b.scrollTop;if(d<0||d+a.offsetHeight>=b.offsetHeight)b.scrollTop=c};
dz.prototype.fill=function(a,b,c,d,f){var g=0,h={},i=0,m=this,n=function(p,r){g++;if(d&&!i||g<=b+i){m.OK(r,p,c);if(a.yz(d,p))i=g}else h[p]=r};a.forEach(n,f);var o=A(this.Jka,this,h,c);window.setTimeout(o,0)};var fz=function(a){cz.call(this,a);this.sc=a.QRa;this.U2=a.iN};B(fz,cz);q=fz.prototype;q.Ob=function(){return"tr_customTabList_"+this.Ia};q.Qya=function(){return this.sc};q.Rua=function(){return this.U2};q.Lda=function(a,b){this.vp=a;this.Ica=new dz(b)};q.wxa=function(){return this.Ica.t5()};q.nF=function(){return this.Ica};q.fsa=function(a){for(var b=this.wxa().firstChild;b;){if(this.yz(a,b.xa))return b;b=b.nextSibling}};q.sN=function(a){return this.sc.j3(a,this.U2)};
q.$ka=function(a,b){this.sc.add(a,b)};q.yz=function(a,b){return this.sc.yz(a,b)};var gz,hz,iz,jz,kz,lz,mz;mz=lz=kz=jz=iz=hz=gz=l;var nz=ke();if(nz)if(nz.indexOf("Firefox")!=-1)gz=j;else if(nz.indexOf("Camino")!=-1)hz=j;else if(nz.indexOf("iPhone")!=-1||nz.indexOf("iPod")!=-1)iz=j;else if(nz.indexOf("iPad")!=-1)jz=j;else if(nz.indexOf("Android")!=-1)kz=j;else if(nz.indexOf("Chrome")!=-1)lz=j;else if(nz.indexOf("Safari")!=-1)mz=j;var oz=oe,pz=H,qz=gz,rz=hz,sz=iz,tz=jz,uz=kz,vz=lz,wz=mz;var xz;a:{var yz="",zz,Az;if(qz)zz=/Firefox\/([0-9.]+)/;else if(pz||oz){xz=De;break a}else if(vz)zz=/Chrome\/([0-9.]+)/;else if(wz)zz=/Safari\/([0-9.]+)/;else if(sz||tz){zz=/Version\/(\S+).*Mobile\/(\S+)/;Az=j}else if(uz)zz=/Android\s+([0-9.]+)(?:.*Version\/([0-9.]+))?/;else if(rz)zz=/Camino\/([0-9.]+)/;if(zz){var Bz=zz.exec(ke());yz=Bz?Az?Bz[1]+"."+Bz[2]:Bz[2]||Bz[1]:""}xz=yz}var Cz=xz;var Dz=H,Ez=I||pe||oe,Fz=H||pe||oe||l,Gz=I,Hz=pe||l,Iz=I,Jz=H||pe||oe,Kz=I||pe,Lz=I||pe||oe,Mz=pe||oe,Nz=oe,Oz=H,Pz=I&&j,Qz=H,Rz=I||pe||oe,Sz=I||oe,Tz=H;H&&Fe("7.0");var Uz=I&&Fe("1.8")||pe||oe,Vz=pe;H||oe||I&&Fe("1.9");var Wz=I||pe,Xz=H||oe,Yz=pe,Zz=oe,$z=oe,aA=H||I||pe,bA=H||pe&&Fe("525"),cA=pe&&!Fe("531"),dA=pe&&!Fe("528");I&&Fe("1.9")||H||oe||pe&&Fe("531");var eA=H||I||oe,fA=I||pe&&!Fe("526"),gA=H||oe,hA=!H&&!oe,iA=!pe;vz&&fb(Cz,"4")>=0;var jA=function(){};B(jA,ai);var kA=D("goog.dom.SavedRange");jA.prototype.restore=function(a){this.lG()&&kA.wa("Disposed SavedRange objects cannot be restored.");var b=this.YH();a||this.l();return b};var lA=function(a){this.Kfa=hb();this.J2=hb();this.O=Ol(a.M());a.wB(this.D0(j),this.D0(l))};B(lA,jA);q=lA.prototype;q.xV=function(){var a=k,b=this.bj(j),c=this.bj(l);if(b&&c)a=mA(b,0,c,0);return a};q.bj=function(a){return this.O.Ec(a?this.Kfa:this.J2)};q.zA=function(a){Z(this.bj(j));Z(this.bj(l));return a};
q.YH=function(){var a=k,b=this.bj(j),c=this.bj(l);if(b&&c){var d=b.parentNode,f=sb(d.childNodes,b),g=c.parentNode,h=sb(g.childNodes,c);if(g==d)h-=1;a=mA(d,f,g,h);a=this.zA(a);a.select()}else this.zA();return a};q.n=function(){this.zA();this.O=k};q.D0=function(a){return this.O.h("SPAN",{id:a?this.Kfa:this.J2})};var nA=function(){},oA=function(a){if(a.getSelection)return a.getSelection();else{var b=a.document,c=b.selection;if(c){try{var d=c.createRange();if(d.parentElement){if(d.parentElement().document!=b)return k}else if(!d.length||d.item(0).document!=b)return k}catch(f){return k}return c}return k}};q=nA.prototype;q.Eq=function(){for(var a=[],b=0,c=this.Dq();b<c;b++)a.push(this.fh(b));return a};q.Uc=function(){var a=this.Nb();return a.nodeType==1?a:a.parentNode};
q.I3=function(){return this.Vq()?this.qa():this.$()};q.J3=function(){return this.Vq()?this.sb():this.Ga()};q.BO=function(){return this.Vq()?this.$():this.qa()};q.CO=function(){return this.Vq()?this.Ga():this.sb()};q.Vq=function(){return l};q.M=function(){return Nl(H?this.Nb():this.$())};q.ka=function(){return Zl(this.M())};q.containsNode=function(a,b){return this.Ep(pA(a,void 0),b)};q.Kr=function(a){this.isCollapsed()||this.Ik();return this.insertNode(a,j)};
q.ada=function(){return this.$()&&this.qa()?new lA(this):k};var qA=function(a,b){bw.call(this,a,b,j)};B(qA,bw);var rA=function(){};B(rA,nA);rA.prototype.Ep=function(a,b){var c=this.Eq(),d=a.Eq(),f=b?xb:yb;return f(d,function(g){return xb(c,function(h){return h.Ep(g,b)})})};rA.prototype.insertNode=function(a,b){b?hm(a,this.$()):im(a,this.qa());return a};rA.prototype.wB=function(a,b){this.insertNode(a,j);this.insertNode(b,l)};var sA=function(a,b,c,d,f){var g;if(a){this.qb=a;this.nd=b;this.eb=c;this.Tc=d;if(a.nodeType==1&&a.tagName!="BR"){var h=a.childNodes,i=h[b];if(i){this.qb=i;this.nd=0}else{if(h.length)this.qb=qb(h);g=j}}if(c.nodeType==1)if(this.eb=c.childNodes[d])this.Tc=0;else this.eb=c}qA.call(this,f?this.eb:this.qb,f);if(g)try{this.sa()}catch(m){if(m!=Sb)e(m)}};B(sA,qA);q=sA.prototype;q.qb=k;q.eb=k;q.nd=0;q.Tc=0;q.$=function(){return this.qb};q.qa=function(){return this.eb};
q.tz=function(){return this.IDa()&&this.node==this.eb&&(!this.Tc||!this.rR())};q.sa=function(){if(this.tz())e(Sb);return sA.f.sa.call(this)};q.Nv=function(){sA.f.Nv.apply(this);if(nm(this.node,this.eb))e(Sb)};q.ul=function(a){this.qb=a.qb;this.eb=a.eb;this.nd=a.nd;this.Tc=a.Tc;this.rj=a.rj;sA.f.ul.call(this,a)};q.ua=function(){var a=new sA(this.qb,this.nd,this.eb,this.Tc,this.rj);a.ul(this);return a};var tA=function(){};tA.prototype.Ep=function(a,b){return this.HL(a.PN(),b)};tA.prototype.HL=function(a,b){try{return b?this.Dp(a,0,1)>=0&&this.Dp(a,1,0)<=0:this.Dp(a,0,0)>=0&&this.Dp(a,1,1)<=0}catch(c){if(!H)e(c);return l}};tA.prototype.containsNode=function(a,b){return this.Ep(uA(a),b)};tA.prototype.cl=function(){return new sA(this.$(),this.Ga(),this.qa(),this.sb())};var vA=function(a){this.Y=a};B(vA,tA);var wA=function(a){var b=Nl(a).createRange();if(a.nodeType==3){b.setStart(a,0);b.setEnd(a,a.length)}else{for(var c,d=a;c=d.firstChild;)d=c;b.setStart(d,0);for(d=a;c=d.lastChild;)d=c;b.setEnd(d,d.nodeType==1?d.childNodes.length:d.length)}return b},xA=function(a,b,c,d){var f=Nl(a).createRange();f.setStart(a,b);f.setEnd(c,d);return f};q=vA.prototype;q.ua=function(){return new this.constructor(this.Y.cloneRange())};q.PN=function(){return this.Y};q.Nb=function(){return this.Y.commonAncestorContainer};
q.$=function(){return this.Y.startContainer};q.Ga=function(){return this.Y.startOffset};q.qa=function(){return this.Y.endContainer};q.sb=function(){return this.Y.endOffset};q.Dp=function(a,b,c){return this.Y.compareBoundaryPoints(c==1?b==1?ba.Range.START_TO_START:ba.Range.START_TO_END:b==1?ba.Range.END_TO_START:ba.Range.END_TO_END,a)};q.isCollapsed=function(){return this.Y.collapsed};q.Sd=function(){return this.Y.toString()};q.select=function(a){var b=Zl(Nl(this.$()));this.bI(b.getSelection(),a)};
q.bI=function(a){a.removeAllRanges();a.addRange(this.Y)};q.Ik=function(){var a=this.Y;a.extractContents();if(a.startContainer.hasChildNodes()){var b=a.startContainer.childNodes[a.startOffset];if(b){var c=b.previousSibling;Em(b)==""&&Z(b);c&&Em(c)==""&&Z(c)}}};q.surroundContents=function(a){this.Y.surroundContents(a);return a};q.insertNode=function(a,b){var c=this.Y.cloneRange();c.collapse(b);c.insertNode(a);c.detach();return a};
q.wB=function(a,b){var c=Zl(Nl(this.$())),d=yA(c);if(d)var f=d.$(),g=d.qa(),h=d.Ga(),i=d.sb();var m=this.Y.cloneRange(),n=this.Y.cloneRange();m.collapse(l);n.collapse(j);m.insertNode(b);n.insertNode(a);m.detach();n.detach();if(d){if(f.nodeType==3)for(;h>f.length;){h-=f.length;do f=f.nextSibling;while(f==a||f==b)}if(g.nodeType==3)for(;i>g.length;){i-=g.length;do g=g.nextSibling;while(g==a||g==b)}mA(f,h,g,i).select()}};q.collapse=function(a){this.Y.collapse(a)};var zA=function(a){this.Y=a};B(zA,vA);zA.prototype.bI=function(a,b){var c=b?this.qa():this.$(),d=b?this.sb():this.Ga(),f=b?this.$():this.qa(),g=b?this.Ga():this.sb();a.collapse(c,d);if(c!=f||d!=g)a.extend(f,g)};var AA=function(a,b){this.Y=a;this.s=b};B(AA,tA);var BA=D("goog.dom.browserrange.IeRange"),CA=function(a){var b=Nl(a).body.createTextRange();if(a.nodeType==1)b.moveToElementText(a);else{for(var c=0,d=a;d=d.previousSibling;){var f=d.nodeType;if(f==3)c+=d.length;else if(f==1){b.moveToElementText(d);break}}d||b.moveToElementText(a.parentNode);b.collapse(!d);c&&b.move("character",c);b.moveEnd("character",a.length)}return b};q=AA.prototype;q.vr=k;q.qb=k;q.eb=k;
q.ua=function(){var a=new AA(this.Y.duplicate(),this.s);a.vr=this.vr;a.qb=this.qb;a.eb=this.eb;return a};q.PN=function(){return this.Y};q.Bf=function(){this.vr=this.qb=this.eb=k};
q.Nb=function(){if(!this.vr){for(var a=this.Y.text,b=this.Y.duplicate(),c=1;a.charAt(a.length-c)==" ";c++)b.moveEnd("character",-1);for(var d=b.parentElement(),f=Ha(b.htmlText);f.length>Ha(d.outerHTML).length;)d=d.parentNode;for(;d.childNodes.length==1&&d.innerText==(d.firstChild.nodeType==3?d.firstChild.nodeValue:d.firstChild.innerText);){if(d.firstChild.tagName=="IMG")break;d=d.firstChild}if(a.length==0)d=this.n3(d);this.vr=d}return this.vr};
q.n3=function(a){for(var b=a.childNodes,c=0,d=b.length;c<d;c++){var f=b[c];if(f.nodeType==1)if(this.Y.inRange(CA(f)))return this.n3(f)}return a};q.$=function(){return this.qb||(this.qb=this.tO(1))};q.Ga=function(){return this.cF(1)};q.qa=function(){return this.eb||(this.eb=this.tO(0))};q.sb=function(){return this.cF(0)};q.Ep=function(a,b){return this.HL(a.Y,b)};q.Dp=function(a,b,c){return this.Y.compareEndPoints((b==1?"Start":"End")+"To"+(c==1?"Start":"End"),a)};
q.tO=function(a,b){var c=b||this.Nb();if(!c||!c.firstChild){if(a==0&&c.previousSibling&&c.previousSibling.tagName=="BR"&&this.cF(a,c)==0)c=c.previousSibling;return c.tagName=="BR"?c.parentNode:c}for(var d=a==1?c.firstChild:c.lastChild;d;){if(this.containsNode(d,j))return this.tO(a,d);d=a==1?d.nextSibling:d.previousSibling}return c};
q.cF=function(a,b){var c=b||(a==1?this.$():this.qa());if(c.nodeType==1){for(var d=c.childNodes,f=d.length,g=a==1?0:f-1;g>=0&&g<f;){var h=d[g];if(this.containsNode(h,j)){a==0&&h.previousSibling&&h.previousSibling.tagName=="BR"&&this.cF(a,h)==0&&g--;break}g+=a==1?1:-1}return g==-1?0:g}else{var i=this.Y.duplicate(),m=CA(c);i.setEndPoint(a==1?"EndToEnd":"StartToStart",m);var n=i.text.length;return a==0?n:c.length-n}};
q.Uq=function(){var a=this.s.body.createTextRange();a.moveToElementText(this.s.body);return this.HL(a,j)};q.isCollapsed=function(){return this.Y.text==""};q.Sd=function(){return this.Y.text};q.select=function(){this.Y.select()};
q.Ik=function(){if(this.Y.htmlText){var a=this.$(),b=this.qa(),c=this.Y.text,d=this.Y.duplicate();d.moveStart("character",1);d.moveStart("character",-1);if(d.text!=c){var f=new gu(a,l,j),g=[];Vb(f,function(o){if(o.nodeType!=3&&this.containsNode(o)){g.push(o);f.Nv()}if(o==b)e(Sb)});this.collapse(j);C(g,Z);this.Bf()}else{this.Y=d;this.Y.text="";this.Bf();var h=this.$(),i=this.Ga();try{var m=a.nextSibling;if(a==b&&a.parentNode&&a.nodeType==3&&m&&m.nodeType==3){a.nodeValue+=m.nodeValue;Z(m);this.Y=CA(h);
this.Y.move("character",i);this.Bf()}}catch(n){}}}};var DA=function(a,b,c){c=c||Ol(a.parentElement());var d,f=d=b.id;if(!d)d=b.id=hb();a.pasteHTML(b.outerHTML);if(b=c.Ec(d))f||b.removeAttribute("id");return b};AA.prototype.surroundContents=function(a){Z(a);a.innerHTML=this.Y.htmlText;(a=DA(this.Y,a))&&this.Y.moveToElementText(a);this.Bf();return a};
var EA=function(a,b,c,d){d=d||Ol(a.parentElement());var f;if(b.nodeType!=1){f=j;b=d.h("DIV",k,b)}a.collapse(c);b=DA(a,b,d);if(f){var g=b.firstChild;d.wN(b);b=g}return b};AA.prototype.insertNode=function(a,b){var c=EA(this.Y.duplicate(),a,b);this.Bf();return c};AA.prototype.wB=function(a,b){var c=this.Y.duplicate(),d=this.Y.duplicate();EA(c,a,j);EA(d,b,l);this.Bf()};AA.prototype.collapse=function(a){this.Y.collapse(a);if(a)this.eb=this.qb;else this.qb=this.eb};var FA=function(a){this.Y=a};B(FA,vA);FA.prototype.bI=function(a){a.collapse(this.$(),this.Ga());if(this.qa()!=this.$()||this.sb()!=this.Ga())a.extend(this.qa(),this.sb());a.rangeCount==0&&a.addRange(this.Y)};var GA=function(a){this.Y=a};B(GA,vA);GA.prototype.Dp=function(a,b,c){if(Fe("528"))return GA.f.Dp.call(this,a,b,c);return this.Y.compareBoundaryPoints(c==1?b==1?ba.Range.START_TO_START:ba.Range.END_TO_START:b==1?ba.Range.START_TO_END:ba.Range.END_TO_END,a)};GA.prototype.bI=function(a,b){a.removeAllRanges();b?a.setBaseAndExtent(this.qa(),this.sb(),this.$(),this.Ga()):a.setBaseAndExtent(this.$(),this.Ga(),this.qa(),this.sb())};var HA=function(a){return H?new AA(a,Nl(a.parentElement())):pe?new GA(a):I?new zA(a):oe?new FA(a):new vA(a)},uA=function(a){var b;if(H){var c=a,d=new AA(CA(c),Nl(c));d.vr=c;b=d}else b=pe?new GA(wA(a)):I?new zA(wA(a)):oe?new FA(wA(a)):new vA(wA(a));return b};var IA=function(){};B(IA,nA);var JA=function(a,b){var c=new IA;c.wp=a;c.rj=!!b;return c},pA=function(a,b){return JA(uA(a),b)},mA=function(a,b,c,d){var f=new IA;f.rj=KA(a,b,c,d);if(a.tagName=="BR"){var g=a.parentNode;b=sb(g.childNodes,a);a=g}if(c.tagName=="BR"){g=c.parentNode;d=sb(g.childNodes,c);c=g}if(f.rj){f.qb=c;f.nd=d;f.eb=a;f.Tc=b}else{f.qb=a;f.nd=b;f.eb=c;f.Tc=d}return f};q=IA.prototype;q.wp=k;q.qb=k;q.nd=k;q.eb=k;q.Tc=k;q.rj=l;
q.ua=function(){var a=new IA;a.wp=this.wp;a.qb=this.qb;a.nd=this.nd;a.eb=this.eb;a.Tc=this.Tc;a.rj=this.rj;return a};q.la=function(){return"text"};q.Jf=function(){return this.jf().PN()};q.Bf=function(){this.qb=this.nd=this.eb=this.Tc=k};q.Dq=function(){return 1};q.fh=function(){return this};
q.jf=function(){var a;if(!(a=this.wp)){var b,c=this.$(),d=this.Ga(),f=this.qa(),g=this.sb(),h;if(H){var i=c,m,n=i,o=d,p=f,r=g,t,v=l;if(n.nodeType==1){o>n.childNodes.length&&BA.wa("Cannot have startOffset > startNode child count");t=n.childNodes[o];v=!t;n=t||n.lastChild||n;o=0}var w=CA(n);o&&w.move("character",o);v&&w.collapse(l);v=l;if(p.nodeType==1){r>p.childNodes.length&&BA.wa("Cannot have endOffset > endNode child count");p=(t=p.childNodes[r])||p.lastChild||p;r=0;v=!t}var x=CA(p);x.collapse(!v);
r&&x.moveEnd("character",r);w.setEndPoint("EndToEnd",x);m=w;h=new AA(m,Nl(i))}else h=pe?new GA(xA(c,d,f,g)):I?new zA(xA(c,d,f,g)):oe?new FA(xA(c,d,f,g)):new vA(xA(c,d,f,g));a=this.wp=b=h}return a};q.Nb=function(){return this.jf().Nb()};q.$=function(){return this.qb||(this.qb=this.jf().$())};q.Ga=function(){return this.nd!=k?this.nd:(this.nd=this.jf().Ga())};q.qa=function(){return this.eb||(this.eb=this.jf().qa())};q.sb=function(){return this.Tc!=k?this.Tc:(this.Tc=this.jf().sb())};q.Vq=function(){return this.rj};
q.Ep=function(a,b){var c=a.la();if(c=="text")return this.jf().Ep(a.jf(),b);else if(c=="control"){var d=a.Ot(),f=b?xb:yb;return f(d,function(g){return this.containsNode(g,b)},this)}return l};var LA=function(a){if(H){var b=l;try{b=a.parentNode}catch(c){}return!!b}else return nm(a.ownerDocument.body,a)};q=IA.prototype;q.Uq=function(){return(!this.qb||LA(this.qb))&&(!this.eb||LA(this.eb))&&(!H||this.jf().Uq())};q.isCollapsed=function(){return this.jf().isCollapsed()};q.Sd=function(){return this.jf().Sd()};
q.cl=function(){return new sA(this.$(),this.Ga(),this.qa(),this.sb())};q.select=function(){this.jf().select(this.rj)};q.Ik=function(){this.jf().Ik();this.Bf()};q.surroundContents=function(a){var b=this.jf().surroundContents(a);this.Bf();return b};q.insertNode=function(a,b){var c=this.jf().insertNode(a,b);this.Bf();return c};q.wB=function(a,b){this.jf().wB(a,b);this.Bf()};q.JA=function(){return new MA(this)};
q.collapse=function(a){var b=this.Vq()?!a:a;this.wp&&this.wp.collapse(b);if(b){this.eb=this.qb;this.Tc=this.nd}else{this.qb=this.eb;this.nd=this.Tc}this.rj=l};var MA=function(a){this.EZ=a.I3();this.Cla=a.J3();this.u3=a.BO();this.ssa=a.CO()};B(MA,jA);MA.prototype.YH=function(){return mA(this.EZ,this.Cla,this.u3,this.ssa)};MA.prototype.n=function(){MA.f.n.call(this);this.u3=this.EZ=k};var NA=function(){};B(NA,rA);var OA=function(a){var b=new NA;b.Y=a;return b},PA=function(){for(var a=Nl(arguments[0]).body.createControlRange(),b=0,c=arguments.length;b<c;b++)a.addElement(arguments[b]);return OA(a)};q=NA.prototype;q.Y=k;q.$a=k;q.kB=k;q.Bf=function(){this.kB=this.$a=k};q.ua=function(){return PA.apply(this,this.Ot())};q.la=function(){return"control"};q.Jf=function(){return this.Y||document.body.createControlRange()};q.Dq=function(){return this.Y?this.Y.length:0};q.fh=function(a){return pA(this.Y.item(a))};
q.Nb=function(){return rm.apply(k,this.Ot())};q.$=function(){return this.rP()[0]};q.Ga=function(){return 0};q.qa=function(){var a=this.rP(),b=qb(a);return Ab(a,function(c){return nm(c,b)})};q.sb=function(){return this.qa().childNodes.length};q.Ot=function(){if(!this.$a){this.$a=[];if(this.Y)for(var a=0;a<this.Y.length;a++)this.$a.push(this.Y.item(a))}return this.$a};q.rP=function(){if(!this.kB){this.kB=this.Ot().concat();this.kB.sort(function(a,b){return a.sourceIndex-b.sourceIndex})}return this.kB};
q.Uq=function(){var a=l;try{a=yb(this.Ot(),function(c){return H?c.parentNode:nm(c.ownerDocument.body,c)})}catch(b){}return a};q.isCollapsed=function(){return!this.Y||!this.Y.length};q.Sd=function(){return""};q.cl=function(){return new QA(this)};q.select=function(){this.Y&&this.Y.select()};q.Ik=function(){if(this.Y){for(var a=[],b=0,c=this.Y.length;b<c;b++)a.push(this.Y.item(b));C(a,Z);this.collapse(l)}};q.Kr=function(a){var b=this.insertNode(a,j);this.isCollapsed()||this.Ik();return b};q.JA=function(){return new RA(this)};
q.collapse=function(){this.Y=k;this.Bf()};var RA=function(a){this.$a=a.Ot()};B(RA,jA);RA.prototype.YH=function(){for(var a=this.$a.length?Nl(this.$a[0]):document,b=a.body.createControlRange(),c=0,d=this.$a.length;c<d;c++)b.addElement(this.$a[c]);return OA(b)};RA.prototype.n=function(){RA.f.n.call(this);delete this.$a};var QA=function(a){if(a){this.$a=a.rP();this.qb=this.$a.shift();this.eb=qb(this.$a)||this.qb}qA.call(this,this.qb,l)};B(QA,qA);q=QA.prototype;q.qb=k;q.eb=k;q.$a=k;q.$=function(){return this.qb};
q.qa=function(){return this.eb};q.tz=function(){return!this.Sg&&!this.$a.length};q.sa=function(){if(this.tz())e(Sb);else if(!this.Sg){var a=this.$a.shift();this.setPosition(a,1,1);return a}return QA.f.sa.call(this)};q.ul=function(a){this.$a=a.$a;this.qb=a.qb;this.eb=a.eb;QA.f.ul.call(this,a)};q.ua=function(){var a=new QA(k);a.ul(this);return a};var SA=function(){this.Mi=[];this.Bg=[];this.oa=this.Ov=k};B(SA,rA);var TA=function(a){var b=new SA;b.Bg=a;b.Mi=vb(a,function(c){return c.Jf()});return b};q=SA.prototype;q.u=D("goog.dom.MultiRange");q.Bf=function(){this.Bg=[];this.oa=this.Ov=k};q.ua=function(){var a,b=new SA;b.Mi=Jb(this.Mi);return a=b};q.la=function(){return"mutli"};q.Jf=function(){this.Mi.length>1&&this.u.S("getBrowserRangeObject called on MultiRange with more than 1 range");return this.Mi[0]};q.Dq=function(){return this.Mi.length};
q.fh=function(a){this.Bg[a]||(this.Bg[a]=JA(HA(this.Mi[a]),void 0));return this.Bg[a]};q.Nb=function(){if(!this.oa){for(var a=[],b=0,c=this.Dq();b<c;b++)a.push(this.fh(b).Nb());this.oa=rm.apply(k,a)}return this.oa};q.Gy=function(){if(!this.Ov){this.Ov=this.Eq();this.Ov.sort(function(a,b){var c=a.$(),d=a.Ga(),f=b.$(),g=b.Ga();if(c==f&&d==g)return 0;return KA(c,d,f,g)?1:-1})}return this.Ov};q.$=function(){return this.Gy()[0].$()};q.Ga=function(){return this.Gy()[0].Ga()};q.qa=function(){return qb(this.Gy()).qa()};
q.sb=function(){return qb(this.Gy()).sb()};q.Uq=function(){return yb(this.Eq(),function(a){return a.Uq()})};q.isCollapsed=function(){return this.Mi.length==0||this.Mi.length==1&&this.fh(0).isCollapsed()};q.Sd=function(){return vb(this.Eq(),function(a){return a.Sd()}).join("")};q.cl=function(){return new UA(this)};q.select=function(){var a=oA(this.ka());a.removeAllRanges();for(var b=0,c=this.Dq();b<c;b++)a.addRange(this.fh(b).Jf())};q.Ik=function(){C(this.Eq(),function(a){a.Ik()})};q.JA=function(){return new VA(this)};
q.collapse=function(a){if(!this.isCollapsed()){var b=a?this.fh(0):this.fh(this.Dq()-1);this.Bf();b.collapse(a);this.Bg=[b];this.Ov=[b];this.Mi=[b.Jf()]}};var VA=function(a){this.NT=vb(a.Eq(),function(b){return b.JA()})};B(VA,jA);VA.prototype.YH=function(){var a=vb(this.NT,function(b){return b.restore()});return TA(a)};VA.prototype.n=function(){VA.f.n.call(this);C(this.NT,function(a){a.l()});delete this.NT};
var UA=function(a){if(a)this.oo=vb(a.Gy(),function(b){return Ub(b)});qA.call(this,a?this.$():k,l)};B(UA,qA);q=UA.prototype;q.oo=k;q.ED=0;q.$=function(){return this.oo[0].$()};q.qa=function(){return qb(this.oo).qa()};q.tz=function(){return this.oo[this.ED].tz()};q.sa=function(){try{var a=this.oo[this.ED],b=a.sa();this.setPosition(a.node,a.ze,a.Sg);return b}catch(c){if(c!==Sb||this.oo.length-1==this.ED)e(c);else{this.ED++;return this.sa()}}};q.ul=function(a){this.oo=Jb(a.oo);UA.f.ul.call(this,a)};
q.ua=function(){var a=new UA(k);a.ul(this);return a};var yA=function(a){var b=oA(a||window);return b&&WA(b)},WA=function(a){var b,c=l;if(a.createRange)try{b=a.createRange()}catch(d){return k}else if(a.rangeCount)if(a.rangeCount>1){for(var f,g=a,h=new SA,i=0,m=g.rangeCount;i<m;i++)h.Mi.push(g.getRangeAt(i));return f=h}else{b=a.getRangeAt(0);c=KA(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)}else return k;return b&&b.addElement?OA(b):JA(HA(b),c)},XA=function(a,b){return mA(a,b,a,b)},YA=function(a){var b=oA(a||window);if(b)if(b.empty)try{b.empty()}catch(c){}else b.removeAllRanges()},
KA=function(a,b,c,d){if(a==c)return d<b;var f;if(a.nodeType==1&&b)if(f=a.childNodes[b]){a=f;b=0}else if(nm(a,c))return j;if(c.nodeType==1&&d)if(f=c.childNodes[d]){c=f;d=0}else if(nm(c,a))return l;return(qm(a,c)||b-d)>0};var ZA=function(a,b,c){this.ub=a;this.DKa=!!c;a&&!b&&this.sa()};B(ZA,Tb);ZA.prototype.sa=function(){var a=this.ub;if(!a)e(Sb);this.ub=this.DKa?a.previousSibling:a.nextSibling;return a};var $A=function(a,b,c){s(c)||(c=b&&a.childNodes.length?a.childNodes.length-1:0);ZA.call(this,a.childNodes[c],j,b)};B($A,ZA);var aB=pc("ADDRESS","BLOCKQUOTE","BODY","CAPTION","CENTER","COL","COLGROUP","DIR","DIV","DL","DD","DT","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","HR","ISINDEX","OL","LI","MAP","MENU","OPTGROUP","OPTION","P","PRE","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","TL","UL"),bB=pc("IMG","IFRAME","EMBED"),cB=function(a){return Ol(a).kG()},eB=function(a){for(var b;b=dB(a);)a=b;return a},gB=function(a){for(var b;b=fB(a);)a=b;return a},fB=function(a){return!a||a.nodeType!=1?k:hB(Wb(new $A(a,l),iB))},
dB=function(a){return!a||a.nodeType!=1?k:hB(Wb(new $A(a,j),iB))},jB=function(a){return hB(Wb(new ZA(a,l,j),iB))},kB=function(a){return hB(Wb(new ZA(a),iB))},hB=function(a){try{return a.sa()}catch(b){return k}},iB=function(a){return a.nodeType==1||a.nodeType==3&&!Ea(a.nodeValue)},lB=function(a,b){var c=Em(a);if(a.getElementsByTagName)for(var d in bB)if(a.tagName==d||a.getElementsByTagName(d).length>0)return l;return!b&&c=="\u00a0"||Ea(c)},mB=function(a){return a.length||a.childNodes.length},nB=function(a,
b){for(var c=0,d=a.childNodes.length;c<d;c++)if(b(a.childNodes[c]))return c;return k},oB=function(a,b){for(var c=a.parentNode,d=k;c&&b(c);){d=c;c=c.parentNode}return d},pB=function(a){return!!aB[a.tagName]},qB=function(a){for(;a&&a.nodeType==3&&!a.nodeValue;)a=a.nextSibling;return a},rB=function(a){return a.getAttribute&&a.getAttribute("g_editable")=="true"},sB=function(a,b){for(var c=k;a&&!rB(a);){if(b(a))c=a;a=a.parentNode}return c},tB=function(a,b,c){for(var d;a!=c&&(d=a.parentNode);){for(var f=
a,g=b,h=d.cloneNode(l);f.nextSibling;)h.appendChild(f.nextSibling);g&&h.insertBefore(g,h.firstChild);b=h;a=d}return b};var uB=function(a){var b=a&&a.nodeName.toLowerCase(),c;if(c=a){var d;var f="display";d=a.nodeType!=1?k:H?mq(a,f):lq(a,f);c=d=="block"||b=="td"||b=="table"||b=="li"}return!!c},vB=function(a){return Fm(a,uB,j)};var xB=function(a,b){var c=wB(a,1,b);c=wB(c,0,b);var d=c.$(),f=c.qa(),g=c.Ga(),h=c.sb();if(d==f){for(;f!=b&&g==0&&h==mB(f);){var i=f.parentNode;g=sb(i.childNodes,f);h=g+1;f=i}d=f}return mA(d,g,f,h)},wB=function(a,b,c){for(var d=b==1,f=d?a.$():a.qa(),g=d?a.Ga():a.sb(),h=a.Uc();f!=h&&f!=c;){if(d&&g!=0||!d&&g!=mB(f))break;var i=f.parentNode,m=sb(i.childNodes,f);g=d?m:m+1;f=i}var n,o=d?f:a.$(),p=d?g:a.Ga(),r=d?a.qa():f,t=d?a.sb():g;return n=mA(o,p,r,t)},zB=function(a,b){Ol(a);var c=a.parentNode,d=sb(c.childNodes,
a)+(b?0:1),f=yB(c,d,b),g=XA(f.node,f.ji);g.select();return g},AB=function(a){for(var b=k,c=a.firstChild;c;){var d=c.nextSibling;if(c.nodeType==3)if(c.nodeValue=="")a.removeChild(c);else if(b){b.nodeValue+=c.nodeValue;a.removeChild(c)}else b=c;else{AB(c);b=k}c=d}},CB=function(a,b){if(b)var c=BB(b),d=vB(b.Uc());if(d){var f=rm(d,a);H?AB(f):f.normalize()}else if(a){var g=a;H?AB(g):g.normalize()}return c?c():k},DB=function(a,b){return b?yB(a.$(),a.Ga()):yB(a.qa(),a.sb())},BB=function(a){var b=EB(DB(a,
j)),c=b.Q5(),d=b.node.previousSibling;if(b.node.nodeType==3)b.node=k;var f=EB(DB(a,l)),g=f.Q5(),h=f.node.previousSibling;if(f.node.nodeType==3)f.node=k;return function(){if(!b.node&&d){b.node=d.nextSibling;b.node||(b=new FB(d,mB(d)))}if(!f.node&&h){f.node=h.nextSibling;f.node||(f=new FB(h,mB(h)))}return mA(b.node||c.node.firstChild,b.ji,f.node||g.node.firstChild,f.ji)}},EB=function(a){var b;if(a.node.nodeType==3){for(var c=a.node.previousSibling;c&&c.nodeType==3;c=c.previousSibling)a.ji+=mB(c);b=
c}else b=a.node.previousSibling;var d=a.node.parentNode;a.node=b?b.nextSibling:d.firstChild;return a},GB=function(a){var b=a.Uc(),c=a.$()!=b.parentElement;return c&&rB(b)||!!Fm(b,rB)},FB=function(a,b){this.node=a;this.ji=b};FB.prototype.Q5=function(){var a=this.node.parentNode;return new FB(a,sb(a.childNodes,this.node))};
var yB=function(a,b,c){for(;a.nodeType==1;){var d=a.childNodes[b];if(!d&&!a.lastChild)break;if(d){var f=d.previousSibling;if(c&&f){a=f;b=mB(a)}else{a=d;b=0}}else{a=a.lastChild;b=mB(a)}}return new FB(a,b)},HB=function(a){lA.call(this,a)};B(HB,lA);HB.prototype.zA=function(a){var b=this.bj(j),c=this.bj(l),d=b&&c?rm(b,c):b||c;HB.f.zA.call(this);if(a)return CB(d,a);else if(d){var f=d,g=Nl(f),h=yA(Zl(g)),i=CB(f,h);i&&i.select()}};var IB=function(a,b){this.Ela=a;this.s9=b};q=IB.prototype;q.gq=function(){return this.Ela};q.BE=function(){if(!this.bM)this.bM=Em(this.gq());return this.bM};q.q9=function(){return this.s9};q.B8=function(a){this.gq().href=a};q.cOa=function(a,b){var c=this.gq();c.href=b;var d=this.BE();if(a!=d){var f=gB(c);if(f.nodeType==3)f=f.parentNode;if(Em(f)!=d)f=c;gm(f);var g=Ol(f),h=g.createTextNode(a);f.appendChild(h);this.bM=k}this.s9=l};
q.nba=function(){var a=this.gq();if(dA){var b,c=a.nextSibling;if(c&&c.nodeType==3&&(ya(c.data,"\u00a0")||ya(c.data," ")))b=c;else{var d=Ol(a);b=d.createTextNode("\u00a0");im(b,a)}var f=XA(b,1);f.select()}else zB(a,l)};
var JB=function(a,b,c){var d=new IB(a,j);d.B8(b);if(c)a.target=c;return d},LB=function(a){if(/\s/.test(a))return l;if(KB(a))return l;var b=l;if(!/^[^:\/?#.]+:/.test(a)){a="http://"+a;b=j}var c=a.match(Bd),d=c[1];if(sb(["mailto","aim"],d)!=-1)return j;var f=c[3];if(!f||b&&f.indexOf(".")==-1)return l;var g=c[5];return!g||g.indexOf("/")==0},MB=/^[\w-]+(\.[\w-]+)*\@([\w-]+\.)+(\d+|\w\w+)$/i,KB=function(a){return MB.test(a)},NB=function(a){return!!a&&ya(a,"mailto:")};var OB=function(a){var b=/^([a-zA-Z]+):(.*)$/;if(a.match(b)){this.protocol=RegExp.$1.toLowerCase();a=RegExp.$2;if(this.protocol=="mailto"||this.protocol=="javascript"||a.indexOf("//")!=0)this.dYa=j;else a=a.substring(2);var c=/^([^\/]+)/;if(a.match(c)){this.domain=RegExp.$1;a=a.substring(this.domain.length)}}if(a.match(/^(\/|[^?#])/)){var d=/^(.[^?#]*)/;a.match(d);this.path=RegExp.$1;a=a.substring(this.path.length)}if(a.charAt(0)=="?")this.yo=a;else if(a.charAt(0)=="#")this.hash=a};
OB.prototype.ha=function(){var a=[],b=function(c){c&&a.push(c);return c};b(this.protocol)&&b("://");b(this.domain);b(this.path);b(this.hash);b(this.yo);return a.join("")};OB.prototype.O8=function(){return!!this.protocol&&this.protocol!=""};OB.prototype.OR=function(a){if(!this.O8()){this.protocol=a.protocol;this.domain=a.domain;if(this.path){var b;var c=a.path||"/",d=this.path;if(d.match(/^\//))b=d;else{if(c.length>0&&!c.match(/\/$/))c+="/";b=c+d}this.path=b}}};
OB.prototype.$fa=function(){if(this.path)this.path=this.path=="/"?undefined:this.path.replace(/\/$/,"")};var PB=function(a){this.oOa(a)},QB=function(a){var b=a.location.toString(),c=b.substring(0,b.lastIndexOf("/")+1);return new PB({base:c,draft:c,preview:c,live:c,edit:c})};PB.prototype.oOa=function(a){this.xf=a;var b=this.xf.base;this.xf.site=RB(b)};var RB=function(a){return a.substring(0,a.indexOf("/",9))};PB.prototype.ha=function(a,b){if(this.sz(a)){var c=this.xf[b]||this.xf.base;a=c+SB(a)}return a};
PB.prototype.sxa=function(a){if(this.sz(a))if(a.search(/[^:\/\s]+:\/\//)==0)return SB(a);else{var b="about:blank";if(a.indexOf(b)==0)a=a.substring(b.length)}return a};var TB={thumb:96,small:96,medium:200,large:420};PB.prototype.Dy=function(a,b){return TB[b]};PB.prototype.Rt=function(a,b,c){if(b=="thumb")b="small";var d=this.fF(a),f=SB(d),g=f.substring(0,f.lastIndexOf(".")),h=c?";"+c:"",i="/"+d+"/"+g+"-"+b+h+".jpg";return this.ha(i,"live")};
PB.prototype.fF=function(a){if(this.sz(a)&&UB(a)){a=this.ha(a,"live");a=a.substring(0,a.lastIndexOf("/"))}return a};PB.prototype.UG=function(a){for(var b=a.getElementsByTagName("img"),c=0,d=b.length;c<d;c++)b[c].src=this.ha(b[c].src,"live")};
var SB=function(a){var b,c=a,d=c.lastIndexOf("/");if(UB(c))d=c.lastIndexOf("/",d-1);var f="about:blank";if(c.indexOf(f,d+1)==0)d+=f.length;b=d+1;var g=a.lastIndexOf("?");if(g==-1)return decodeURIComponent(a.substring(b));return decodeURIComponent(a.substring(b,g))},UB=function(a){var b=/.*\/([^\/]+)\.\w{1,4}\/([^\/]+)-(small|medium|large|full|custom).*(?:\.\w{1,4})?$/;if(b.test(a)){var c=RegExp.$1,d=RegExp.$2,f=RegExp.$3;if(c==d)return f}return k},VB=l;
PB.prototype.sz=function(a){var b=VB;if(b)if(ma(b))return b(a);else{if(NB(a))return l;var c=l;for(var d in this.xf)if(this.xf[d]!="")c|=a.search(this.xf[d])==0;return c||a.search(/[^:\/\s]+:\/\//)!=0||a.search("/")==0}else return l};var WB=function(a){VB=a};PB.prototype.sG=function(a){return this.sz(a)};
var XB=function(a){if(a.search(/:/)<0)a="http://"+Ka(a);return a},YB=l,ZB=function(a){YB=a},$B=function(a){return a=="http://"||a=="http:///"||a==""||a=="/"},aC=function(a,b){var c=RB(b);return a==c+"/"||a==c},bC=function(a,b){a=new OB(a);a.OR(new OB(b));return a.ha()};var cC=function(a,b){this.xf=a;this.sc=[];this.bD=b;for(var c in this.xf)this.sc.push(c)};q=cC.prototype;q.indexOf=function(a){return sb(this.sc,a)};q.forEach=function(a,b){for(var c=0;c<this.sc.length;c++){var d=this.xf[this.sc[c]];if(!(b&&Bb(b,this.sc[c]))){var f=a(this.sc[c],d);if(f)return f}}};q.j3=function(a,b){if(a.xa||a.title){var c=function(d,f){if((!a.xa||this.yz(a.xa,d))&&(!a.title||a.title==f))return{xa:d,title:f}};return this.forEach(A(c,this),b)}};q.add=function(a,b){this.xf[a]=b;this.sc.push(a)};
q.slice=function(a,b){var c={},d=this.sc.length;if(s(b)&&b<d)d=b;for(var f=a;f<d;f++)c[this.sc[f]]=this.xf[this.sc[f]];return new cC(c,this.bD)};q.yz=function(a,b){if(!a)return l;if(this.BJ)return this.BJ(a,b,this.bD);var c,d=a,f=b,g=this.bD,h=this.bD;d=new OB(d);f=new OB(f);g&&d.OR(new OB(g));h&&f.OR(new OB(h));d.$fa();f.$fa();return c=d.ha()==f.ha()};q.mOa=function(a){this.BJ=a};q.Da=function(){return!this.sc.length};q.length=function(){return this.sc.length};var Wy=function(){this.Qq=[]};q=Wy.prototype;q.aT=function(a,b,c){if(c){var d=this.mD(a),f=this.fu();!f&&this.Qq.length>0&&this.lZ(this.Qq,a);if(!f&&this.Qq.length==0){var g=this.DE();g&&d.appendChild(em(g.w()))}if((f||this.Qq.length==0)&&c.length==0){var h=this.xwa(f);d.appendChild(em(h.w()))}this.lZ(c,a);Yw(b.id,"span","ffffff")}this.qv(l)};q.qv=function(){};
q.lZ=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d){var f=d.url,g=d.title,h=d.html,i=A(this.eZ,this,h,g,f);this.Kka(b,g,f,h,i)}}if(this.uQ&&this.R7)this.R7.innerHTML=this.uQ};q.YU=function(a,b){var c=this.fu();this.uQ=this.rq(c);if(c){if(c!=this.Z9){var d=this.mD(a),f=this.Xwa();d.appendChild(em(f.w()));var g=this.Rw(c,b);g.k(A(this.aT,this,a,b));g.v(A(tt,k,"Error searching"))}this.Z9=c}else this.aT(a,b,[])};q.rq=function(){return""};q.Xwa=function(){return K({b:"div",d:"Please Wait..."})};
q.oxa=function(){var a=K({b:"div",c:"knol-link-tab-refresh"}),b=K({b:"a",href:Hm,id:"knol-link-refresh",d:"Search"});a.addElement(b);return a};q.xwa=function(a){var b;if(a){var c="No results found for "+("<b>"+Pe(a)+"</b>");b=c}else b="No results found";return K({b:"div",c:"knol-search-bullet",d:b})};q.Kka=function(a,b,c,d,f){var g=a.nF();g.OK(b,c,f);a.$ka(c,d)};q.d8=function(a){return a};q.mD=function(a){var b=a.nF(),c=b.t5();gm(c);a.sc=new cC({},"");return c};
q.refresh=function(a,b,c){c&&c.preventDefault();this.YU(a,b)};var dC=function(a,b,c){this.qHa=a;this.pHa=b;this.Jg=c};dC.prototype.Kb=function(a){if(this.Jg!=a){this.w_(this.qHa);this.Jg=a;this.w_(this.pHa)}};dC.prototype.w_=function(a){this.Jg&&a(this.Jg)};dC.prototype.Ab=function(){return this.Jg};var eC=function(){var a=this;this.ff=new fq(this);this.Xy=new dC(function(b){a.Kw(b,0)},function(b){a.Kw(b,2);a.dispatchEvent({type:"select",ya:b})});this.Dfa=new dC(function(b){b!=a.Xy.Ab()&&a.Kw(b,0)},function(b){b!=a.Xy.Ab()&&a.Kw(b,1)})};B(eC,Oi);q=eC.prototype;q.n=function(){this.ff.l();this.ff=k;eC.f.n.call(this)};q.Kw=function(a,b){a.style.background=["","#FFFFE0","#FFFFCC"][b]};q.By=function(){return this.Xy.Ab()};q.sf=function(a){this.Xy.Kb(a)};
q.add=function(a,b){var c=this,d=b&&b.onclick?b.onclick:fC(c,a),f=b&&b.ondblclick?b.ondblclick:function(){},g=b&&b.onmouseover?b.onmouseover:gC(c,a),h=b&&b.onmouseout?b.onmouseout:hC(c);this.ff.g(a,"click",d,j);this.ff.g(a,"dblclick",f,j);this.ff.g(a,"mouseover",g,j);this.ff.g(a,"mouseout",h,j)};var fC=function(a,b){return function(){a.Xy.Kb(b)}},gC=function(a,b){return function(){a.Dfa.Kb(b)}},hC=function(a){return function(){a.Dfa.Kb(k)}};var iC=function(){eC.call(this)};B(iC,eC);var jC=["knol-selection-normal","knol-selection-hover","knol-selection-selected"];iC.prototype.Kw=function(a,b){var c=jC.concat(),d=c.splice(b,1);X.Fka(a,c,d)};var hu=function(a,b,c){this.Sb=c;this.Qq=[];this.DDa=b;var d=K({b:"div",children:[{b:"input",type:"text",size:45,maxlength:200,id:"knol-template-search-text",c:"knol-template-search-text"},{b:"input",type:"button",value:"Search",id:"knol-template-search-button"}]}),f=K({b:"div",id:"knol-template-search-header",c:"knol-template-search-header"}),g=K({b:"div",id:"knol-template-search-bodydiv",children:[{b:"div",id:"knol-template-search-results",c:"knol-template-search-results"}]});a.appendChild(em(d.w()));
a.appendChild(em(f.w()));a.appendChild(em(g.w()));this.mJ=Y("knol-template-search-text");this.vp=Y("knol-template-search-bodydiv");this.ld=Y("knol-template-search-results");this.R7=Y("knol-template-search-header");this.uQ=this.rq("");var h=Y("knol-template-search-button");if(h)this.o_=zu(h);this.GD=new fz({});this.sc=new cC({},"");this.rv=new iC;this.GD.Lda(this.vp,this.ld);V(this.mJ,"click",A(function(){this.qv(j)},this));V(this.mJ,"change",A(this.uha,this));V(this.mJ,"keyup",A(this.uha,this));V(this.rv,
"select",A(function(){this.qv(j,l)},this));this.o_&&V(this.o_,"action",A(function(i){this.qv(j);this.Z9=k;this.refresh(this.GD,this.vp,i)},this))};F(hu,Wy);q=hu.prototype;q.uha=function(){this.qv(j);if(!this.cf)this.cf=new bz(A(this.refresh,this,this.GD,this.vp),400);this.cf.start()};q.qv=function(a,b){var c=this.ha();if(c){var d=Y("radio-"+c);if(d)d.checked="checked"}this.Sb(a,b)};
q.eZ=function(a,b,c){var d=am("div",{innerHTML:this.d8(a,c),xa:c,title:b}),f={ondblclick:A(this.aI,this,d)};this.rv.add(d,f);return d};q.aI=function(a){this.rv.sf(a);this.Sb(j,j)};q.Rw=function(a,b){return W("knol.ui.AdvancedSearchResults.templateSearch",[a,b.id,this.DDa])};q.rq=function(a){if(a){var b="Search results for "+(bf(a)+":");return b}if(fg()=="knol"&&Uf())return"Current knol:";return"Search for a knol to copy:"};q.DE=function(){return k};q.fu=function(){return this.mJ.value||""};
q.ha=function(){var a=this.rv.By();if(a&&a.xa)return a.xa;return""};q.eea=function(a){this.Qq=a;this.YU(this.GD,this.vp)};q.z4=function(){return this.vp};q.mD=function(a){this.rv.sf(k);return Wy.prototype.mD.call(this,a)};
q.d8=function(a,b){var c=K({b:"div",c:"knol-template-wrapper",children:[{b:"input",type:"radio",id:"radio-"+b,name:"selector",c:"knol-template-search-radio"},{b:"label","for":"radio-"+b,children:[{b:"div",c:"knol-template-search-leftwrap",d:a},{b:"a",c:"knol-template-search-rightwrap",d:"view",href:b,target:"_blank"}]},{b:"div",c:"knol-clearer-div"}]});return c.w()};var kC=function(a,b){this.Sb=b;hu.call(this,a,l,b)};F(kC,hu);kC.prototype.DMa=function(a){this.Sq=a};kC.prototype.Rw=function(a,b){if(this.Sq||!a)return W("knol.ui.AdvancedSearchResults.myKnolsSearch",[Vf(),b.id,a,Sf(),this.Sq,j]);return W("knol.ui.AdvancedSearchResults.linkSearch",[a,b.id,10,"0",Sf(),j])};kC.prototype.rq=function(a){if(a)return hu.prototype.rq.call(this,a);return"Search results for your knols:"};kC.prototype.DE=function(){return k};var lC=function(){this.Ww=k;Sy.call(this)};F(lC,Sy);var rC=function(a,b){var c=new lC;c.Sb=a;c.Yaa=b;return c};q=lC.prototype;
q.eF=function(a){if(a=="option-new"){var b=this.bg("option-new",l,"Create a new knol to submit to this collection.");return b}else if(a=="option-choose"){b=this.bg("option-choose",j,"Submit an existing knol to this collection.");this.Sq&&b.addElement({b:"div",c:"knol-collect-suboption",d:"Knols can only be submitted by their authors.  Knols can only be in one moderated collection at a time."});b.addElement({b:"div",c:"knol-collect-suboption",d:"Select a knol or search for a published knol to be added to this collection.  You may also enter a knol address."});
b.addElement(K({b:"div",c:"knol-selector-search",id:"knol-collect-knol-search"}));return b}return k};q.$N=function(){if(this.Sq){var a=this.D.fd(),b=K();b.addElement({b:"hr",c:"knol-manage-delimiter"});b.addElement({b:"div",c:"knol-collect-suboption",d:Vy(a)});var c=Lo(a,"knol-collect-suboption","knol-collect-subli");b.addElement(c);var d=this.D.hy();b.addElement(Mo(d,"knol-collect-suboption"));return b}else return k};
q.OD=function(a){var b=A(st,this,this.tra);if(this.Ks=="option-new"){var c=new tk(hk(Vf()),"createKnol");c.ma([k,k,k,k,k,k,k,k,k,k,k,k,Sf()],A(function(d){d||b();var f=O({Uf:d});this.Sb.call(this.Yaa,f.p(),f.ha())},this),b)}else if(this.Ww)this.Sb.call(this.Yaa,this.Ww);else{a&&a.preventDefault();alert("Please select a knol or enter a valid knol address")}};
q.RP=function(a){var b=k,c=l;if(this.Dg){var d=this.Dg.ha();if(d)b=Sj(d);else{var f=this.Dg.fu();b=Sj(f)}c=!b}this.Ww=k;this.Xe("");if(c){this.Cc(l);a()}else if(b){this.Cc(l);this.Mo("Verifying");rk(A(function(){var g=l;if(b){var h=O(b);if(this.Sq){var i=h.Ja();if(i&&i.ana(this.J)){g=j;this.Ww=b}else if(i.Ca())this.Xe("You can not put a collection into a moderated collection.");else if(i.Id())this.Xe("You can not put a moderated collection into another moderated collection.");else if(i.Mf())i.Ca()?
this.Xe("The collection is already in a moderated collection."):this.Xe("The knol is already in a moderated collection.");else i.Ca()?this.Xe("You can only add collections you own into a moderated collection."):this.Xe("You can only add knols you own into a moderated collection.")}else if(h){this.Ww=b;g=j}else this.Xe("The item selected is not a valid knol or collection.")}this.Mo("Done");this.Cc(g);a()},this),A(function(){this.Mo("Done");this.Cc(l);a()},this))}else{this.Cc(j);a()}};
q.PK=function(){this.Dg&&this.Dg.DMa(this.Sq)};q.pP=function(){return kC};q.cG=function(){this.Sq=this.D.Id()};var gy=function(){this.j=new fq(this);this.Wa=k;this.dba=0;this.Eaa=Uf().kk()<Q().Vl()},yC=function(){var a=G(gy);a.Ji(j);a.t7();a.Tza();ex(a.wza,a)};u("knol.ui.client.Collection.init",yC,void 0);q=gy.prototype;q.AMa=function(a){this.Wa=a};q.vJ=function(a){var b=Y("knol-collection-content");if(b&&a!=k){this.Oj();b.innerHTML=a;this.Ji(l)}};q.Oj=function(){this.Wa&&this.Wa.Oj();this.Zc()};q.Ji=function(a){a&&this.YKa();this.ZKa();this.Lb();this.Wa&&this.Wa.Ji(a);this.gJa();this.kza()};
q.Fy=function(){var a=Y("knol-collection-sort");if(a){var b=parseInt(a.value,10);if(!isNaN(b))return b}return 19};q.Gea=function(a){var b=Y("knol-collection-sort");if(b)b.value=String(a)};q.Ey=function(){var a=Y("knol-collection-reverse");if(a)return!!a.checked;return l};q.Fea=function(a){var b=Y("knol-collection-reverse");if(b)b.checked=a};var zC=function(a){tt(k,a)};q=gy.prototype;q.Ux=function(){return this.Una};q.Xta=function(){return this.Tna};q.pua=function(){return this.dba};
q.YKa=function(){var a=[],b=Y("knol-collection-list");if(b)for(var c=b.innerHTML.split(/\s/),d=0;d<c.length;d++)c[d]&&a.push(c[d]);this.Una=a;this.XKa()};q.XKa=function(){var a=[],b=Y("knol-collection-hidelist");if(b)for(var c=b.innerHTML.split(/\s/),d=0;d<c.length;d++)c[d]&&a.push(c[d]=="true");this.Tna=a};q.ZKa=function(){var a=Y("knol-collection-pagination-current-page-start");if(a)this.dba=parseInt(a.innerHTML,10)};q.gJa=function(){Yw("knol-searchresults-id","div","ffffff")};
q.t7=function(){var a=Uf(),b=Q(),c=Vf();if(a&&c&&b&&b.ec(c)&&b.Vl()>1){var d=xa(),f=a.$x();if(d-f<3E5){var g=Y("knol-collection-stale");if(g){g.style.display="";g.innerHTML="Recently modified collections can take a few minutes to update.  If any published knols are missing try refreshing the page."}}}};
q.Tza=function(){var a=l,b=Uf(),c=Q(),d=Vf(),f=b&&d&&c&&c.ec(d),g=Y("knol-collection-pagination-message");if(g&&b){var h="Sorry, we are unable to process the number of results being requested. Try searching within the collection or go back to the "+('<a href="'+b.ha()+'">first page</a> of the collection.');g.style.display="";g.innerHTML=h;a=j}if(g=Y("knol-collection-message"))if(f){g.style.display="";g.innerHTML='There are no published knols in this collection. <a href="#edit">Edit</a> this collection to add a knol.';
a=j}if(!a&&G(Fv).Js())if(g=Y("knol-collection-manage")){g.style.display="";g.innerHTML='Change how your collection looks.  Check out the collection display section in <a href="#manage-collection">settings</a>.'}};q.wza=function(){this.RCa=j;var a=Y("knol-collection-control");if(a)a.style.display="none"};q.kza=function(){if(Wf()){var a=G(Fv);if(a.Is()&&!this.RCa){var b=Y("knol-collection-control");if(b){b.style.display="block";var c=Y("knol-collection-add");c&&this.j.g(c,"click",this.lza)}}}};
q.Lb=function(){var a=Y("knol-collection-sort");a&&this.j.g(a,"change",this.HF);var b=Y("knol-collection-reverse");b&&this.j.g(b,"change",this.HF);var c=Y("knol-collection-pagination");c&&this.j.g(c,"click",this.yAa)};q.Zc=function(){this.j.pb()};q.HF=function(a){if(this.Wa)this.Wa.HF(a);else{var b=W("knol.ui.AdvancedSearchResults.doCollectionPageSearch",[Sf(),this.Fy(),this.Ey()]);b.k(this.vJ,this);b.v(zC)}};
q.yAa=function(a){a.preventDefault();var b=a.target,c;if(b&&b.nodeName==Kl&&(c=uf(b.className,"knol-search-knol-pagination"))){var d=c.split("_"),f=parseInt(d[1],10),g=parseInt(d[2],10);this.Wa?this.Wa.fH(f,g):this.fH(f,g)}};q.fH=function(a,b){if(this.Eaa)return this.oaa(a,b,l);var c=W("knol.ui.AdvancedSearchResults.doCollectionPageSearch",[Sf(),this.Fy(),this.Ey(),a,b]);c.k(this.vJ,this);c.v(zC);return c};
q.oaa=function(a,b,c){var d=this.Ux().slice(a,a+b).join(","),f=W("knol.ui.AdvancedSearchResults.doCollectionItemsSearch",[d,Sf(),c,a,this.Ux().length,undefined,undefined,undefined,Q().Id()&&G(Fv).pl()]);f.k(this.vJ,this);f.v(zC);return f};q.lza=function(a){if(this.Wa)this.Wa.mza(a);else{a.preventDefault();rC(this.GM,this)}};q.GM=function(a,b){var c=k;if(a==Sf())c="A collection cannot be added to itself.  Please select a different collection.";c?ba.setTimeout(function(){st(c)},0):$y(a,Q(),G(Lp),b)};
var By=function(a){var b=Y("knol-collection-container");if(b)b.style.display=a?"":"none"},ny=function(){var a=Y("knol-collection-container");return!!(a&&a.style.display!="none")},BC=function(a){var b=Wf();if(b){var c=sj(Rf(),"checkCollectionReviewer",[b.p(),a]);c.k(function(d){if(d&&d[0]===0){var f=K({b:"span",d:"This submission was automatically discarded because it has been accepted into another moderated collection."});Pt();Ot(f.w());var g=Y("knol-chatlog");if(g)g.style.display="none"}else if(!(!d||
!d[0]||!d[3])){var h=d[3],i=K({b:"a",href:d[2],d:d[1]}),m=" Review the knol and "+('<a href="'+Hm+'" id="knol-moderate-accept-link">'+("accept"+("</a>"+(" or "+('<a href="'+Hm+'" id="knol-moderate-reject-link">'+("reject"+("</a>"+(" this submission to "+(i.w()+".")))))))));f=K({b:"span",d:m});Pt();Ot(f.w());AC(a,h)}});c.v(function(d){Jx(k,d)})}};u("knol.ui.client.Collection.addAcceptRejectLinks",BC,void 0);
var AC=function(a,b){var c=Y("knol-moderate-accept-link");c&&V(c,"click",function(){CC(j,a,b)});var d=Y("knol-moderate-reject-link");d&&V(d,"click",function(){CC(l,a,b)})},CC=function(a,b,c){var d=A(DC,k,a,b,c),f=A(EC,k);new ay(Rf(),b,a,d,f)},DC=function(a,b,c){$x();var d=k,f=function(){Pt();var h="An error has occurred.  Please reload the page and try again.";if(d==2)h="You don't have permission to review this submission.  Please reload the page and sign in again.";else if(d==3)h="This submission no longer exists.  It may already be reviewed by another moderator or reverted by the submitter.";
else if(d==4)h="The collection has been changed and this submission no longer applies.";else if(d==5)h="This submission was automatically discarded because it has been accepted into another moderated collection.";Ot(h)},g=W("knol.ui.Submissions.review",[b,a,c]);g.k(function(h){var i;i=h instanceof Array&&h.length==2?h[0]:h instanceof Array?1:h;if(i!=-1){d=i;f.call()}else{Pt();a?Ot("The knol is now a part of the collection.  This may take a few minutes to complete."):Ot("The knol has been rejected.")}});
g.v(f)},EC=function(){Zx()};var FC=function(){this.Lm=k},GC=function(){var a=G(FC);a.dc()};u("knol.ui.client.CollectionSubmissionReviews.init",GC,void 0);FC.prototype.dc=function(){var a=Wf(),b=Q();if(a&&b){var c=new Ed(document.location.href);(this.Lm=c.Pf("submissionId")||k)&&this.refresh()}};FC.prototype.refresh=function(){var a=W("knol.ui.CollectionSubmissionReviews.get",[Rf(),this.Lm]);a.k(function(b){if(b){var c=Y("knol-collection-submission-reviews");if(c){c.style.display="";c.innerHTML=b}}},this)};var HC=function(a){if(!Wf()){var b=Y(a),c=b&&b.href;if(c)b.href=hf(c)}};u("knol.ui.client.CreateAbuseReport",HC,void 0);var IC=function(a){return function(){return a}},JC=IC(l),KC=IC(j);var NC=function(a,b,c){$q.call(this,c);this.dd=b||LC;this.e8=a;this.rXa=k;MC[this.p()]=this};B(NC,$q);var MC={};q=NC.prototype;q.yd=l;q.ak=l;q.SQa=k;q.mla="";q.vG=j;q.MD=-1;q.n=function(){NC.f.n.call(this);if(this.cp){this.cp.removeNode(this);this.cp=k}this.Wd(k);delete MC[this.p()]};
q.ZF=function(){var a=this.e();if(a){var b=this.OO();if(b&&!b.id)b.id=this.p()+".label";dq(a,"treeitem");eq(a,"selected",l);eq(a,"expanded",l);eq(a,"level",this.Jt());b&&eq(a,"labelledby",b.id);var c=this.GO();c&&dq(c,"presentation");var d=this.wO();d&&dq(d,"presentation");var f=this.Gt();dq(f,"group");if(f.hasChildNodes())for(var g=this.ah(),h=1;h<=g;h++){var i=this.sd(h-1).e();eq(i,"setsize",g);eq(i,"posinset",h)}}};
q.h=function(){var a;if(H){var b=this.L().createElement("div");b.style.display="none";document.body.appendChild(b);var c=new yg;this.toHtml(c);b.innerHTML=c;var d=b.removeChild(b.firstChild);document.body.removeChild(b);a=d}else{b=this.L().createElement("div");c=new yg;this.toHtml(c);b.innerHTML=c;a=b.removeChild(b.firstChild)}this.Wd(a);return a};q.za=function(){NC.f.za.call(this);this.ZF()};
q.dl=function(a,b){var c=this.sd(b-1),d=this.sd(b);NC.f.dl.call(this,a,b);a.Br=c;a.so=d;if(c)c.so=a;else this.s3=a;if(d)d.Br=a;else this.V9=a;var f=this.Hd();f&&a.BU(f);a.bU(this.Jt()+1);if(this.e()&&(!f||!f.sF())){this.bw();if(this.dh()){var g=this.Gt();a.e()||a.h();var h=a.e(),i=d&&d.e();g.insertBefore(h,i);this.nc()&&a.za();if(!d)if(c)c.bw();else{$(g,j);this.Vf(this.dh())}}}};q.add=function(a,b){a.gb()&&a.gb().removeChild(a);this.dl(a,b?this.Bu(b):this.ah());return a};
q.removeChild=function(a){var b=a,c=this.Hd(),d=c?c.Uh():k;if(d==b||b.contains(d))if(c.hasFocus()){this.select();Si(this.uHa,10,this)}else this.select();if(b.gb()!=this)e(Error("Can only remove children"));NC.f.removeChild.call(this,b);if(this.V9==b)this.V9=b.Br;if(this.s3==b)this.s3=b.so;if(b.Br)b.Br.so=b.so;if(b.so)b.so.Br=b.Br;var f=b.nG();b.cp=k;b.MD=-1;if(c){c.removeNode(this);if(this.nc()&&!c.sF()){var g=this.Gt();if(b.nc()){var h=b.e();g.removeChild(h);b.yc()}if(f){var i=this.k5();i&&i.bw()}if(!this.Td()){g.style.display=
"none";this.bw();this.Yga()}}}return b};q.remove=NC.prototype.removeChild;q.uHa=function(){this.select()};q.Jt=function(){var a=this.MD;if(a<0){a=this.foa();this.bU(a)}return a};q.foa=function(){var a=this.gb();return a?a.Jt()+1:0};q.bU=function(a){if(a!=this.MD){this.MD=a;var b=this.au();if(b){var c=this.V5()+"px";if(this.le())b.style.paddingRight=c;else b.style.paddingLeft=c}this.we(function(d){d.bU(a+1)})}};q.contains=function(a){for(;a;){if(a==this)return j;a=a.gb()}return l};var OC=[];q=NC.prototype;
q.X3=function(){return this.uc?this.uc:OC};q.O4=function(){return this.sd(0)};q.k5=function(){return this.sd(this.ah()-1)};q.axa=function(){return this.Br};q.uwa=function(){return this.so};q.nG=function(){return!this.so};q.nR=function(){return this.yd};q.select=function(){this.SNa(j)};q.SNa=function(){var a=this.Hd();a&&a.xh(this)};q.Aea=function(a){if(this.yd!=a){this.yd=a;this.aha();var b=this.Hd(),c=this.e();if(c){eq(c,"selected",a);a&&eq(b.e(),"activedescendant",this.p())}}};q.dh=function(){return this.ak};
q.Vf=function(a){var b=a!=this.ak;if(b){var c=!this.dispatchEvent(a?"beforeexpand":"beforecollapse");if(c)return}var d;this.ak=a;var f=this.Hd(),g=this.e();if(this.Td()){var h=f?f.Uh():k;!a&&this.contains(h)&&this.select();if(g){if(d=this.Gt()){d.style.display=a?"block":"none";if(a&&this.nc()&&!d.hasChildNodes()){var i=new yg;this.we(function(m){m.toHtml(i)});d.innerHTML=i.toString();this.we(function(m){m.za()})}}this.bw()}}else if(d=this.Gt())d.style.display="none";f&&this.Yga();g&&eq(g,"expanded",
a);if(b)this.dispatchEvent(a?"expand":"collapse")};q.Yv=function(){this.Vf(!this.dh())};q.expand=function(){this.Vf(j)};q.collapse=function(){this.Vf(l)};q.DT=function(){var a=this.gb();if(a){a.Vf(j);a.DT()}};q.toHtml=function(a){var b=this.Hd(),c=!b.s6()||b==this.gb()&&!b.t6(),d=c?this.dd.Jpa:this.dd.Ipa,f=this.dh()&&this.Td();a.db('<div class="',this.dd.Spa,'" id="',this.p(),'">',this.Ixa(),'<div class="',d,'" style="',this.Qva(),f?"":"display:none;",'">');f&&this.we(function(g){g.toHtml(a)});a.db("</div></div>")};
q.V5=function(){return Math.max(0,(this.Jt()-1)*this.dd.u8)};q.Ixa=function(){this.Hd();var a=new yg;a.db('<div class="',this.oF(),'" style="padding-',this.le()?"right:":"left:",this.V5(),'px">',this.I4(),this.qva(),this.Jva(),"</div>");return a.toString()};q.oF=function(){var a;a=this.nR()?" selected":"";return this.dd.Vpa+a};
q.Jva=function(){var a=this.wya();this.Hd();var b=new yg;b.db('<span class="',this.dd.Tpa,'" ',a?' title="'+Ta(a)+'" ':" ",">",this.iy(),"</span>","<span>",this.gta(),"</span>");return b.toString()};q.gta=function(){return this.mla};q.qva=function(){var a=this.RN();return a?cb('<img class="',a,'" src="',this.dd.oD,'">'):cb('<img style="display:none"','" src="',this.dd.oD,'">')};q.I4=function(){return cb('<img type="expand" class="',this.H4(),'" src="',this.dd.oD+'">')};
q.H4=function(){var a=this.Hd(),b=!a.s6()||a==this.gb()&&!a.t6(),c=this.dd,d=new yg;d.db(this.dd.Zs," ",c.Kpa," ");if(this.Td()){var f=0;if(a&&a.Uxa()&&this.vG)f=this.dh()?2:1;if(a&&!b)f+=this.nG()?4:8;switch(f){case 1:d.db(c.Opa);break;case 2:d.db(c.Npa);break;case 4:d.db(c.Y0);break;case 5:d.db(c.Mpa);break;case 6:d.db(c.Lpa);break;case 8:d.db(c.Z0);break;case 9:d.db(c.Qpa);break;case 10:d.db(c.Ppa);break;default:d.db(c.X0)}}else if(a&&b)d.db(c.X0);else this.nG()?d.db(c.Y0):d.db(c.Z0);return d.toString()};
q.Qva=function(){return cb("background-position:",this.s5(),";")};q.s5=function(){return(this.nG()?"-100":(this.Jt()-1)*this.dd.u8)+"px 0"};q.e=function(){var a=NC.f.e.call(this);if(!a){a=this.L().e(this.p());this.Wd(a)}return a};q.au=function(){var a=this.e();return a?a.firstChild:k};q.wO=function(){var a=this.au();return a?a.firstChild:k};q.GO=function(){var a=this.au();return a?a.childNodes[1]:k};q.OO=function(){var a=this.au();return a&&a.lastChild?a.lastChild.previousSibling:k};
q.Gt=function(){var a=this.e();return a?a.lastChild:k};q.II=function(a){this.si(Ta(a))};q.Sd=function(){return Wa(this.iy())};q.si=function(a){this.e8=a;var b=this.OO();if(b)b.innerHTML=a;var c=this.Hd();c&&c.nea(this)};q.iy=function(){return this.e8};q.wya=function(){return this.SQa};q.Rb=function(){e(Error("Upate not yet supported"))};q.aha=function(){var a=this.au();if(a)a.className=this.oF()};
q.bw=function(){var a=this.Hd();if(!a.sF()){var b=this.wO();if(b)b.className=this.H4();var c=this.Gt();if(c)c.style.backgroundPosition=this.s5()}};q.Yga=function(){var a=this.Hd();if(!a.sF()){var b=this.GO();if(b)b.className=this.RN()}};q.$Ga=function(a){var b=a.target,c=b.getAttribute("type");if(c=="expand"&&this.Td())this.vG&&this.Yv();else{this.select();this.aha()}};q.DS=di;q.JGa=function(a){var b=a.target,c=b.getAttribute("type");c=="expand"&&this.Td()||this.vG&&this.Yv()};
q.YGa=function(a){var b=j,c;switch(a.keyCode){case 39:if(a.altKey)break;if(this.Td())this.dh()?this.O4().select():this.Vf(j);break;case 37:if(a.altKey)break;if(this.Td()&&this.dh()&&this.vG)this.Vf(l);else{var d=this.gb(),f=this.Hd();if(d&&(f.u6()||d!=f))d.select()}break;case 40:(c=this.twa())&&c.select();break;case 38:(c=this.$wa())&&c.select();break;default:b=l}if(b){a.preventDefault();(f=this.Hd())&&f.Ona()}return b};q.m5=function(){if(!this.dh()||!this.Td())return this;return this.k5().m5()};
q.twa=function(){if(this.Td()&&this.dh())return this.O4();else{for(var a=this,b;a!=this.Hd();){b=a.uwa();if(b!=k)return b;a=a.gb()}return k}};q.$wa=function(){var a=this.axa();if(a!=k)return a.m5();var b=this.gb(),c=this.Hd();if(!c.u6()&&b==c)return k;return b};q.Wx=function(){return this.dd};q.wHa=function(){var a=this.Hd();a.nea(this)};q.BU=function(a){if(this.cp!=a){this.cp=a;this.wHa();for(var b=this.ah(),c=0;c<b;c++){var d=this.sd(c);d.BU(a)}}};var PC=function(a,b,c){NC.call(this,a,b,c)};B(PC,NC);PC.prototype.cp=k;PC.prototype.Hd=function(){if(this.cp)return this.cp;var a=this.gb();if(a){var b=a.Hd();if(b){this.BU(b);return b}}return k};PC.prototype.RN=function(){var a=this.dh();if(a&&this.kN)return this.kN;if(!a&&this.AQ)return this.AQ;var b=this.Wx();if(this.Td())if(a&&b.$0)return b.Zs+" "+b.$0;else{if(!a&&b.YL)return b.Zs+" "+b.YL}else if(b.ZL)return b.Zs+" "+b.ZL;return""};var QC=function(a){this.Pd={};a&&this.NLa(a)};q=QC.prototype;q.Dc=undefined;q.G=function(a,b){this.oea(a,b,l)};q.add=function(a,b){this.oea(a,b,j)};q.oea=function(a,b,c){for(var d=this,f=0;f<a.length;f++){var g=a.charAt(f);d.Pd[g]||(d.Pd[g]=new QC);d=d.Pd[g]}if(c&&d.Dc!==undefined)e(Error('The collection already contains the key "'+a+'"'));else d.Dc=b};q.NLa=function(a){for(var b=sc(a),c=rc(a),d=0;d<b.length;d++)this.G(b[d],c[d])};
q.z=function(a){for(var b=this,c=0;c<a.length;c++){var d=a.charAt(c);if(!b.Pd[d])return;b=b.Pd[d]}return b.Dc};q.ud=function(){var a=[];this.T6(a);return a};q.T6=function(a){this.Dc!==undefined&&a.push(this.Dc);for(var b in this.Pd)this.Pd[b].T6(a)};q.zb=function(a){var b=[];if(a){for(var c=this,d=0;d<a.length;d++){var f=a.charAt(d);if(!c.Pd[f])return[];c=c.Pd[f]}c.LO(a,b)}else this.LO("",b);return b};q.LO=function(a,b){this.Dc!==undefined&&b.push(a);for(var c in this.Pd)this.Pd[c].LO(a+c,b)};
q.Ed=function(a){return this.z(a)!==undefined};q.Rs=function(a){if(this.Dc===a)return j;for(var b in this.Pd)if(this.Pd[b].Rs(a))return j;return l};q.clear=function(){this.Pd={};this.Dc=undefined};q.remove=function(a){for(var b=this,c=[],d=0;d<a.length;d++){var f=a.charAt(d);if(!b.Pd[f])e(Error('The collection does not have the key "'+a+'"'));c.push([b,f]);b=b.Pd[f]}var g=b.Dc;for(delete b.Dc;c.length>0;){var h=c.pop(),i=h[0];f=h[1];if(gc(i.Pd[f].Pd))delete i.Pd[f];else break}return g};q.ua=function(){return new QC(this)};
q.ia=function(){return qc(this.ud())};q.Da=function(){var a;if(a=this.Dc===undefined){var b=this.Pd;a=typeof b.Da=="function"?b.Da():ka(b)||y(b)?b.length==0:gc(b)}return a};var RC=function(){this.kr=new QC};q=RC.prototype;q.Dd="";q.ZR=k;q.VG=k;q.Mz=0;q.Tu=0;q.tAa=function(a){var b=l;switch(a.keyCode){case 40:case 38:if(a.ctrlKey){this.aEa(a.keyCode==40?1:-1);b=j}break;case 8:var c=this.Dd.length-1;b=j;if(c>0){this.Dd=this.Dd.substring(0,c);this.P9(this.Dd)}else if(c==0)this.Dd="";else b=l;break;case 27:this.Dd="";b=j;break}return b};
q.TAa=function(a){var b=l;if(!a.ctrlKey&&!a.altKey){var c=String.fromCharCode(a.keyCode).toLowerCase();if((c.length==1&&c>=" "&&c<="~"||c>="\u0080"&&c<="\ufffd")&&(c!=" "||this.Dd)){this.Dd+=c;b=this.P9(this.Dd)}}return b};q.sNa=function(a){var b=a.Sd();if(b&&!Da(b)){b=b.toLowerCase();var c=this.kr.z(b);if(c)c.push(a);else{var d=[a];this.kr.G(b,d)}}};q.JJa=function(a){var b=a.Sd();if(b&&!Da(b)){b=b.toLowerCase();var c=this.kr.z(b);if(c){Fb(c,a);c.length&&this.kr.remove(b)}}};
q.P9=function(a){var b=l,c=this.kr.zb(a);if(c&&c.length){this.Mz=this.Tu=0;var d=this.kr.z(c[0]);if(b=this.lda(d))this.ZR=c}return b};q.aEa=function(a){var b=l,c=this.ZR;if(c){var d=k,f=l;if(this.VG){var g=this.Tu+a;if(g>=0&&g<this.VG.length){this.Tu=g;d=this.VG}else f=j}if(!d){var h=this.Mz+a;if(h>=0&&h<c.length)this.Mz=h;if(c.length>this.Mz)d=this.kr.z(c[this.Mz]);if(d&&d.length&&f)this.Tu=a==-1?d.length-1:0}if(b=this.lda(d))this.ZR=c}return b};
q.lda=function(a){var b;if(a){if(this.Tu<a.length){b=a[this.Tu];this.VG=a}if(b){b.DT();b.select()}}return!!b};q.clear=function(){this.Dd=""};var SC=function(a,b,c){NC.call(this,a,b,c);this.md=this;this.Tm=new RC;if(H&&Fe("6"))try{document.execCommand("BackgroundImageCache",l,j)}catch(d){this.u.S("Failed to enable background image cache")}};B(SC,NC);q=SC.prototype;q.oc=k;q.Dn=k;q.u=D("goog.ui.tree.TreeControl");q.yG=k;q.ak=j;q.yd=j;q.zN=l;q.vsa=k;q.gPa=j;q.bPa=j;q.UI=j;q.qPa=j;q.Tm=k;q.Hd=function(){return this};q.Jt=function(){return 0};q.DT=function(){};q.XP=function(){this.zN=j;X.add(this.e(),"focused");this.md&&this.md.select()};
q.Qy=function(){this.zN=l;X.remove(this.e(),"focused")};q.hasFocus=function(){return this.zN};q.dh=function(){return!this.UI||SC.f.dh.call(this)};q.Vf=function(a){if(this.UI)SC.f.Vf.call(this,a);else this.ak=a};q.I4=function(){return""};q.GO=function(){var a=this.au();return a?a.firstChild:k};q.wO=function(){return k};q.bw=function(){};q.oF=function(){return SC.f.oF.call(this)+(this.UI?"":" "+this.Wx().Rpa)};
q.RN=function(){var a=this.dh();if(a&&this.kN)return this.kN;if(!a&&this.AQ)return this.AQ;var b=this.Wx();if(a&&b.a1)return b.Zs+" "+b.a1;else if(!a&&b.W0)return b.Zs+" "+b.W0;return""};q.xh=function(a){if(this.md!=a){var b=l;if(this.md){b=this.md==this.vsa;this.md.Aea(l)}if(this.md=a){this.md.Aea(j);b&&this.md.select()}this.dispatchEvent("change")}};q.Uh=function(){return this.md};q.s6=function(){return this.gPa};q.t6=function(){return this.qPa};q.Uxa=function(){return this.bPa};q.u6=function(){return this.UI};
q.ZF=function(){SC.f.ZF.call(this);var a=this.e();dq(a,"tree");eq(a,"labelledby",this.OO().id)};q.h=function(){var a=SC.f.h.call(this);this.yG=this.yG||a;return a};q.za=function(){SC.f.za.call(this);var a=this.e();a.className=this.Wx().Upa;a.setAttribute("hideFocus","true");this.bL();this.ZF()};q.yc=function(){SC.f.yc.call(this);this.ND()};
q.bL=function(){var a=this.e();a.tabIndex=0;var b=this.oc=new fr(a),c=this.Dn=new Fs(a);this.Ba().g(c,"focusout",this.Qy).g(c,"focusin",this.XP).g(b,"key",this.xe).g(a,"mousedown",this.cQ).g(a,"click",this.cQ).g(a,"dblclick",this.cQ)};q.ND=function(){this.oc.l();this.oc=k;this.Dn.l();this.Dn=k};q.cQ=function(a){this.u.Lc("Received event "+a.type);var b=this.ywa(a);if(b)switch(a.type){case "mousedown":b.$Ga(a);break;case "click":b.DS(a);break;case "dblclick":b.JGa(a);break}};
q.xe=function(a){var b=l;(b=this.Tm.tAa(a)||this.md&&this.md.YGa(a)||this.Tm.TAa(a))&&a.preventDefault();return b};q.ywa=function(a){for(var b=k,c=a.target;c!=k;){var d=c.id;if(b=MC[d])return b;if(c==this.e())break;c=c.parentNode}return k};q.sF=function(){return this.mZa};q.createNode=function(a){return new PC(a||"",this.Wx(),this.L())};q.nea=function(a){this.Tm&&this.Tm.sNa(a)};q.removeNode=function(a){this.Tm&&this.Tm.JJa(a)};q.Ona=function(){this.Tm&&this.Tm.clear()};
var LC={oD:"images/cleardot.gif",u8:19,Upa:"goog-tree-root goog-tree-item",Rpa:"goog-tree-hide-root",Spa:"goog-tree-item",Ipa:"goog-tree-children",Jpa:"goog-tree-children-nolines",Vpa:"goog-tree-row",Tpa:"goog-tree-item-label",Zs:"goog-tree-icon",Kpa:"goog-tree-expand-icon",Opa:"goog-tree-expand-icon-plus",Npa:"goog-tree-expand-icon-minus",Qpa:"goog-tree-expand-icon-tplus",Ppa:"goog-tree-expand-icon-tminus",Mpa:"goog-tree-expand-icon-lplus",Lpa:"goog-tree-expand-icon-lminus",Z0:"goog-tree-expand-icon-t",
Y0:"goog-tree-expand-icon-l",X0:"goog-tree-expand-icon-blank",$0:"goog-tree-expanded-folder-icon",YL:"goog-tree-collapsed-folder-icon",ZL:"goog-tree-file-icon",a1:"goog-tree-expanded-folder-icon",W0:"goog-tree-collapsed-folder-icon"};var TC=function(a,b,c,d,f){SC.call(this," ",f);this.o1=a;this.T9=b;this.U9=c;this.qXa=l;if(!s(d))this.Pma=d;this.HIa=new fq(this)};B(TC,SC);q=TC.prototype;q.oIa=function(){var a=this;this.o1([],function(b,c){if(b){a.A8(a,c[0]);a.tba(a)}else e(Error("Unable to populate root"))});this.Ba().g(this,"change",this.KAa)};q.A8=function(a,b){var c=this.Hra(b),d=this.Ira(b);a.II($e(d,20));a.title=c;a.yo=d;a.Y8=j;a.VK=l;a.Vf(j)};q.Hra=function(a){return a[0]};q.Ira=function(a){return a[1]};
q.n=function(){TC.f.n.call(this);this.HIa.pb()};q.nIa=function(a,b){a.removeChildren(j);for(var c=0;c<b.length;c++)this.YFa(a,b[c]);if(this.T9){var d=this.sS(a);this.T9(d)}a.labels=b;a.VK=j};q.tba=function(a,b){var c=this;s(b)||(b=JC);var d=A(function(f,g){a.removeChildren(j);if(f)c.nIa(a,g);else{var h=c.sS(a);h.II("Unable to populate category");a.VK=l}b.apply(this,arguments)},this);if(!a.VK||!c.Pma)this.o1(this.Swa(a),d)};
q.Swa=function(a){for(var b=[];a!=a.Hd();){Lb(b,a.yo);a=a.gb()}Lb(b,a.yo);var c=b;c.reverse();return c};q.KAa=function(){var a=this.Uh();a.Y8&&this.tba(a)};q.sS=function(a,b){var c=a.Hd().createNode();a.Y8=l;a.add(c,b);return c};q.YFa=function(a,b,c){var d=this.sS(a,c);this.A8(d,b);this.U9&&this.U9(d);return d};var UC=function(){var a=Y("knol-viewlinks-favorite-icon"),b=Y("knol-viewlinks-favorite");if(a&&b){C([a,b],function(f){V(f,"click",this.osa,l,this)},this);this.mb=a.firstChild;var c=Wf(),d=Sf();this.pz=c&&Bb(c.xO(),d);this.VV()}};u("knol.ui.client.FavoriteKnol",UC,void 0);UC.prototype.osa=function(a){if(Wf())this.pz?this.iZ(l):this.iZ(j);else{kf(document.location.href);a.preventDefault()}};
UC.prototype.iZ=function(a){var b=this.pz;this.pz=a;this.VV();var c=a?"addFavoriteKnol":"removeFavoriteKnol",d=sj(Vf(),c,[Sf()]);d.v(A(function(f){this.pz=b;this.VV();var g="Failed to "+(a?"add":"remove")+" favorite";tt(g,f)},this))};UC.prototype.VV=function(){if(this.mb){var a=Nj("icons/favorite-star-"+(this.pz?"full":"empty")+".png");ba.setTimeout(A(function(){this.mb.src=a},this),0)}};var VC=function(){var a=Y("knol-admin-id-24");a&&V(a,"click",A(this.Zba,this,l));(a=Y("knol-admin-id-25"))&&V(a,"click",A(this.Zba,this,j))};u("knol.ui.client.Featured",VC,void 0);VC.prototype.Zba=function(a){if(confirm("Are you sure?")){var b=W("knol.Featured.refreshFeaturedKnols",[eg(),a]);b.k(function(){window.location.reload(j)});b.v(function(c){tt("Failed to refresh queue",c)})}};var WC=function(){this.j=new fq(this)};WC.prototype.eB=function(){if(!this.Na){var a=Y("knol-viewlinks-link-element");if(a){this.Na=new pw(a);this.Na.$da(j);this.Na.Gda(j);this.Na.sU(2);var b=Y("knol-article-top-hr");b&&this.Na.setPosition(new Ss(b,2))}}};var XC=function(){G(WC).Xb()};
WC.prototype.Xb=function(){this.eB();for(var a=["knol-viewlinks-link","knol-viewlinks-link-icon"],b=0;b<a.length;b++){var c=Y(a[b]);c&&this.j.g(c,"click",A(function(){this.eB();this.Na.H(j);var d=Y("knol-viewlinks-link-input");if(d){d.select();d.focus()}},this))}};u("knol.ui.client.GetLink.addListener",XC,void 0);
var YC=function(){var a=W("knol.Common.getFullUrl",[j,Sf()]);a.k(function(b){if(b){var c=Y("knol-viewlinks-link-input");if(c){c.value=b;var d=Y("knol-viewlinks-link-element");if(d&&d.style.display!="none"){c.select();c.focus()}}}})};var ZC=function(a){var b=Y("knol-home-tabpane-c");if(b){var c=new Gy(b),d=Y("knol-home-featured-knols");c.zf(new Hy(d,"Featured"));var f=Y("knol-home-new-knols");if(f){var g=W("knol.ui.AdvancedSearchResults.doRecentSearch",[j]);g.k(function(o){var p=Y("knol-home-new-knols"),r=cm("div");r.innerHTML=o;p.appendChild(r);p.appendChild(cm("div",{"class":"knol-clearer-div"}));Yw("knol-home-new-knols","div","ffffff")})}var h=Y("knol-home-whats-new"),i=new Hy(h,"What's new?");c.zf(i);g=W("knol.ui.AdvancedSearchResults.doRecentSearch",
[l]);g.k(function(o){var p=Y("knol-home-whats-new"),r=cm("div");r.innerHTML=o;p.appendChild(r);p.appendChild(cm("div",{"class":"knol-clearer-div"}));Yw("knol-home-whats-new","div","ffffff")});if(!a){var m=Y("knol-home-learn-more");m&&c.zf(new Hy(m,"Learn more"))}b.firstChild&&Bm(b.firstChild,l);var n=Y("knol-home-featured-knols-c");Z(n)}};u("knol.ui.client.HomePage",ZC,void 0);var $C=function(a,b){if(Ou()||H&&b)Qu(a||"",j,b);else new Nu(a||"",j)};u("knol.ui.client.HomePage.inviteAuthor",$C,void 0);var aD=function(){Mr.call(this)};F(aD,Mr);u("knol.ui.client.KnolListRenderer",aD,void 0);
aD.prototype.dA=function(a){var b=D("knol.ui.client.KnolListRenderer"),c=Y(a);if(c){var d=Tl("span","knol-list-editdate",c);if(d)for(var f=0;f<d.length;f++){var g=d[f].innerHTML,h=new Date(Number(g)),i=h.getFullYear(),m=h.getMonth()+1,n=h.getDate(),o=m+("-"+(n+("-"+i)));d[f].innerHTML=o;$(d[f],j)}var p=Tl("span","knol-list-edittime-separator",c);if(p)for(f=0;f<p.length;f++)$(p[f],j);Yw(a,"span","ffffff")}else b.S("Cannot find an element with id "+a)};aD.prototype.onLoadHandler=aD.prototype.dA;var cD=function(a){this.B=a;V(a,bD,this.Yh,l,this);V(a,"click",this.Y6,l,this)};B(cD,Oi);var bD=I?"keypress":"keydown";cD.prototype.Yh=function(a){if(a.keyCode==13||pe&&a.keyCode==3)this.T1(a)};cD.prototype.Y6=function(a){this.T1(a)};cD.prototype.T1=function(a){var b=new dD(a);try{if(!this.dispatchEvent(b))return}finally{b.l()}var c=new eD(a);try{this.dispatchEvent(c)}finally{c.l();a.stopPropagation()}};
cD.prototype.n=function(){cD.f.n.call(this);Ci(this.B,bD,this.Yh,l,this);Ci(this.B,"click",this.Y6,l,this);delete this.B};var eD=function(a){var b=a.Zg();b&&this.dc(b,void 0);this.type="action"};B(eD,ei);var dD=function(a){var b=a.Zg();b&&this.dc(b,void 0);this.type="beforeaction"};B(dD,ei);var fD=function(a,b,c){if(a&&a.length)if(b&&b.length)if(a.length==b.length){this.$z=a.length;this.Rk=a;this.Uv=b;this.uN=c||k;this.ST=[];for(var d=0;d<this.$z;d++){this.ST.push(l);X.add(this.Rk[d],"knol-kr-tab")}this.qda(0);this.TY=[];for(d=0;d<this.$z;d++){this.TY.push(new cD(this.Rk[d]));V(this.TY[d],"action",this.pQa,l,this)}}};fD.prototype.pQa=function(a){var b=Gm(a.target,k,"knol-kr-tab"),c;for(c=0;c<this.$z;c++)if(b==this.Rk[c])break;c!=this.$z&&this.qda(c)};
fD.prototype.qda=function(a){for(var b=0;b<this.$z;b++)b!=a&&this.HBa(b);this.tPa(a);if(this.uN&&this.uN[a]&&!this.ST[a]){this.ST[a]=j;this.uN[a].call()}};fD.prototype.tPa=function(a){X.remove(this.Rk[a],"knol-kr-tab-unselected");X.add(this.Rk[a],"knol-kr-tab-selected");X.remove(this.Uv[a],"knol-kr-tab-c-unselected");X.add(this.Uv[a],"knol-kr-tab-c-selected");$(this.Uv[a],j)};
fD.prototype.HBa=function(a){X.remove(this.Rk[a],"knol-kr-tab-selected");X.add(this.Rk[a],"knol-kr-tab-unselected");X.remove(this.Uv[a],"knol-kr-tab-c-selected");X.add(this.Uv[a],"knol-kr-tab-c-unselected");$(this.Uv[a],l)};var hD=function(){var a=Y("knol-home-kr-knol-list"),b=wm(a,function(h){return h.className=="knol-home-kr-components-title"});b.innerHTML="";gm(b);var c=cm("span",{"class":"knol-kr-tab knol-kr-tab-selected",id:"knol-home-kr-tab-popular-knol"});c.innerHTML="Popular Knols";var d=cm("span",{"class":"knol-kr-tab knol-kr-tab-unselected",id:"knol-home-kr-tab-recent-knol"});d.innerHTML="Recent Knols";b.appendChild(c);b.appendChild(d);b.appendChild(cm("div",{"class":"knol-home-kr-components-title-clearer"}));
var f=Y("knol-home-kr-tab-c-popular-knols"),g=Y("knol-home-kr-tab-c-recent-knols");new fD([c,d],[f,g],[k,gD])};u("knol.ui.client.HomePageKr",hD,void 0);var gD=function(){var a=Y("knol-home-kr-tab-c-recent-knols"),b=cm("div",{"class":"knol-list-infomessage"});tm(b,"Loading the recently updated knols. Please wait a second...");a.appendChild(b);var c=W("knol.ui.HomePageKr.doRecentSearch",[]);c.k(function(d){a.innerHTML="";var f=cm("div");f.innerHTML=d;a.appendChild(f);G(aD).dA("knol-recently-updated-knol-list")})};var iD=function(){Y("knol-idv-jotxtok").value=Ni("jotxtok")},jD=function(){iD();var a=Vr(Y("verifyPhone-firstName").value,Y("verifyPhone-lastName").value,"","","","",Y("verifyPhone-phoneNumber").value,"12345",Y("verifyPhone-addressStreet").value,Y("verifyPhone-addressCity").value,Y("verifyPhone-addressState").value,Y("verifyPhone-addressZip").value,Y("verifyPhone-addressCountry").value,"clickToCall","","",j);if(a){st(a);return l}else return j};
u("knol.ui.client.IdvCheck.validateClickToCallForm",jD,void 0);var kD=function(){iD();var a=Vr(Y("verifyCC-firstName").value,Y("verifyCC-lastName").value,"",Y("verifyCC-creditCardNumber").value,"","","","",Y("verifyCC-addressStreet").value,Y("verifyCC-addressCity").value,Y("verifyCC-addressState").value,Y("verifyCC-addressZip").value,Y("verifyCC-addressCountry").value,"creditCard","none","",j);if(a){st(a);return l}else return j};u("knol.ui.client.IdvCheck.validateCreditCardForm",kD,void 0);
var lD=function(){iD();var a=Vr(Y("verifySsn-firstName").value,Y("verifySsn-lastName").value,"",Y("verifySsn-SsnNumber").value,"","","","",Y("verifySsn-addressStreet").value,Y("verifySsn-addressCity").value,Y("verifySsn-addressState").value,Y("verifySsn-addressZip").value,Y("verifySsn-addressCountry").value,"ssn","none","",j);if(a){st(a);return l}else return j};u("knol.ui.client.IdvCheck.validateSsnForm",lD,void 0);
var mD=function(){iD();var a=Wr.Xm(Y("verifyKoreanRrn-firstName").value,Y("verifyKoreanRrn-lastName").value,Y("verifyKoreanRrn-rrnA").value,Y("verifyKoreanRrn-rrnB").value,"koreanRrn",j);if(a){st(a);return l}else return j};u("knol.ui.client.IdvCheck.validateKoreanRrnForm",mD,void 0);var nD=function(a,b,c){var d=sj(a,"takeAction",[j,b,c]);d.k(function(){window.location.reload(j)});d.v(function(){st('"Accept offer" failed. No action was taken.')})};u("knol.ui.client.Inbox.acceptOffer",nD,void 0);var oD=function(a,b,c){var d=sj(a,"takeAction",[l,b,c]);d.k(function(){G(Mv).ba()});d.v(function(){st('"Decline offer" failed. No action was taken.')})};u("knol.ui.client.Inbox.declineOffer",oD,void 0);
var pD=function(a,b,c,d){D("knol.ui.client.Inbox");var f=sj(c,"acceptReview",[a,b,d]);f.k(function(g){var h=O({Uf:g}),i=h.ha();i+="#edit";var m=Y("knol-review-request-buttons");if(m){var n=K({b:"a",href:i,target:"_blank",d:"Go to my review"});m.innerHTML=n.w()}});f.v(function(){st('"Accept review request" failed. No action was taken.')})};u("knol.ui.client.Inbox.acceptReviewRequest",pD,void 0);var qD=function(a,b,c){var d=sj(a,"takeAction",[l,b,c]);d.k(function(){G(Mv).ba()});d.v(function(){st('"Decline review request" failed. No action was taken.')})};
u("knol.ui.client.Inbox.declineReviewRequest",qD,void 0);var rD=function(a){this.qc=a;this.j=new fq(this);this.IQ=l;this.Zc()},sD={},tD=function(a){var b=sD[a];if(b)b.Zc();else{b=new rD(a);sD[a]=b}b.wCa()};u("knol.ui.client.KnolLabels.initialize",tD,void 0);q=rD.prototype;q.wCa=function(){var a=Vf();if(a){var b=new tk(hk(Rf()),"isBlocked"),c=A(this.Bna,this),d=function(){};b.ma([a],c,d,j)}};q.Bna=function(a){if(a){var b=this.fP();if(b)b.innerHTML="You are blocked from adding or editing categories by the owner(s) of this knol."}else this.Pra()};
q.Lb=function(){var a;wm(this.c4(),A(function(b){switch(b.className){case "knol-labels-title":a=Dm(b);this.coa[a]=j;break;case "knol-labels-voteup goog-inline-block":a&&Wf()&&this.j.g(b,"click",A(this.aSa,this,a));break;case "knol-labels-flagdown goog-inline-block":a&&Wf()&&this.j.g(b,"click",A(this.G1,this,a,-1));break}return l},this));a=k;wm(this.fP(),A(function(b){switch(b.className){case "knol-labels-title":a=Dm(b);this.lba[a]=j;break;case "knol-labels-delete":a&&this.j.g(b,"click",A(this.G1,
this,a,0));break;case "knol-labels-add":this.MK=b;this.j.g(b,"click",this.rka);break;case "knol-labels-add-text":this.QK=b;break;case "knol-labels-add-input":this.lh=b;this.j.g(b,"keydown",this.lEa);break;case "knol-labels-add-button":this.j.g(b,"click",this.ega);break}return l},this))};q.Zc=function(){this.j.pb();this.lh=this.QK=this.MK=k;this.coa={};this.lba={}};q.rka=function(a){a.preventDefault();this.gfa(l)};q.lEa=function(a){a.keyCode==13&&this.ega(a)};
q.ega=function(a){a.preventDefault();for(var b=(this.lh&&this.lh.value||"").split(uD),c=new sg,d=0;d<b.length;d++){var f=Ja(b[d]||"");if(f&&!this.lba[f]){var g;if(f.length>32){var h='Category name "'+(af(Pe(f))+'" is too long. Please limit categories to 32 characters or separate individual categories with commas.');Dt("Invalid Category Name",h);g=l}else g=j;if(!g)return;c.G(f,1)}}if(c.Da()){this.lh.value="";this.gfa(j)}else this.WV(c)};
q.aSa=function(a,b){b.preventDefault();var c=new sg;c.G(a,1);this.WV(c)};q.G1=function(a,b,c){c.preventDefault();var d=new sg;d.G(a,b);this.WV(d)};q.Pra=function(){if(this.N2()){var a=W("knol.Labels.fetchKnolLabels",[this.qc]);a.k(this.n2,this);a.v(this.tt,this)}};q.WV=function(a){if(this.N2()){var b=W("knol.Labels.saveKnolLabels",[this.qc,a]);b.k(this.n2,this);b.v(this.tt,this)}};
q.n2=function(a){this.V2();if(a==k)this.tt();else{this.Zc();a=wd(a);var b=a.communityLabels,c=a.personalLabels,d=a.personalNegativeLabels,f=this.c4();if(f){for(var g=f,h,i=b,m=c,n=d,o=new Ac(m),p=new Ac(n),r=!!(m&&n),t=K({b:"span"}),v=l,w=0;w<i.length;w++){if(!v&&gd(i[w])){v=j;t.ae(Pm("dir","rtl"))}w&&t.addElement({b:Nm,d:", "});if(p.contains(i[w]))t.addElement({b:"span",c:"knol-labels-voted-down",title:"You voted against this category",d:bf(i[w])});else if(r){var x=K({b:"span",c:"knol-labels-wrapper"});
x.addElement(lo(i[w]));x.addElement({b:"a",href:Hm,c:"knol-labels-flagdown goog-inline-block",title:"Cast negative vote for this category"});o.contains(i[w])||x.addElement({b:"a",href:Hm,c:"knol-labels-voteup goog-inline-block",title:"Cast positive vote for this category"});t.addElement(x)}else t.addElement(lo(i[w]))}h=t;var z=h.w;g.innerHTML=z.call(h)}var E=this.fP();if(E){for(var M=E,J,U=c,R=K({b:Nm}),N=0;N<U.length;N++){var sa=K({b:"div"});sa.addElement(lo(U[N]));sa.addElement({b:"span",c:"knol-labels-delete",
children:[{b:"a",href:Hm,c:"knol-less-important-small-link",d:"Remove"}]});R.addElement(sa);R.na()}var Fa=K({b:"div"});Fa.addElement({b:"div",c:"knol-labels-add-text",style:"display: none",children:[{b:"input",c:"knol-labels-add-input"},{b:"button",c:"knol-labels-add-button",d:"Add"},{b:"br"},{b:"span",d:"Separate individual categories with commas."}]});Fa.addElement({b:"div",c:"knol-labels-add",children:[{b:"a",href:Hm,c:"knol-labels-adder goog-inline-block"},{b:"a",href:Hm,d:"Add a category"}]});
R.addElement(Fa);J=R;var Gb=J.w;M.innerHTML=Gb.call(J)}var $a=Y("knol-labels-communityhint-"+this.qc);if($a)$a.style.display=b.length?"":"none";var ce=Y("knol-labels-personalheader-"+this.qc);if(ce)ce.style.display=c.length?"":"none";this.Lb()}};q.tt=function(a){this.V2();st(k,k,a)};q.c4=function(){return Y("knol-labels-community-"+this.qc)};q.fP=function(){var a=Q();if(!a.GE()&&!a.ec(Vf()))return k;return Y("knol-labels-personal-"+this.qc)};var uD=/[\u002c\u3001\uff0c\uff64]/;
rD.prototype.gfa=function(a){if(this.QK)this.QK.style.display=a?"none":"";if(this.MK)this.MK.style.display=a?"":"none";if(!a&&this.lh){this.lh.focus();this.lh.select()}};rD.prototype.N2=function(){if(this.IQ)return l;else return this.IQ=j};rD.prototype.V2=function(){this.IQ=l};var vD=function(){this.j=new fq(this)},wD=function(){G(vD).dc()};u("knol.ui.client.KnolScores.init",wD,void 0);q=vD.prototype;q.dc=function(){this.Lb();this.ena()&&this.bGa(5E3)};q.Lb=function(){this.NG("knol-scores-yes",this.AHa);this.NG("knol-scores-no",this.dHa);this.NG("knol-scores-neutral",this.aHa);this.NG("knol-scores-next",this.bHa)};q.NG=function(a,b){var c=Y(a);c&&this.j.g(c,"click",b)};q.Zc=function(){this.j.pb()};
q.ena=function(){var a=Wf();if(!a)return l;if(a.Fb())return j;return G(Fv).lO()!=4};q.bGa=function(a){this.uS&&ba.clearTimeout(this.uS);this.uS=ba.setTimeout(A(this.saa,this),a)};q.saa=function(){this.uS=k;var a=W("knol.ui.KnolScores.renderQuestionHtml",[Rf()]);a.k(A(this.lfa,this,"knol-scores-container"))};q.lfa=function(a,b){var c=Y(a);if(c&&b&&b!="ALL_QUESTIONS_ANSWERED"){this.Zc();c.innerHTML=b;c.style.display="";this.Lb();Cu("knol-sidebar",j)}};
q.AHa=function(a){a.preventDefault();this.AV("knol-scores-yes")&&this.VT("yes")};q.dHa=function(a){a.preventDefault();this.AV("knol-scores-no")&&this.VT("no")};q.aHa=function(a){a.preventDefault();this.AV("knol-scores-neutral")&&this.VT("neutral")};q.AV=function(a){for(var b=["knol-scores-yes","knol-scores-no","knol-scores-neutral"],c=j,d=0;d<b.length;d++){var f=Y(b[d]);if(f)if(b[d]==a)if(f.className=="knol-scores-selected")c=l;else f.className="knol-scores-selected";else f.className=""}return c};
q.VT=function(a){var b=Y("knol-scores-thanks");if(b)b.style.display="";var c=this.gxa();if(c){var d=W("knol.ui.KnolScores.scoreAndNext",[Rf(),c,a]);d.k(function(f){if(f=="ALL_QUESTIONS_ANSWERED"){var g=Y("knol-scores-done");if(g)g.style.display=""}else if(f){this.tS=f;var h=Y("knol-scores-next");if(h)h.style.display=""}},this)}};q.gxa=function(){var a=Y("knol-scores-question"),b=a&&a.className||"";if(ya(b,"knol-scores-question-"))return b.replace("knol-scores-question-","");return k};
q.bHa=function(a){a.preventDefault();if(this.tS){this.lfa("knol-scores-container",this.tS);this.tS=""}else this.saa()};var Ru=function(a,b){var c=Y("knol-invite-new-knol-promo");if(c){Gi(c,"click");V(c,"click",A(function(g,h){new Nu(g,l);h.preventDefault()},k,a));Qu(a,l,b)}var d=Y("knol-search-select-all");d&&V(d,"click",xD);var f=Y("knol-search-select-none");f&&V(f,"click",yD)};u("knol.ui.client.SearchResults",Ru,void 0);
var xD=function(){zD(j)},yD=function(){zD(l)},zD=function(a){for(var b=Rl("input","knol-search-checkbox"),c=0;c<b.length;c++){var d=b[c];d.checked=a?"checked":undefined}},$v=function(){for(var a=[],b=Rl("input","knol-search-checkbox"),c=0;c<b.length;c++){var d=b[c];if(d.checked){var f=d.id;if(f.indexOf("knol-search-cb")==0){var g=f.substring(15);g&&a.push(g)}}}return a},AD=function(a){var b=Y("knol-search-left-side");if(b)b.style.display=a?"":"none";var c=Y("knol-search-contents");if(c)c.className=
a?"g-unit":""},BD=function(a){var b=Y("knol-search-message");if(b)if(a){b.innerHTML=a;b.style.display=""}else b.style.display="none"};var CD=function(a,b,c){this.j=new fq(this);this.b_=a;this.TQa=b;this.Nj=c;this.Fga=l;this.r3=j;this.u0=new fq(this)},DD;F(CD,mo);var ED=k,FD=function(a){var b=a[0],c=vb(a,function(d){if(d==k)return"";d=d.replace(/\xa0|\s/g," ");d=Ja(d);return"incategory:"+ko(d)});c[0]=b;return c.join(" ")};
CD.prototype.aRa=function(a,b){if(a.length==0)b(j,[[this.b_,this.b_]]);else if(a.length==1&&this.r3){this.r3=l;b(j,this.TQa)}else{var c=FD(a),d=GD(window.location);d.q=c;d.restrict="general";d.cx=k;var f=W("knol.ui.SearchResults.getSearchResultsAndHierarchy",[d,this.Nj]);f.k(function(g){var h=Y("knol-query-box");if(h)h.value=c;this.Rga(g);b(j,g.labels)},this);f.v(function(g){b(l,g);Cx.qia.Yza(k,g)})}};var HD=function(a,b,c){ED||(ED=new CD(a,b,c));ED.NQ()};
u("knol.ui.client.LabelBrowser.initLabelBrowser",HD,void 0);q=CD.prototype;q.NQ=function(){this.Lb();this.$Y();this.w8()};q.w8=function(){if(!this.Fga){this.Fga=j;LC.oD=Oj();LC.ZL=LC.YL;var a=A(this.aRa,this),b=k,c=k,d=Y("knol-label-browser");if(d){DD=new TC(a,b,c);gm(d);DD.h();d.appendChild(DD.e());DD.za();DD.oIa()}}};q.UOa=function(){this.PU();this.bda("show")};q.BBa=function(){this.vu();this.bda("hide")};q.PU=function(){this.Zc();AD(j);BD(k);this.Lb();this.w8()};
q.vu=function(){this.Zc();AD(l);BD(this.W4());this.Lb()};q.bda=function(a){var b=Wf();if(b instanceof Vn&&b.NO()!=a){b.fNa(a);sj(b.p(),"setLabelBrowserPreference",[a])}};q.Lb=function(){var a=Y("knol-label-browser-show");a&&this.j.g(a,"click",this.UOa);var b=Y("knol-label-browser-hide");b&&this.j.g(b,"click",this.BBa)};q.Zc=function(){this.j.pb()};q.$Y=function(){var a=Y("knol-search-contents");a&&this.u0.g(a,"click",this.Rna)};q.zJa=function(){this.u0.pb()};
q.Rna=function(a){var b=a.target,c;if(c=b){var d;if(d=b.nodeName==Kl){var f;if(f=b.href){var g;if(g=b.parentNode){var h;if(h=b.parentNode.className){var i;if(i=ya(b.parentNode.className,"knol-search-knol-pagination")){var m;if(m=!a.kz||a.kz(0)){var n;if(n=!a.ctrlKey){var o;if(o=!a.altKey){var p;if(p=!a.shiftKey){var r=Y("knol-search-left-side");p=!!r&&r.style.display!="none"}o=p}n=o}m=n}i=m}h=i}g=h}f=g}d=f}c=d}if(c){this.HEa(b.href);a.preventDefault()}};
q.HEa=function(a){var b=GD(a);b.restrict="general";var c=W("knol.ui.SearchResults.getSearchResultsAndHierarchy",[b,this.Nj]);c.k(this.Rga,this);c.v(function(d){Cx.qia.Yza(k,d)})};q.Rga=function(a){var b=Y("knol-search-contents");if(b){this.zJa();b.innerHTML=a.searchResults;this.$Y();var c=a.onLoad;eval(c.join(";"))}};
var GD=function(a){for(var b=D("knol.ui.client.LabelBrowser"),c=Od(a).mk(),d=c.zb(),f={},g=0;g<d.length;g++)if(d[g])if(d[g]in f)b.S("duplicated query parameter: "+d[g]);else f[d[g]]=c.z(d[g]);return f};var JD=function(){var a=Y("knol-display-languages");if(a){try{var b=rf(),c=eg(),d=Q();if((!b||b=="US")&&(!c||c=="en")&&(!d||!d.getLanguage()||d.getLanguage()=="en"))return}catch(f){}var g=W("knol.ui.LanguageOptions.renderHtml",[Sf()]);g.k(function(h){if(h!=k){a.style.display="";a.innerHTML=h;ba.setTimeout(function(){ID(a)},0)}},this)}};u("knol.ui.client.LanguageOptions",JD,void 0);
var ID=function(a){var b=Vf(),c=Rl("a","knol-display-language",a);C(c,function(d){var f=d.href,g=new Ed(f),h=g.Pf("hl");if(h)if(b)V(d,"click",function(i){var m=sj(b,"setLocalePreferences",[h]);m.k(A(function(){window.location.reload(j)},this));m.v(A(function(n){tt("Failed to set locale:"+n)},this));i.preventDefault();return l},j);else{g=new Ed(document.location.href);g.fa("hl",h);d.href=g.toString()}})};var LD=function(){var a=W("knol.ui.MyKnolsList.getHTMLString",[]);a.k(KD);a.v(A(tt,k,"Failed to render my knols list"))};u("knol.ui.client.MyKnolsList",LD,void 0);
var KD=function(a){D("knol.ui.client.MyKnolsList");var b=Y("knol-my-knols-list-id");if(b&&a){b.innerHTML=a;for(var c=Tl("span","knol-my-knols-date",b),d=0;d<c.length;d++){var f=c[d].innerHTML;c[d].innerHTML=MD(f)}Yw("knol-my-knols-list-id","span","ffffff");var g=Tl("a","knol-my-knols-title",b),h=20;for(d=0;d<g.length;d++)if(ya(g[d].id,"knol-my-knols-title-")){var i=g[d].id.substr(h),m=Y("knol-my-knols-bubble-"+i);$(m,l);g[d].pA=new pw(m);g[d].pA.sU(5);g[d].pA.setPosition(new Rs(g[d],4));g[d].pA.H(l);
V(g[d],"mouseover",function(o){o.target.pA.H(j)});V(g[d],"mouseout",function(o){o.target.pA.H(l)})}var n=Vf();n&&new Bw(n)}},MD=function(a){var b=new Date(Number(a)),c=b.getFullYear(),d=b.getMonth()+1,f=b.getDate(),g=d+("-"+(f+("-"+c)));return g};var kx=function(a,b,c){Zr.call(this,a,Wf());if(this.Ln()){var d=Y(b);if(d){var f=W("knol.ui.PendingDiscussionView.getHtml",[Rf(),Vf()]);f.k(function(g){if(g){d.appendChild(em(g));jx.call(this,a,yj.rC,"knol.ui.PendingDiscussionView")}c()},this);f.v(c)}else c()}else c()};F(kx,jx);Sd(kx.prototype,Zr.prototype,j);u("knol.ui.client.PendingDiscussionView",kx,void 0);var ND=[],OD=0,PD="",RD=function(a){QD(a,0)};u("knol.ui.client.PopularKnolList.onLoadHandler",RD,void 0);
var QD=function(a,b){OD=b;PD=a;var c=Y(PD);if(c){for(var d=Tl("a","knol-list-popular-pagenav",c),f=0;f<ND.length;++f)Ci(ND[f],"action",SD);ND=[];for(f=0;f<d.length;++f){ND.push(new cD(d[f]));V(ND[f],"action",SD)}}},SD=function(a){var b=a.target.id.split("-");if(!(!b||b.length==0)){var c=b[b.length-1],d;d=c=="prev"?OD-1:c=="next"?OD+1:parseInt(b[b.length-1],10)-1;var f=W("knol.ui.PopularKnolList.renderPage",[d]);f.k(function(g){Au(k,0,void 0).y;var h=Y("knol-home-kr-tab-c-popular-knols");h.innerHTML=
g;QD(PD,d);G(aD).dA(PD)})}};var TD=function(a){$q.call(this,a)};B(TD,$q);q=TD.prototype;q.ie=k;q.vc=function(a){TD.f.vc.call(this,a);this.wk()};q.h=function(){this.Wd(this.L().h("input",{type:"text"}));this.wk()};q.wk=function(){this.dU();this.ie=new ft(this.e());V(this.ie,"input",this.dU,l,this)};
q.dU=function(){var a=this.e(),b=a.value,c="";if(ld(b)||nd(b)){for(var d,f=0,g=0,h=l,i=cd(b,void 0).split(td),m=0;m<i.length;m++){var n=i[m];if(jd(n)){f++;g++}else if(od.test(n))h=j;else if(ed.test(cd(n,void 0)))g++;else if(ud.test(n))h=j}d=g==0?h?1:0:f/g>vd?-1:1;c=d==-1?"rtl":"ltr"}a.dir=c};q.nq=function(){var a=this.e().dir;if(a=="")a=k;return a};q.Pa=function(a){this.e().value=a;this.dU()};q.aa=function(){return this.e().value};q.n=function(){if(this.ie){Gi(this.ie);this.ie.l();this.ie=k;TD.f.n.call(this)}};var UD=function(){},VD=function(){return D("knol.ui.client.PropertyEditor")};q=UD.prototype;q.input=k;q.span=k;q.CN=l;q.nb=function(a){return a&&a.length&&a!=this.caption};q.gz=function(){VD();if(this.input=Y(this.Wp+"-input")){V(this.input,"focus",A(function(){if(this.E8()){this.input.value="";X.remove(this.input,"knol-inline-editor-empty")}},this));V(this.input,"blur",A(function(){if(!this.tq()){this.UA("");X.add(this.input,"knol-inline-editor-empty")}},this));(new TD).vc(this.input);this.Im()}};
q.Im=function(){var a=this.B=Y(this.Wp);if(!this.aa()&&this.ca()){this.caption=this.GIa;a.style.display=this.ab()?"":"none";a.innerHTML=this.caption;X.add(a,"knol-inline-editor-empty");X.add(this.input,"knol-inline-editor-empty")}else{if(!this.aa())a.style.display="none";X.remove(a,"knol-inline-editor-empty");X.remove(this.input,"knol-inline-editor-empty")}};q.ri=function(a){if(this.ca())if(a){if(this.oG())this.JHa=this.aa();if(this.Jd!=k){this.gc(this.Jd);this.Jd=k}this.cPa()}else this.close()};
q.ab=function(){return this.CN};q.Tr=function(a){this.Jd=a};q.oG=function(){return G(Fv).Tp()};q.Mj=function(a){if(this.input&&this.ca())if(this.bA)this.Sf.push(a);else{this.bA=new fq(this);this.Sf=[a];var b=["change","keypress","keydown","click"];this.bA.g(this.input,b,this.tGa)}};q.tGa=function(){this.or&&window.clearTimeout(this.or);this.or=window.setTimeout(A(function(){delete this.or;C(this.Sf,function(a){a()})},this),500)};q.Bo=function(){if(this.bA){this.bA.pb();this.bA=k}};
q.pd=function(a){if(this.ab()){var b=a!=k?a:this.tq();this.UA(b);this.gc(b)}else s(a)&&this.gc(a)};q.gc=function(a){var b=this.Wn();b.setProperty(this.Hba,a);if(this.ca()){if(a){var c=bf(a,this.hr);if(this.uz())c=c.replace(/\n/g,"<br />");this.B.innerHTML=c}else this.B.innerHTML=this.caption?this.caption:"";this.Im()}};q.ce=function(){if(this.ab()){this.Im();this.DBa();this.oG()&&this.gc(this.JHa)}};q.reset=function(){if(this.ab())this.input.value=this.HHa};
q.close=function(){if(this.ab()){this.pd();this.ce()}};q.DBa=function(){this.input.style.display="none";this.B.style.visibility="visible";this.B.style.display=this.aa()?"":"none";if(this.uz())this.B.style.height="";this.CN=l};
q.cPa=function(){if(!this.ab()){var a=this.B,b=this.input;b.style.display="";b.value=this.HHa=this.aa()||Wa(Ca(a.innerHTML));b.id=a.id+"-input";b.style.fontWeight=kq(a,"font-weight");for(var c=["fontFamily","fontVariant","fontSize","fontWeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft"],d=0;d<c.length;d++){var f=c[d];b.style[f]=lq(a,f)||mq(a,f)||kq(a,f)}if(this.uz()){b.style.height=Math.max(70,a.clientHeight)+
"px";a.style.height=b.style.height}a.style.display="";a.style.visibility="hidden";this.CN=j}};q.E8=function(){if(this.input){var a=Ja(this.input.value);return a==this.caption?j:l}else return l};q.tq=function(){if(this.input&&!this.E8()){var a=this.input.value;if(a)a=Ja(a);return a}else return k};q.yb=function(){var a;a=this.Gf?this.tq():this.aa();return Ca(a)};q.UA=function(a){if(this.input)this.input.value=a?a:this.caption||""};
q.wg=function(){if(!this.ab())return l;var a=this.aa(),b=this.tq();return Ca(b)!=Ca(a)};q.om=function(){return!this.ab()||!this.wg()||s(this.KA)&&this.KA==this.yb()};q.nh=function(){this.KA=this.yb()};q.PR=function(a){return new Ro(a,[this.tq(),this.aa()])};var WD=function(){ds.call(this)};F(WD,ds);Sd(WD.prototype,UD.prototype);u("knol.ui.client.TitleEditor",WD,void 0);
WD.prototype.gz=function(){VD();UD.prototype.gz.call(this);if((this.message=Y("knol-title-message"))&&this.input){V(this.input,"focus",A(function(){this.message.style.display=""},this));V(this.input,"blur",A(function(){this.message.style.display="none"},this))}};WD.prototype.initOnClient=WD.prototype.gz;
WD.prototype.gc=function(a){UD.prototype.gc.call(this,a);var b=window.document,c,d=Uf(),f;if(d){var g=d.kd()||d.Th();f=g;var h=d.Ja(),i=O(h.hd());if(i){var m=i.tb();m=Ya(m,100);if(h.Ca()){var n=g+(" - a collection by  "+m);f=n}else{var o=g+(" - a knol by "+m);f=o}}}else if(req.args.IIa){var p="Units of knowledge for: "+req.args.IIa;f=p}else f="Knol - a unit of knowledge: share what you know, publish your expertise.";c=f;b.title=c};WD.prototype.sm=function(){return this.PR(256)};var XD=function(){es.call(this)};
F(XD,es);Sd(XD.prototype,UD.prototype);u("knol.ui.client.SubtitleEditor",XD,void 0);XD.prototype.initOnClient=XD.prototype.gz;XD.prototype.sm=function(){return this.PR(512)};var YD=function(){fs.call(this)};F(YD,fs);Sd(YD.prototype,UD.prototype);u("knol.ui.client.AbstractEditor",YD,void 0);YD.prototype.initOnClient=YD.prototype.gz;YD.prototype.sm=function(){return this.PR(16384)};var ZD=function(a,b,c,d){function f(h){if(h){h.tabIndex=0;V(h,"click",g.mH,l,g);V(h,"keydown",g.nH,l,g)}}this.Il=Pl(a)||k;this.tx=Pl(d||k);this.Je=(this.ER=ma(b)?b:k)||!b?k:Pl(b);this.ak=c==j;var g=this;f(this.Il);f(this.tx);this.Vf(this.ak)};B(ZD,Oi);q=ZD.prototype;q.n=function(){this.Il&&Gi(this.Il);this.tx&&Gi(this.tx);ZD.f.n.call(this)};q.expand=function(){this.Vf(j)};q.collapse=function(){this.Vf(l)};q.Yv=function(){this.Vf(!this.ak)};
q.Vf=function(a){if(this.Je)$(this.Je,a);else if(a&&this.ER)this.Je=this.ER();if(this.tx){$(this.Il,!a);$(this.tx,a)}else this.nRa(a);this.ak=a;this.dispatchEvent(new $D("toggle",this,this.ak))};q.nRa=function(a){if(this.Il)if(a){X.remove(this.Il,"goog-zippy-collapsed");X.add(this.Il,"goog-zippy-expanded")}else{X.remove(this.Il,"goog-zippy-expanded");X.add(this.Il,"goog-zippy-collapsed")}};q.nH=function(a){if(a.keyCode==13||a.keyCode==32){this.Yv();a.preventDefault();a.stopPropagation()}};q.mH=function(){this.Yv()};
var $D=function(a,b,c){bi.call(this,a,b);this.NXa=c};B($D,bi);var Vv=function(a){this.qc=a};q=Vv.prototype;
q.ba=function(a){var b=Y("knol-publish-toolbox-c");if(b){var c=Uf(),d=c instanceof Fl,f=Q(),g=f.pg()!=-2,h=!g&&!a,i=K({b:"div",id:"knol-publish-toolbox"});i.addElement({b:"div",id:"knol-publish-toolbox-heading",c:h?"knol-publish-toolbox-heading-unpublish":"",children:[{b:"h4",d:"Share and invite"}]});var m=K({b:"ul",id:"knol-publish-toolbox-links",style:"display: none"}),n=f.Ca(),o=!f.Mf()&&!n&&!(c instanceof Fl),p=f.ek(Wf(),10)==4,r=n?"Invite moderators":"Invite authors or reviewers",t=[{id:"knol-publish-toolbox-share",
C:"Share via email",hb:g||a},{id:"knol-publish-toolbox-invite",C:r,hb:!d&&p},{id:"knol-publish-toolbox-moderate",C:"Submit to a moderated collection",hb:o}];uc(t,function(x){x.hb&&m.addElement({b:"li",children:[{b:"a",id:x.id,d:x.C,href:Hm}]})});var v=n?"Embed collection into other web sites":"Embed knol into other web sites",w=c.Vn();if(w.type!=2&&(g||a))m.addElement({b:"li",children:[{b:"a",id:"knol-publish-toolbox-embed",d:v,href:this.Jua()}]});i.addElement(m);b.innerHTML=i.w();b.style.display=
"";this.Lb();ba.setTimeout(A(this.cla,this,a),0)}};q.cla=function(a){var b=Y("knol-publish-toolbox-heading"),c=Y("knol-publish-toolbox-links");new ZD(b,c,a)};q.Lb=function(){var a=[{id:"knol-publish-toolbox-share",func:this.OOa},{id:"knol-publish-toolbox-invite",func:this.JCa},{id:"knol-publish-toolbox-moderate",func:this.ZDa}];uc(a,function(b){var c=Y(b.id);c&&V(c,"click",b.func,this)},this)};q.OOa=function(){G(Ev).ma(G(gv))};q.JCa=function(){Pu("manage-authors")};
q.Jua=function(){var a=new Ed(Rj("system/knol/pages/EmbedKnol"));a.fa("knolId",Sf());return a.toString()};q.ZDa=function(){new Xy(j)};var bE=function(a,b){var c=Wf();if(c){var d=Q();if(c.Fb()||d.ec(c.p())){var f=b+"-"+a,g=Y(f);if(g){var h=g.parentNode;h.style.visibility="visible";h.style.display="";var i=A(aE,k,c.p(),a,d.p());V(g,"click",i)}}}};u("knol.ui.client.RelatedKnolHelper.setupRemoveLinks",bE,void 0);
var aE=function(a,b,c){wt("Remove from Related Knols","Are you sure you want to remove the knol from the list?",function(){var d=sj(a,"removeRelatedKnol",[b,c]);d.k(function(){window.location.reload(j)});d.v(A(st,k,"Failed to remove the knol, please try again later","Remove author failed"))},k,k)};var cE=function(){this.j=new fq(this)};u("knol.ui.client.ReviewDetails",cE,void 0);cE.prototype.dc=function(){var a=Y("knol-review-details-show");a&&this.j.g(a,"click",A(this.hb,this,j));var b=Y("knol-review-details-hide");b&&this.j.g(b,"click",A(this.hb,this,l))};cE.prototype.init=cE.prototype.dc;cE.prototype.hb=function(a){var b=Y("knol-review-details-questions");if(b)b.style.display=a?"":"none";var c=Y("knol-review-details-placeholder");if(c)c.style.display=a?"none":""};
var dE=function(a,b){if(a=="collectionSubmission"){b=b||"";var c,d="";if(b=="no")d="Strongly reject";else if(b=="p_no")d="Reject";else if(b=="neutral"||b=="")d="No opinion";else if(b=="p_yes")d="Accept";else if(b=="yes")d="Strongly accept";c=d;var f=Y("knol-review-result-"+a);if(f)f.innerHTML=c;var g=Y("knol-review-view-result-"+a);if(g)g.innerHTML=c}};var eE=function(a){this.Q7=l;this.qc=a;this.Uu=[];this.W=k;var b=Y("knol-search-backlinks-select");if(b){this.W=new et;for(var c=0;c<ls.length;c++){var d=ls[c];if(!d.gn||this.cXa){this.Uu[c]=new Ps(d.Oe.call(this,k));this.W.cb(this.Uu[c]);this.gZ(this.Uu[c],d)}}this.W.ba(document.body);this.W.attach(b,1,0);V(b,"click",A(this.vGa,this))}};u("knol.ui.client.SearchBacklinks",eE,void 0);
eE.prototype.gZ=function(a,b){V(a,"action",A(function(c,d){var f;if(!c||!d)f=k;else{var g=ms(c,d),h;if(g){var i=g,m={show:"off",loc0:"on",loc1:"on",loc2:"on",loc3:"on",loc4:"on",loc5:"on",loc6:"on",loc7:"on",loc8:"on"};for(var n in i)m[n]=i[n];var o=[Rj("system/knol/pages/SearchToolkit")+"?"];for(n in m)o.push(n+"="+m[n]+"&");h=o.join("")}else h=k;f=h}if(f)window.location=f},this,b,this.qc))};
eE.prototype.vGa=function(){if(!this.Q7){this.Q7=j;for(var a=0;a<ls.length;a++){var b=ls[a];if(b.$C){var c=W("knol.ui.AdvancedSearchResults.findHowMany",[ms(b,this.qc)]);c.k(A(function(d,f,g){if(!ha(g)){this.W.Jr(f);this.Uu[f]=new Ps(d.Oe.call(this,g));this.W.dn(this.Uu[f],f);this.gZ(this.Uu[f],d)}},this,b,a))}}}};var fE=function(){var a=Y("knol-search-form"),b=Y("knol-search-button"),c=new wr("Search");c.ba(a);b.value="";b.style.width=0;b.style.height=0;b.style.border="none";V(c,"action",function(){a.submit()})};u("knol.ui.client.SearchBox",fE,void 0);var hE=function(a,b,c){var d=function(){Wf()||kf(document.location);(new gE(a,b,c)).ba()},f=G(Sv);f.Vb()?d():f.load(d)};u("knol.ui.client.SettingsPaneStub",hE,void 0);var Cy=function(){},iE=function(a){tt("Error encounted while working on the suggestion dock",a)};Cy.prototype.wA=function(){if(!oy())return this.LH=j;return l};Cy.prototype.Xba=function(){if(!oy()){this.KH=j;return k}var a=dx([yj.Ch,ul.yK,ul.zK]);a.k(function(){var b=Y("knol-suggestions-console-docked"),c,d=K();d.addElement(Yr(2));d.addElement(Yr(1));d.addElement(Yr(3));if(c=d.w())b.innerHTML=c;else Z(b);Y("knol-console-spacer").style.display=oy()?"block":"none"},this);a.v(iE);return a};
Cy.prototype.H=function(a,b){var c=Q();if(!c||!Wf())a=l;else{var d=c.I5()+c.$O();if(!c.pG()||d<=0){var f=c.hf();a=a&&(f=="managed"||f=="moderated")}if(d==0)a=a&&Uf().kk()!=1}this.xMa(a&&(!b||b=="edit"||b=="view"))};Cy.prototype.xMa=function(a){var b=Y("knol-suggestions-console-docked");if(b){this.KH=a;b.style.display=a?"":"none"}else if(a){b=am("div",{id:"knol-suggestions-console-docked"});var c=Y("knol-console");c&&c.appendChild(b);this.KH=j}if(this.KH){this.KH=l;G(Cy).Xba()}};
var oy=function(){var a=Y("knol-suggestions-console-docked");return!!a&&a.style.display!="none"};var jE=function(){ps.call(this)};F(jE,ps);u("knol.ui.client.SunsetAnnouncement",jE,void 0);
jE.prototype.VN=function(){var a;if(!Wf())return"";var b=eg()||"en";if(b=="iw")b="he";var c=K({b:"a",id:"",target:"_blank",href:"https://"+b+".wordpress.com/signup?knol=true",d:"Export your knols to Annotum on WordPress.com."}),d=K({b:"a",id:"",target:"_blank",href:"https://www.google.com/takeout/#custom:knol",d:"Download your knols to a file."}),f=c.w()+" "+d.w();if(f){var g=K(),h=K({b:"span",id:this.qj,c:"knol-inline-sunset-message",d:f});g.addElement(h);a=g.w()}return a};
jE.prototype.Pc=function(){var a=D("knol.ui.client.SunsetAnnouncement");try{this.oT();var b=Y(this.hz),c="knol-sunset-banner-client",d=Y(c),f=this.VN();if(f)if(d)d.innerHTML=f;else{d=K({b:"span",id:c,d:f}).Oh();b.appendChild(d)}}catch(g){a.wa("failed to writeHTML",g)}};jE.prototype.writeHTML=jE.prototype.Pc;jE.prototype.Rb=function(){this.Pc()};
jE.prototype.oT=function(){for(var a=["knol-inline-sunset-time-start","knol-inline-sunset-time-end"],b=0;b<a.length;b++){var c=Y(a[b]);if(c){var d=c.innerHTML,f=d&&new Date(d);if(f&&f.getTime()){var g=new gw(1);c.innerHTML=g.Bt(f)}}}};var kE=function(a,b,c){this.cqa=a;this.p1=Ma(a);this.oba=b;this.qha=c;this.Bd=this.lm=l;var d=Y("knol-viewlinks-tts"),f=Y("knol-viewlinks-tts-icon");V(d,"click",this.zga,l,this);V(f,"click",this.zga,l,this)};u("knol.ui.client.TTSPlayer",kE,void 0);
kE.prototype.zga=function(){if(!this.lm){this.lm=j;var a=K({b:"div",id:"knol-ttsplayer"}),b=K({b:"object",classid:"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",codebase:"http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,0,0",width:"300px",height:"27px",align:"middle"});b.addElement({b:"param",name:"allowScriptAccess",value:"sameDomain"});b.addElement({b:"param",name:"movie",value:this.oba});b.addElement({b:"param",name:"FlashVars",value:"autoPlay=true&audioUrl="+this.p1});
b.addElement({b:"param",name:"quality",value:"best"});b.addElement({b:"param",name:"scale",value:"noScale"});b.addElement({b:"param",name:"wmode",value:"opaque"});b.addElement({b:"param",name:"salign",value:"TL"});b.addElement({b:"embed",width:"300px",height:"27px",align:"middle",allowScriptAccess:"sameDomain",quality:"best",scale:"noscale",wmode:"opaque",salign:"TL",type:"application/x-shockwave-flash",pluginspage:"http://www.macromedia.com/go/getflashplayer",src:this.oba+"?autoPlay=true&audioUrl="+
this.p1});a.addElement(b);var c=K({b:"div",id:"knol-ttsdownload"}),d=K({b:"a",href:this.cqa});d.addElement("Download the mp3");c.addElement(d);if(this.qha){var f=K({b:"div",id:"knol-ttsversioninfo"});f.addElement(this.qha);c.addElement(f)}a.addElement(c);Y("knol-viewlinks").appendChild(a.Oh())}this.Bd=!this.Bd;Y("knol-ttsplayer").style.visibility=this.Bd?"visible":"hidden"};var lE=function(a){var b=Y("knol-undelete");b&&V(b,"click",A(function(){var c=W("knol.Node.undelete",[a]);c.k(A(function(){window.location.reload(j)},this));c.v(A(function(){st(k,"undelete knol")},this))},this))};u("knol.ui.client.Undelete",lE,void 0);var mE=function(){ws.call(this)};F(mE,ws);var nE=function(){G(mE).create()};u("knol.ui.client.UsageStats.init",nE,void 0);mE.prototype.create=function(){var a=Rf()?Q().hd()==Vf():Sf()==Vf();if(a)if(Vf()){var b=O(Vf()),c=b?b.qE():k,d=Y("knol-usage-stats-analytics");if((!c||c.length==0)&&d){var f=Sf()?"?back="+Sf():"",g=Rj("Settings")+f+"#analytics",h='<a href="'+g+'">',i="</a>",m="Get more more pageview data by "+(h+(" integrating with Google Analytics"+i));d.innerHTML="<i>"+m+"</i>"}}};var oE=function(){var a=Oc;Yc().Rr(a)};u("knol.ui.client.Bottom.execute",oE,void 0);var qE=function(a,b){var c=D("knol.ui.client.PageFinalizer");try{if(gc(a))e(new Error("unexpected error during server-side page render"));Df(a);if(b)if(b[pp.AK]=="UserStub"){Cf.userId=b.nodeId;new vj(b)}else{Cf.userId=b.id;O({Uf:b})}var d=["knol","knolMeta","author"];C(d,function(g){var h=Cf[g];h&&O({Uf:h})})}catch(f){c.wa("error during app/pageFinalizer ",f)}V(window,"beforeunload",Ye);H&&V(window.document,"click",pE);window.setTimeout($m,0);window.setTimeout(an,0);window.onload=function(){window.jstiming.load.tick("ol")}};
u("knol.ui.client.PageFinalizer.finalize",qE,void 0);var pE=function(a){a&&a.target&&a.target.tagName=="A"&&a.target.href==Hm&&a.preventDefault()};var rE=function(a,b){this.ve=a;this.de=b;this.vR=0;this.IH=b.entry};rE.prototype.sa=function(){if(this.vR>=this.IH.length)return k;var a=this.IH[this.vR];++this.vR;return this.RL(a)};rE.prototype.RL=function(){return k};rE.prototype.p5=function(){return this.IH?this.IH.length:0};var sE=function(a,b,c,d){rE.call(this,a,b);this.J=c;if(!this.J)if(b.user)this.J=a.ju(b.user,b.nickname);this.Hw=d};B(sE,rE);sE.prototype.RL=function(a){var b=a.author&&a.author[0]?k:this.J,c=this.ve.Wwa(a,b,this.Hw);c.Hj(a);return c};var tE=function(a){if(y(a))this.ib=new Ed(a);else if(a instanceof Ed)this.ib=a;else e(Error("Undefined object: "+a));this.ib.fa("kind","photo");this.ib.fa("alt","jsonm");this.xn=k};tE.prototype.toString=function(){return"Source: "+this.ib.og()};var uE=/(\/user\/).*(\/|$)/,vE=/\/user\/([^\/\?]{3,})/;q=tE.prototype;q.xa=function(){return this.ib.toString()};q.XMa=function(a){this.ib.fa("imgmax",String(a))};q.eOa=function(a){var b=ja(a)?a.join(","):String(a);this.ib.fa("thumbsize",b)};
q.Ida=function(a,b){this.ib.fa("start-index",String(a));this.ib.fa("max-results",String(b))};q.pOa=function(a){this.ib.Sr(this.ib.og().replace(uE,"$1"+a+"$2"))};q.ju=function(){var a=vE.exec(this.xa());if(a&&a.length>1)return a[1];return""};q.ay=function(a,b){var c=new this.Zp(a,b);return c};q.Mua=function(){return this.xn};var wE=function(a){tE.call(this,a);this.Zp=sE};B(wE,tE);q=wE.prototype;q.J=k;q.Hw=k;q.toString=function(){return"AlbumSource: "+this.ib.og()};q.Zp=sE;q.hta=function(a,b){var c=a.fq(b.user,b.gphoto$id,b.title,"");c.PB(b);return c};q.ay=function(a,b){if(this.xn)this.xn.OB(b);else this.xn=this.hta(a,b);if(this.Zp==sE){var c=a.ju(b.user,b.nickname);return new this.Zp(a,b,c,this.xn)}else return wE.f.ay.call(this,a,b)};var yE=function(a,b){this.Ak=a||k;this.Pg=!!b;this.ob=new xc;this.lb=new xE("",undefined);this.lb.sa=this.lb.pi=this.lb};q=yE.prototype;q.k3=function(a){var b=this.ob.z(a);if(b)if(this.Pg){b.remove();this.fG(b)}return b};q.z=function(a,b){var c=this.k3(a);return c?c.value:b};q.G=function(a,b){var c=this.k3(a);if(c)c.value=b;else{c=new xE(a,b);this.ob.G(a,c);this.fG(c)}};q.peek=function(){return this.lb.sa.value};q.shift=function(){return this.rba(this.lb.sa)};q.pop=function(){return this.rba(this.lb.pi)};
q.remove=function(a){var b=this.ob.z(a);if(b){this.removeNode(b);return j}return l};q.removeNode=function(a){a.remove();this.ob.remove(a.ea)};q.ia=function(){return this.ob.ia()};q.Da=function(){return this.ob.Da()};q.zb=function(){return this.map(function(a,b){return b})};q.ud=function(){return this.map(function(a){return a})};q.contains=function(a){return this.some(function(b){return b==a})};q.Ed=function(a){return this.ob.Ed(a)};q.clear=function(){this.Gga(0)};
q.forEach=function(a,b){for(var c=this.lb.sa;c!=this.lb;c=c.sa)a.call(b,c.value,c.ea,this)};q.map=function(a,b){for(var c=[],d=this.lb.sa;d!=this.lb;d=d.sa)c.push(a.call(b,d.value,d.ea,this));return c};q.some=function(a,b){for(var c=this.lb.sa;c!=this.lb;c=c.sa)if(a.call(b,c.value,c.ea,this))return j;return l};q.every=function(a,b){for(var c=this.lb.sa;c!=this.lb;c=c.sa)if(!a.call(b,c.value,c.ea,this))return l;return j};
q.fG=function(a){if(this.Pg){a.sa=this.lb.sa;a.pi=this.lb;this.lb.sa=a;a.sa.pi=a}else{a.pi=this.lb.pi;a.sa=this.lb;this.lb.pi=a;a.pi.sa=a}this.Ak!=k&&this.Gga(this.Ak)};q.Gga=function(a){for(var b=this.ob.ia();b>a;b--)this.removeNode(this.Pg?this.lb.pi:this.lb.sa)};q.rba=function(a){this.lb!=a&&this.removeNode(a);return a.value};var xE=function(a,b){this.ea=a;this.value=b};xE.prototype.remove=function(){this.pi.sa=this.sa;this.sa.pi=this.pi;delete this.pi;delete this.sa};var zE=/\?.*$/,AE=/\/s\d+(?:-c)?\//,BE=function(a){return a.replace(zE,"").replace(AE,"/")},CE=function(a,b,c){var d=b;if(d instanceof sh)d=Math.max(d.width,d.height);if(!d)return a;var f=a.lastIndexOf("/"),g=a.substr(0,f),h=a.substr(f),i="/s"+d+(c?"-c":"");return g+i+h};new yE(1024,j);var DE="",EE=ba._features&&!ba._features.default144thumbnails?[72,94,110,128,160,220,288]:[72,94,110,144,160,220,288];var FE={};ba.pwa&&ba.pwa.paths&&nc(FE,ba.pwa.paths);var GE=function(a,b){var c=Math.floor(Math.max(a.width,a.height));if(c){for(var d,f=b[0],g=1;g<b.length;g++)if(c>=b[g])f=b[g];else break;d=f;if(a.width>a.height){a.width=d;a.height=Math.floor(a.height*d/c)}else{a.height=d;a.width=Math.floor(a.width*d/c)}}else a.floor();return a},HE=[32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600],IE=[32,48,64,72,104,136,144,150,160],JE=new sh(HE[0],HE[0]),KE=JE;var ME=function(a){this.Bx=[];if((this.JYa=a)&&a.entry){var b=a.entry;rb.sort.call(b,function(h,i){var m=h.nickname?h.nickname:h.scope.value,n=i.nickname?i.nickname:i.scope.value;return m<n?-1:m>n?1:0}||Qb);for(var c=0;c<b.length;c++){var d=new LE(b[c]),f=this.RE(d.mg());if(f>=0){var g=b[c].role$value;this.Bx[f].yea(g,j)}else this.Bx.push(d)}}};ME.prototype.z=function(a){return this.Bx[a]};ME.prototype.RE=function(a){return zb(this.Bx,function(b){return b.mg()==a},this)};
ME.prototype.remove=function(a){Eb(this.Bx,a)};var LE=function(a){this.tA=a;this.Wca={};this.XHa()};q=LE.prototype;q.Gqa=k;q.J=k;q.mg=function(){return this.TM};q.XHa=function(){var a=this.tA.scope;this.J=this.tA.user;this.TM=a.value;if(a.type=="user")this.eda="user";else if(a.type=="group")this.eda="group";var b=this.tA.role$value;this.yea(b,j);if(b=="none")this.eda="invite";if(this.tA.nickname)this.Gqa=this.tA.nickname};
q.yea=function(a,b){if(a=="none"){if(b)for(var c=this.Wca,d=ec(c),f=d.length-1;f>=0;f--)hc(c,d[f])}else this.Wca[a]=b};var NE=function(a){this.ve=a};B(NE,Oi);q=NE.prototype;q.id="-1";q.qN="";q.Yg=k;q.c8="";q.yn="";q.nQa="";q.bG=j;q.bi=function(a){if(!a)return l;var b;if(this.fc&&this.fc.user){if(typeof a=="string")b=a;else if(a.name)b=a.name;return this.fc.user==b}return l};q.PB=function(){};q.Hj=function(a){this.Nz(a)};q.OB=function(a){this.Nz(a)};q.Nz=function(a){if(this.fc){var b=ub(this.fc.link,function(c){return!OE(a.link,c)});Lb(a.link,b);nc(this.fc,a)}else this.fc=a;this.bG=j};
var OE=function(a,b){return zb(a,function(c){return c.rel==b.rel})>-1};q=NE.prototype;q.IKa=function(a){this.GA=a;this.bG=j};q.FT=function(a){if(this.GA){var b=new Ed(a),c=b.Nh();c==this.GA.xYa&&b.Ho(this.GA.sYa);var d=b.Yn();d==this.GA.yYa&&b.Oo(this.GA.tYa);return b.toString()}else return a};
q.Du=function(){if(this.bG&&this.fc){this.bG=l;if(this.fc&&this.fc.link){var a=this.fc.link;this.qp=k;for(var b=0;b<a.length;++b){var c=a[b],d=c.href||"";switch(c.rel){case "http://schemas.google.com/g/2005#feed":this.qN=this.FT(d);break;case "alternate":this.c8=d;break;case "self":if(Ua(d,"/entry/"))this.yn=this.FT(d);break;case "edit":this.JXa=this.FT(d);break;case "http://schemas.google.com/acl/2007#accessControlList":this.qp=new ME(c.feed);break;case "http://schemas.google.com/photos/2007#streetView":this.nQa=
d;break}}}if(!this.qp)this.qp=new ME(k)}};q.du=function(){return this.ad};q.kd=function(){return this.fc?this.fc.title:""+this};q.yO=function(){this.Du();return this.qN};q.JE=function(){this.Du();return this.yn};q.ova=function(a){this.Du();var b=this.c8;if(a){var c=new Ed(b);c.fa("feat",a);b=c.toString()}return b};q.GN=function(){this.Du();return this.qp};q.ME=function(a){this.Yg||this.sCa(a);return this.Yg};q.sCa=function(a){this.Yg=this.ve.Uua(this,a)};
q.hu=function(){return this.Yg?this.Yg.hu():this.ve.s4()};q.p=function(){return this.id||"-1"};
q.CB=function(a){var b="img/picasalogo.gif",c=new sh(27,25),d=this.uE();if(d){var f=Math.min(a||0,EE.length),g=EE[f],h=new sh(g,g);b=d.url||b;if("width"in d&&"height"in d){c.width=d.width;c.height=d.height;var i;var m=h,n=c.ua();if(n.mE(m)||n.mE(JE))i=n;else{n.cda(m);i=GE(n,HE)}if(!th(c,i)){b=CE(b,i);c=i}}else{var o=h,p=h,r=o.ua();if(r.mE(KE))c=KE;else{var t=Math.min(r.width,r.height);r.width=t;r.height=t;if(th(r,o)&&r.mE(p))c=r;else{r.cda(p);c=GE(r,IE)}}b=CE(b,c,j)}}return{url:b,height:String(c.height),
width:String(c.width)}};q.mRa=function(a){if(!this.Yg)this.Yg=a};q.load=function(a){this.Vb()?a(this):this.o$(a)};q.reload=function(a){this.o$(a)};q.o$=function(a){var b=this.hu();b.send(this.JE(),A(function(c){if(c.status==404)typeof this.TA!="undefined"&&this.TA();else{var d=c.nk();this.OB(d.entry)}a(this)},this))};q.ia=function(){if(this.fc)return Number(this.fc.numPhotos);return 0};q.Vb=function(){return!!this.fc};q.Ly=function(a){var b=this.CB(a);return b.xa};
q.uE=function(){if(this.fc){var a=this.fc.media,b=a?a.content:k;if(b&&b.length)return b[0]}return k};q.lq=function(){var a=this.uE();if(a)return this.zaa(a.xa);return k};q.Px=function(){var a,b=this.CB();if(b)a=b.width/b.height;return a||0};
var QE=function(a){var b=k;if(a){var c;if("lat"in a&&"lon"in a)c=a.lat+" "+a.lon;var d=a.georss$where;if(d){var f=d.gml$Point;if(f)c=f.gml$pos}if(c)b=PE(c);if(b&&d){var g=d.gml$Envelope;if(g){var h=g.gml$lowerCorner,i=g.gml$upperCorner;if(h&&i){var m=PE(h),n=PE(i);if(m&&n)b.Es={nYa:m,BZa:n}}}}}return b},PE=function(a){if(a){var b=a.split(" ");if(b.length==2){var c=Number(b[0]),d=Number(b[1]),f;a:{var g=c,h=d;if(ia(g)&&ia(h))if((la(g)||!Ba(g))&&(la(h)||!Ba(h))){var i=Number(g),m=Number(h);f=!isNaN(i+
m);break a}f=l}if(f)return{br:c,gr:d}}}return k};NE.prototype.zaa=function(a){return a.replace(/%2D/gi,"-").replace(/%2E/gi,".").replace(/%5F/gi,"_").replace(/%7E/gi,"~")};var RE=function(a,b,c,d,f){this.ve=a;this.DJ=b;this.id=c;this.name=this.title=d;this.$L=f;this.link="/lh/sredir?uname="+this.DJ+"&target=ALBUM&id="+this.id;this.Cba=l};B(RE,NE);q=RE.prototype;q.type="Album";q.Ev=function(a){this.Gz=a};q.ZE=function(){return this.Gz};q.xda=function(a){if(a)this.DK=a};q.ek=function(){return this.DK};q.uE=function(){if(this.fc&&this.fc.media)return RE.f.uE.call(this);var a="img/picasalogo.gif";if(this.pEa)a=BE(this.pEa);return{url:a}};
q.bi=function(a){return this.DJ==a};q.toString=function(){return"[Album: "+this.title+", user: "+this.DJ+"]"};q.JE=function(){this.Du();if(!this.yn)this.yn=Aa("/data/entry/api/user/%s/albumid/%s?alt=jsonm",this.DJ,this.id);return this.yn};q.PB=function(a){this.fc||this.Hj(a)};
q.Nz=function(a){RE.f.Nz.call(this,a);this.link=this.ova()||this.link;this.title=this.title||this.fc.title;this.$L=this.$L||this.fc.gphoto$name;this.name=this.name||this.$L;this.Gz=this.Gz||this.fc.location;this.DK=this.DK||this.fc.access;this.Cba=a.allowPrints&&a.allowPrints!="false";var b=QE(a);if(b){if(isNaN(this.br))this.br=b.br;if(isNaN(this.gr))this.gr=b.gr;if(b.Es)this.Es=b.Es}};q.du=function(){if(!this.ad)this.ad=new wE(this.yO());return this.ad};
q.ia=function(){if(this.fc)return Number(this.fc.totalResults||this.fc.numPhotos);return 0};var SE=function(a,b,c,d,f){this.Yg=a;this.Fs=b;this.ye=c;this.Z=d;this.psa=f;this.AZa=this.Fs.length;this.Yg.addEventListener("itemsadded",A(this.load,this));for(var g=0;g<this.Fs.length;++g)this.Yg.GEa(this.Fs[g])};SE.prototype.sl=l;SE.prototype.mz=function(){return this.sl};
SE.prototype.load=function(){if(this.sl)return j;for(var a=[],b=0;b<this.Fs.length;++b){var c=this.Fs[b];this.Yg.QG[c]||a.push(c)}if(a.length==0){this.sl=j;this.Yg.removeEventListener("itemsadded",this.load.bind,l,this);this.psa(this.Yg,this.ye,this.Z);return j}else this.Fs=a;return l};var TE=function(a,b,c,d){this.ve=a;this.ad=b;this.HV=c||a.s4();this.j=new fq(this);this.j.g(this.ve,"deleteinitiated",this.Lza);this.j.g(this.ve,"deletesucceeded",this.Mza);this.j.g(this.ve,"deletefailed",this.Jza);this.Ya=[];this.QG=[];this.oA=new xc;this.mA=la(d)?d:24;this.pKa()};B(TE,Oi);q=TE.prototype;q.Yd=k;q.Ys=0;q.hca=k;q.dIa=l;q.toString=function(){return"Feed: "+this.ad};q.iU=function(a){this.O2=a};q.pKa=function(){this.reset()};q.du=function(){return this.ad};
q.reset=function(){this.Yd=k;this.Ys=0;this.hca=k;this.Ya=[];this.QG=[]};q.l=function(){TE.f.l.call(this);this.reset()};q.hu=function(){return this.HV};q.bsa=function(a){return sb(this.Ya,a)};q.IN=function(){return this.Ya};q.f_=function(a){return Math.floor(a/this.mA)};
q.GEa=function(a){this.QG[a]=j;var b=a*this.mA,c=b+1;if(!(c>1E3)){var d=Math.min(this.mA,1E3-c+1);if(!(d<=0)){if(this.dIa)for(var f=b;f<b+d;++f)this.Ya[f]="PENDING";this.ad.Ida(c,d);this.HV.send(this.ad.xa(),A(TE.prototype.Eba,this,a*this.mA,this.mA),A(this.lj,this),A(this.jQ,this))}}};q.jQ=function(a){if(a){var b=a.target;b&&Ci(b,"timeout",A(this.jQ,this))}var c={type:"error",status:"timeout",value:a?a.currentTarget.z6():""};this.dispatchEvent(c)};
q.lj=function(a){var b;if(a){b=a.target;Ci(b,"error",A(this.lj,this))}var c,d;if(b){c=b.ok();var f=new Ed(b.o5());if("too_many_results_requested"==c)d=f.Pf("start-index");else if("query_string_too_long"==c){var g=f.Pf("q");d=g?g.length:-1}}else c="unknown";var h={type:"error",status:c,value:""+d};this.dispatchEvent(h)};
q.Eba=function(a,b,c){if(c.rk()==500){var d=c.ok(),f="";if("too_many_results_requested"==d)f=""+a;else if("query_string_too_long"==d){var g=this.ad.dxa();f=""+g.length}this.dispatchEvent({type:"error",status:d,value:f})}else this.BIa(a,c.nk())};q.BIa=function(a,b){if(b){var c=this.Yd,d=b.feed;this.Yd=Number(d.totalResults);this.Ys=Math.max(this.Ys,Number(d.crowdedLength||this.Yd));this.hca=d.relatedKeyword;0==this.Yd&&this.dispatchEvent("noitems");this.qka(a,d);c!=this.Yd&&this.dispatchEvent("totalchanged")}};
q.qka=function(a,b){if(b){var c=this.ad.ay(this.ve,b),d=Math.min(a+c.p5(),this.Yd),f=d-a;this.Ya.length=Math.max(this.Ya.length,d);for(var g=0;g<f;++g){var h=a+g,i=c.sa();this.pka(h,i)}var m=this.ad.Mua();m&&m.mRa(this);this.dispatchEvent({type:"itemsadded",ji:a,Df:f,AXa:this.Fqa()})}};q.pka=function(a,b){if(!(this.Ya[a]&&this.Ya[a]!="PENDING")){this.O2&&this.O2(b,a);this.Ya[a]=b}};
q.load=function(a,b,c){for(var d=this.f_(a),f=this.f_(a+b-1),g=[],h=d;h<=f;++h)this.QG[h]||g.push(h);if(g.length==0){c(this,a,b);return j}else{var i=new SE(this,g,a,b,c);return i.mz()}};q.LR=function(a){var b=1E3;if(this.Vb()){b=Math.min(this.Yd,b);if(this.Ya.length==b){a(this,0,b);return}}this.ad.Ida(1,b);var c=A(function(d){this.Eba(0,b,d);a(this,0,this.Yd)},this);this.HV.send(this.ad.xa(),c,A(this.lj,this),A(this.jQ,this))};q.Vb=function(){return k!=this.Yd};
q.Fqa=function(){return Math.min(this.Ys||this.Yd,1E3)};q.Lza=function(a){var b=a.target,c=this.bsa(b);c>=0&&this.remove(c)&&this.oA.G(b.id,[b,c])};q.remove=function(a){var b=l;if(Eb(this.Ya,a)){b=j;--this.Ys}--this.Yd;this.dispatchEvent("totalchanged");return b};q.Mza=function(a){var b=a.target;this.oA.remove(b.id)};q.Jza=function(a){var b=a.target,c=this.oA.z(b.id);if(c){Nb(this.Ya,c[1],0,c[0]);this.oA.remove(b.id);++this.Ys}++this.Yd;this.dispatchEvent("totalchanged")};var UE=function(a,b,c,d){this.ve=a;this.Hj(b);this.user=c;this.Ng=d};B(UE,NE);UE.prototype.type="Tag";UE.prototype.toString=function(){var a="Tag "+this.xB;if(this.user)a+=", user: "+this.user;if(this.Ng)a+=", album: "+this.Ng;return a};UE.prototype.Hj=function(a){this.xB=a.title;this.iw=a.weight?a.weight:1};var VE=function(a,b,c){this.is=a;if(b&&c)this.Bc=new sh(b,c)};VE.prototype.ha=function(){return this.is};VE.prototype.getSize=function(){return this.Bc};var WE=function(a,b,c,d){this.ve=a;this.H1=l;this.src="../img/picasaweblogo-en_US.gif";this.user=c;this.Ng=d||k;if(b){this.QV(b);var f=b.author;if(!this.user&&f){var g=f[0],h=g.email,i=g.name||h;this.user=this.ve.ju(h,i)}if(!this.Ng&&this.user){this.Ng=this.ve.fq(this.user.name,this.Dt(),this.E3(),this.D3());this.Ng.xda(b.access)}this.fr=j}};B(WE,NE);WE.prototype.type="Photo";var XE=D("gphoto.api.Photo");q=WE.prototype;q.t$=function(a){XE.Lc(a)};q.H1=l;q.Bba=l;q.q2=l;q.xEa=l;q.dr="";q.SK="";
q.$na=l;q.qM=0;q.boa=[];q.xZ=[];q.de=k;q.fr=l;q.OIa="";q.bi=function(a){if(!a)return l;var b;if(typeof a=="string")b=a;else if(a.name)b=a.name;return!!this.user&&this.user.name==b};q.fq=function(){return this.Ng};q.Dt=function(){return this.SK};q.E3=function(){return this.yZ};q.D3=function(){return this.wZ};q.toString=function(){return"Photo "+this.xB+", in album: "+this.Ng+", user: "+this.user};q.ME=function(){return k};
q.m$=function(a){if(this.ZQ())a(this);else{Bi(this,"photoDataReady",function(){a(this)},l,this);this.MR()}};q.ZQ=function(){return this.qM==2};q.WCa=function(){return this.qM==1};q.Tda=function(a){this.qM=a};q.JE=function(){this.Du();if(!this.yn)this.yn=Aa("/data/entry/api/user/%s/albumid/%s/photoid/%s?alt=jsonm",this.user.name,this.Ng.id,this.id);return this.yn};
q.MR=function(){if(!this.WCa())if(this.ZQ())this.dispatchEvent("photoDataReady");else if(this.user.name){this.Tda(1);var a=this.yO();a+="&nocache="+xa();this.hu().send(a,A(this.Ora,this))}else{this.fr=j;this.de=k;this.TA()}};
q.CB=function(a){var b,c=this.ZRa,d="";if(c=="ready")d="img/video_ready.png";else if(c=="pending")d="img/video_pending.png";else if(c=="failed")d="img/video_failed.png";if(d){var f=document.getElementsByTagName("base")[0].href;d=f+d}b=d;if(!b)return WE.f.CB.call(this,a);var g=new sh(288,216);return{url:b,height:String(g.height),width:String(g.width)}};q.Ora=function(a){try{this.Tda(2);var b=a.rk();if(b>=400){this.TA();return}this.Hj(a.nk().feed)}catch(c){this.t$(String(c));return}this.ZQ()&&this.dispatchEvent("photoDataReady")};
q.OB=function(a){NE.prototype.OB.call(this,a);this.QV(a);if(this.fc&&a&&a.media)this.fc.media.keywords=a.media.keywords;this.fr=j};
q.QV=function(a){NE.prototype.OB.call(this,a);var b=a.media,c=b.content[0];this.JT=this.zaa(c.url);this.id=a.gphoto$id;this.iw=Number(a.width||c.width);this.Oy=Number(a.height||c.height);this.Im(Ta(b.description));this.xB=Ta(b.title);this.jN=a.exif;this.RXa=a.title;this.Q=a.timestamp||this.Q;this.Bc=a.size;this.SK=a.albumId||this.SK;this.yZ=a.albumTitle||this.yZ;this.wZ=a.albumCTitle||this.wZ;this.KHa=a.gphoto$originalvideo||this.KHa;this.xZ=a.albumInfo||this.xZ;this.eZa=a.snippet||"";this.fZa=a.snippettype||
"";this.yZa=a.truncated=="1";this.AIa(a);var d=b.content[1];if(d){this.jZa=new VE(Ma(d.xa),d.width,d.height);this.ZRa=a.videostatus;var f=b.content[2];if(f)this.YXa=new VE(Ma(f.xa),f.width,f.height)}this.OIa=jc(b,"keywords")||"";this.rZa=b.thumbnail;this.RYa=a.htmlCaption;this.hZa=a.starred=="true";this.wZa=Number(a.starred$total)||0;this.PXa=a.featuredDate};
q.Hj=function(a){if(a){this.Nz(a);this.QV(a);if(!this.user){var b=a.author[0],c=b.email,d=b.name||c;this.user=this.ve.ju(c,d)}this.xEa=!!a.ccOverride;this.dr=a.cc;this.boa=a.entry;this.Bba=a.allowPrints=="true";this.q2=a.allowDownloads=="true";this.$na=a.commentingEnabled=="true";this.IZa=Number(a.viewCount)||0;if(!this.Ng)this.Ng=this.ve.fq(this.user.name,this.Dt(),this.E3(),this.D3());this.Ng&&a.access&&this.Ng.xda(a.access);if(this.wDa()){var f=this.fq();if(f)f.Cba=j}this.FXa=DE==a.uname||this.XCa();
this.fr=j;WE.f.Hj.call(this,a);if(a.author){var g=a.author[0];if(!this.user.name)this.user.name=g.email;if(!this.user.jr)this.user.jr=g.name}this.user.name||this.TA()}};q.TA=function(){this.H1=j;this.dispatchEvent("deleted")};q.Px=function(){if(la(this.iw)&&la(this.Oy))return this.iw/this.Oy;return 0};q.lq=function(a,b){var c="";if(this.JT){c=BE(this.JT);if(a)c=CE(c,a,b)}return c};q.iq=function(){return this.Oma};q.Im=function(a){this.Oma=Ya(a,1024)};
q.AIa=function(a){var b=QE(a);if(b){if(isNaN(this.br))this.br=b.br;if(isNaN(this.gr))this.gr=b.gr;if(b.Es)this.Es=b.Es;if(this.jN){this.jN.latitude=this.br;this.jN.longitude=this.gr}}};q.Vn=function(){return this.dr};q.hea=function(a){this.dr=a};q.getDate=function(){return this.Q};q.kd=function(){return this.xB};q.wDa=function(){return this.Bba};q.XCa=function(){return this.q2};var YE=function(a,b,c){rE.call(this,a,b);this.J=c};B(YE,rE);YE.prototype.RL=function(a){var b=this.ve.fq(this.J.name,a.gphoto$id,a.title,a.gphoto$name);b.Hj(a);return b};var ZE=function(a,b){tE.call(this,a);this.fW=b;this.ib.fa("kind","album");var c=this.ib.og().match(vE);if(c&&c.length>1){var d=c[1];if(d!=this.fW){this.pOa(this.fW);var f=this.ib.mk();if(f.Ed("authkey")){f.remove("authkey");f.remove("access")}}}this.Zp=YE};B(ZE,tE);ZE.prototype.toString=function(){return"UserSource: "+this.fW};ZE.prototype.ay=function(a,b){if(this.Zp===YE){if(!this.xn){var c=a.ju(b.user,b.jr);c.PB(b);this.xn=c}return new this.Zp(a,b,this.xn)}else return ZE.f.ay.call(this,a,b)};var $E=function(a,b,c){this.ve=a;this.name=b;this.jr=c;this.mb=jc(FE,"staticimagepath","img/")+"noportrait.jpg";this.y3=this.jr;this.pM=this.p$=l;this.B2=""};B($E,NE);q=$E.prototype;q.type="User";q.du=function(){if(!this.ad)this.ad=new ZE(this.yO(),this.name);return this.ad};q.PB=function(a){$E.f.PB.call(this,a);this.mb=a.mb;this.y3=a.title};q.bi=function(a){var b;if(typeof a=="string")b=a;else if(a.name)b=a.name;return this.name==b};q.toString=function(){return"User "+this.jr+", username: "+this.name};
q.load=function(a){this.m$(a)};q.m$=function(a){if(this.pM)a(this);else{V(this,"userDataReady",function(){a(this)},j,this);this.MR()}};q.MR=function(){if(this.pM){this.p$=j;this.dispatchEvent({type:"userDataReady"})}else{var a=this.JE()||"/data/entry/api/user/"+this.name+"?alt=jsonm",b=this.hu();b.send(a,A($E.prototype.WP,this))}};q.Hj=function(a){$E.f.Hj.call(this,a);this.mb=a.CB||this.mb;this.y3=a.title;this.name=a.user;this.jr=a.jr};
q.WP=function(a){var b=a.nk();if(b){this.p$=this.pM=j;this.Hj(b.entry);this.dispatchEvent({type:"userDataReady"})}};var aF=function(){},bF=function(a,b,c){this.RPa=a;this.S$=b;this.$Da=c};bF.prototype.rk=function(){return this.RPa};bF.prototype.ok=function(){return this.S$};bF.prototype.nk=function(){return this.$Da};var cF=function(){};B(cF,aF);var dF={"Content-Type":"application/atom+xml","X-HTTP-Method-Override":"PUT"};cF.prototype.send=function(a,b,c,d,f,g,h){if(!h&&f=="POST")h=dF;var i=A(this.hQ,this,b,c,d);jj(a,i,f,g,h,3E4)};cF.prototype.hQ=function(a,b,c,d){var f=d.target,g=f.oy(),h=f.rk(),i;if(g||!f.yk())if(g==8){if(c){c(d);return}}else{if(b){b(d);return}}else try{var m=f.ok(),n=m?eval("("+m+")"):k;i=new bF(0,"",n)}catch(o){if(b){b(d);return}}if(!i){var p="";try{p=f.ok()}catch(r){}i=new bF(h,p,"")}a(i)};var eF=function(a){this.xH=new xc;this.ys=new xc;this.gW=new xc;this.nZa=new xc;this.f0={};this.f0.Album=this.ys;this.f0.Photo=this.xH;this.kqa=a||new cF;this.oA=new xc;this.t$=D("gphoto.api.DataManager")};B(eF,Oi);q=eF.prototype;q.reset=function(){this.xH.clear();this.ys.clear();this.gW.clear()};q.s4=function(){return this.kqa};
q.Uya=function(a,b){var c=Aa("%s/user/%s/",b||"/data/feed/api",a),d,f=c;if(typeof ba.vja!="undefined"&&ba.vja.PERFORMANCE_EXPERIMENTS)f=f.replace("/data/feed/api/","/data/feed/t/");d=f;return new ZE(d,a)};q.wF=function(a,b,c){var d=this.Uya(a,b);return new TE(this,d,c)};q.Uua=function(a,b){var c=a.du();return new TE(this,c,b||a.hu())};q.fq=function(a,b,c,d){var f=a+b,g=this.ys.z(f);if(!g){g=new RE(this,a,b,c,d);this.ys.G(f,g)}return g};
q.ju=function(a,b){var c=this.gW.z(a);if(!c){c=new $E(this,a,b);this.gW.G(a,c)}return c};q.Wwa=function(a,b,c){if(!a)return k;var d=a.gphoto$id,f=this.xH.z(d);if(!f){f=new WE(this,a,b,c);this.xH.G(d,f)}return f};var fF=function(){};B(fF,aF);fF.prototype.send=function(a,b,c,d,f){if(f&&f!="GET")e(Error("Only GET supported in JSONP transport"));var g=new Hw(a);g.MNa(3E4);var h=A(this.hQ,this,b);g.send(k,h,d||c)};fF.prototype.hQ=function(a,b){a(new bF(0,"",b))};var gF=function(a,b,c){this.NA=-1;this.mv=[];this.GZa=k;this.uPa=b;this.rPa=c;a!=k&&this.qea(a);this.ad=k;this.cf=new bz(this.oha,2E3,this)};q=gF.prototype;q.qea=function(a){this.r=a;this.s=a.M();this.j=new fq(this);this.oa=this.eFa(this.uPa,this.rPa)};q.ie=k;q.Nb=function(){return this.oa};q.Kda=function(a){this.oa=a};q.Xr=function(){this.mIa()};q.Kj=function(){this.NR();if(this.Yk)try{this.Yk.focus()}catch(a){}};q.l=function(){this.cf.stop();if(this.j){this.j.l();this.j=k}};
q.eFa=function(a,b){var c=this.s.createElement("table"),d=this.s.createElement("tbody"),f=this.s.createElement("tr"),g=this.s.createElement("td");c.appendChild(d);c.className="mp_dialog";d.appendChild(f);f.appendChild(g);tm(g,this.r.Ku()?"Select a picture of yourself":this.mwa());g.className="mp_title";f=this.s.createElement("tr");d.appendChild(f);g=this.s.createElement("td");f.appendChild(g);g.className="mp_middle";g.height="100%";if(a||b){var h=this.s.createElement("p");if(b){var i=this.s.createElement("span");
tm(i,this.lwa(a));h.appendChild(i)}if(a){var m=this.s.createElement("span");this.Yk=this.s.createElement("input");this.Yk.type="text";this.Yk.size="16";this.Yk.value=this.r.HP();this.ie=new ft(this.Yk);V(this.ie,"input",this.pha,j,this);V(this.Yk,"keydown",this.pha,j,this);m.appendChild(this.Yk);h.appendChild(m)}g.appendChild(h)}this.Rf=this.s.createElement("div");this.Rf.className="mp_scroller"+this.r.Ky();this.KC(j);this.j.g(this.Rf,"mousedown",this.oS);this.j.g(this.Rf,"mouseover",this.IFa);this.j.g(this.Rf,
"mouseout",this.HFa);g.appendChild(this.Rf);f=this.s.createElement("tr");d.appendChild(f);g=this.s.createElement("td");f.appendChild(g);g.className="mp_buttons";var n=this.s.createElement("input");n.type="submit";n.value=this.OFa;g.appendChild(n);this.j.g(n,"click",this.ag);return c};q.ag=function(){this.r.ce();this.r.Nc()};q.oha=function(){if(this.Yk){var a=this.Yk.value,b=this.r.HP();if(a!=b){this.r.NI(a);this.NR()}}};
q.pha=function(a){if(a.keyCode==13){this.oha();this.cf.stop();a.preventDefault()}else this.cf.start();return j};
q.mIa=function(){var a=this.r.getContent();this.mv=[];this.NA=-1;if(a.length<1)this.Pp(this.gaa);else{gm(this.Rf);for(var b=0;b<a.length;b++){var c=a[b],d=c.ia(),f=k;f=d==1?this.PFa:this.kwa(d);var g=this.s.createElement("div");g.className="mp_list";this.Rf.appendChild(g);var h=c.Ly(0)||this.r.gP(),i=am("img",{align:"left",width:"32",height:"28",src:h});g.appendChild(i);var m=em(Ta(c.kd())+"<br><span class=mp_subtitle>"+Ta(f));g.appendChild(m);this.mv.push(g)}}};
q.NR=function(){var a=this.r.iO(),b=a.ha();if(b){var c=this.r.HZ(b);this.r.d3(c,0)}else{gm(this.Rf);var d=em('<br><br><br><center><font size=4 font color="#4D4D4D">No Images Found.</font></center>');this.Rf.appendChild(d)}};q.KC=function(a){var b='<br><br><br><center><font size=4 font color="#4D4D4D">',c=this.r.tP();b+=this.r.kR()||a?Ta(this.QFa)+'<img src="'+c+'" hspace="8">':Ta(this.gaa);this.Rf.innerHTML=b+"</font></center>"};
q.Pp=function(a){this.Rf.innerHTML='<br><br><br><center><font size="4" font color="#cc0000">'+Ta(a)+"</font></center>"};q.oS=function(a){var b=this.h6(a);this.kda(b);a.preventDefault()};q.kda=function(a){if(a>=0){var b=this.r.getContent(),c=b[a];this.r.YT(c);this.r.pI(this.ad)}};
q.h6=function(a){var b={x:a.clientX,y:a.clientY},c=tq(this.Rf),d=Xl(),f=Aq(this.Rf);b.x+=this.Rf.scrollLeft+d.x;b.y+=this.Rf.scrollTop+d.y;var g=b.y-c.y+this.oa.scrollTop;if(b.x-c.x>=f.width-16)return-1;for(var h=0,i=0;i<this.mv.length;i++){var m=this.mv[i],n=Aq(m).height;h+=n;if(g<=h)return i}return-1};q.bea=function(a){if(this.NA!=a){if(this.NA!=-1){var b=this.mv[this.NA];b.className="mp_list"}this.NA=a;if(a!=-1){b=this.mv[a];b.className="mp_list_selected"+this.r.Ky()}}};
q.IFa=function(a){var b=this.h6(a);this.bea(b)};q.HFa=function(){this.bea(-1)};q.Mk=function(a){this.ad=a};var hF=function(a,b,c,d){this.Ze=a;this.Ad=b;this.Ia="-1";this.tga=c;this.bx=d;this.M9=[];this.oa=k;this.uR=-1;this.rqa=k;this.fr=l;this.$y=this.XB=-1};q=hF.prototype;q.kd=function(){return this.Ze};q.Ly=function(){return this.tga||this.bx};q.lq=function(){return this.bx};q.p=function(){return this.Ia};q.ti=function(a){this.Ia=a};q.cb=function(a){this.fr=j;this.M9.push(a);a.Kda(this)};q.Kda=function(a){this.oa=a};q.Vb=function(){return this.fr};q.ia=function(){if(this.uR>=0)return this.uR;return this.M9.length};
q.Mda=function(a){this.uR=a};q.cU=function(a){this.rqa=a};q.mI=function(a,b){this.XB=a;this.$y=b};q.Px=function(){if(this.XB==-1||this.$y==-1)return 0;return this.XB/this.$y};q.P$=function(a){this.km=new Image;I&&document.body.appendChild(this.km);this.j8=this.wFa.bind(this,a);this.km.onload=this.j8;this.km.src=this.bx};q.wFa=function(a){this.mI(this.km.width,this.km.height);I&&document.body.removeChild(this.km);this.km=this.j8=k;a&&a()};
q.kL=function(a,b,c){var d=a,f=b||a,g=f,h=c?this.Px():1;if(h>1)g=Math.round(d/h);else if(h>0)d=Math.round(g*h);if(d>a){g=Math.round(g*a/d);d=a}if(g>f){d=Math.round(d*f/g);g=f}return{width:d,height:g}};q.w4=function(){if(this.XB==-1||this.$y==-1)return k;return this.XB.toString()+"x"+this.$y.toString()};var iF=function(a,b,c){var d=a.lq(),f=BE(d||""),g=CE(f,c||160);if(b)d=CE(f,b);hF.call(this,a.kd(),"photo",g,d||"");this.mI(a.iw,a.Oy);this.xr=a};B(iF,hF);iF.prototype.Ly=function(a){return a?this.tga||this.bx:CE(BE(this.bx),160,j)};iF.prototype.p=function(){return this.xr.id||""};iF.prototype.Dt=function(){return this.xr.Dt()||""};var jF=function(a){var b=BE(a.lq()||"");b=CE(b,32,j);hF.call(this,a.kd(),"album",b,"");this.Mda(a.ia());this.Hw=a};B(jF,hF);jF.prototype.ME=function(){return this.Hw.ME()};
jF.prototype.p=function(){return this.Hw.id||""};var kF=function(a,b,c,d,f){this.title=a;this.user=b;this.r=c;this.tp=this.r.wF(b);this.yr=k;this.dI=d;this.view=f;this.gh=[];this.ya=k;this.j=new fq(this);f&&f.Mk&&f.Mk(this);this.lM()};q=kF.prototype;q.rx=k;q.BI=function(a){this.yr&&this.j.Cb(this.yr,"error",this.DF);(this.yr=a)&&this.j.g(this.yr,"error",this.DF)};q.Ada=function(a){this.tp&&this.j.Cb(this.tp,"error",this.DF);(this.tp=a)&&this.j.g(this.tp,"error",this.DF)};
q.DF=function(){this.r.Iv(l);var a=this.r.k6();a.Pp(this.r.Oe("MSG_SCRIPT_LOAD_ERROR"))};q.NI=function(a){this.user=a;this.Ada(this.r.wF(a))};q.MEa=function(a){this.yr?this.yr.LR(a):a(k,0,0)};q.EEa=function(a){this.tp?this.tp.LR(a):a(k,0,0)};q.lM=function(){this.gh.getMsgPhotoCount=lF;this.gh.MSG_PHOTOS_BACK_LINK="&laquo; Back to albums";this.gh.MSG_PHOTO_COUNT="1 photo.";this.gh.MSG_NO_IMAGES_FOUND="No Images Found.";this.gh.MSG_PHOTOS_LOADING="Loading Photos.."};q.T4=function(){return this.gh};
var mF=function(a){var b;if(a){var c=a.IN();b=vb(c,function(d){return new jF(d)})}else b=[];return b},nF=function(a,b){var c;if(a){var d=a.IN(),f=b.Aa("imgmax"),g=b.Aa("thumbsize"),h,i;if(g)h=Number(g);if(f)i=Number(f);c=vb(d,function(m){return new iF(m,i,h)})}else c=[];return c};var oF=function(a){var b=a.kc("usernameShow"),c=a.kc("albumListSubShow");gF.call(this,a,b,c)};B(oF,gF);q=oF.prototype;q.OFa="Cancel";q.gaa="No public albums found.";q.PFa="1 photo.";q.QFa="Loading Album List...";q.mwa=function(){var a=this.r.Aa("albumPaneTitle");if(a)return a;var b=this.r.Fq();if(!b)return"Select an album";var c="Select a picture of "+b;return c};q.lwa=function(a){if(this.r.Aa("newMessages"))return"";return a?this.r.Aa("defaultAlbumSubtitle"):this.r.Aa("defaultAlbumSubtitleNoUser")};
q.kwa=function(a){var b=a+" photos.";return b};q.NR=function(){var a=this.r.U5(),b=this.r,c;c=a.view?A(a.view.Xr,a.view):A(this.Xr,this);a.EEa(function(d){b.zd(mF(d));c()})};var pF=function(a){this.r=a;this.s=a.M();this.j=new fq(this);this.oa=this.ZEa();this.xla=this.r.Aa("rectangularCrop")==1;this.Si=24;this.Ri=48;this.CH=64;this.aL=this.r.Aa("cropaspect");if(!this.r.Aa("rectangularCrop"))this.aL=1};pF.prototype.zT=l;pF.prototype.Nb=function(){return this.oa};pF.prototype.l=function(){if(this.j){this.j.l();this.j=k}};
pF.prototype.ZEa=function(){var a=this.s.createElement("div"),b=this.s.createElement("table"),c=this.s.createElement("tbody"),d=this.s.createElement("tr"),f=this.s.createElement("td");b.appendChild(c);b.className="mp_dialog";c.appendChild(d);d.appendChild(f);a.appendChild(b);var g=Ya(this.r.Fq(),75,j),h=this.r.Ku()?"Crop this picture of yourself.":this.jwa(g);tm(f,h);f.className="mp_title";d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");d.appendChild(f);f.className="mp_middle";
f.height=192;var i=this.s.createElement("p");f.appendChild(i);var m=this.s.createElement("span");m.className="mp_gray";tm(m,"You can drag the box to select the crop area, and use the handle to resize it.");i.appendChild(m);this.Cs=this.s.createElement("p");this.Pga();f.appendChild(this.Cs);var n=this.s.createElement("table"),o=this.s.createElement("tbody"),p=this.s.createElement("tr"),r=this.s.createElement("td");n.appendChild(o);o.appendChild(p);p.appendChild(r);f.appendChild(n);this.Ws=this.s.createElement("div");
this.xl=this.s.createElement("img");this.xl.border=0;this.xl.onmousedown=function(){return l};this.Ws.appendChild(this.xl);r.appendChild(this.Ws);this.Ip=this.s.createElement("div");this.Ip.className="mp_cropFilter";this.Ws.appendChild(this.Ip);Dq(this.Ip,0.7);this.Ti=this.s.createElement("div");this.Ti.id="mp_crop_box";this.Ti.className="mp_cropBox";this.Ws.appendChild(this.Ti);this.Xs=this.s.createElement("img");this.Xs.border=0;this.Ti.appendChild(this.Xs);this.bo=this.s.createElement("img");this.bo.id=
"mp_crop_resize";this.bo.className="mp_cropResize";this.bo.border=0;this.bo.src=this.r.ky("GrowBox.gif");this.Ws.appendChild(this.bo);r=this.s.createElement("td");r.className="mp_preview";p.appendChild(r);var t=this.s.createElement("table"),v=this.s.createElement("tbody"),w=this.s.createElement("tr"),x=this.s.createElement("td");t.appendChild(v);v.appendChild(w);w.appendChild(x);r.appendChild(t);this.vm=this.s.createElement("div");this.vm.className="mp_previewContainer";this.rh=this.s.createElement("img");
this.rh.border=0;this.rh.width=128;this.rh.height=96;this.rh.onmousedown=function(){return l};this.vm.appendChild(this.rh);x.appendChild(this.vm);w=this.s.createElement("tr");v.appendChild(w);x=this.s.createElement("td");w.appendChild(x);var z=this.s.createElement("span");z.className="mp_previewLabel";tm(z,"Preview");x.appendChild(z);x.align="center";d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");d.appendChild(f);f.className="mp_buttons";this.uf=this.s.createElement("input");
this.uf.id="mp_submit_button";this.uf.className="mp_next";this.uf.type="button";this.uf.value=this.r.Oe("MSG_SUBMIT_CROP_LABEL");f.appendChild(this.uf);this.j.g(this.uf,"click",this.$r);this.re=this.s.createElement("input");this.re.id="mp_cancel_button";this.re.type="submit";this.re.value="Cancel";f.appendChild(this.re);this.j.g(this.re,"click",this.ag);this.EFa=this.CF.bind(this);this.rKa=this.EAa.bind(this);this.IEa=this.Hza.bind(this);this.j.g(this.Ti,"mousedown",this.EFa);this.j.g(this.bo,"mousedown",
this.rKa);this.j.g(this.xl,"load",this.IEa);return a};function _PP_GoBackG_(a){a.pI(a.Vj.ad)}u("_PP_GoBackG_",_PP_GoBackG_,void 0);function _PP_GoBackU_(a){a.CU()}u("_PP_GoBackU_",_PP_GoBackU_,void 0);function _PP_GoBackW_(a){a.nOa()}u("_PP_GoBackW_",_PP_GoBackW_,void 0);q=pF.prototype;
q.Pga=function(){window.photopickerInstance=this.r;var a="",b="";if(this.CT==0){a="U";b=this.r.Oe("MSG_UPLOAD_BACK_LINK")}else if(this.CT==2){a="G";b="&laquo; Back to pictures"}else if(this.CT==8){a="W";b="&laquo; Back to web address"}this.Cs.innerHTML='<a href="javascript:_PP_GoBack'+a+'_(photopickerInstance);">'+b+"</a>"};
q.No=function(a,b){if(this.xr!=a){this.xr=a;this.CT=b;this.Pga();this.ed=a.kL(210,158,j);this.s_(this.CH,this.CH);var c=this.r.gP();this.xl.src=c;this.rh.src=c;var d=a.lq();this.xl.src=d;this.rh.src=d;this.xl.width=this.ed.width;this.xl.height=this.ed.height;this.Xs.width=this.ed.width;this.Xs.height=this.ed.height;this.Xs.src=c;this.Xs.src=d;this.Ip.style.width=this.ed.width+1+"px";this.Ip.style.height=this.ed.height+1+"px";this.cg=this.He=Math.round(Math.min(this.ed.width/2,this.ed.height/2));this.n0();
this.qna()}};q.qna=function(){this.Ri=(this.ed.width-this.He)/2;this.Si=(this.ed.height-this.cg)/2;this.wJ()};q.s_=function(a,b){var c=Math.round(a*this.ed.width/this.He),d=Math.round(b*this.ed.height/this.cg);this.xba={width:c,height:d};this.rh.width=c;this.rh.height=d};q.joa=function(a,b,c,d){var f=c-b.left,g=d-b.top,h=Math.min(b.width,f),i=Math.min(b.height,g);if(a>=1){i=h/a;if(i>g){i=g;h=i*a}}else{h=i*a;if(h>f){h=f;i=h/a}}return new uh(b.left,b.top,h,i)};
q.wJ=function(){var a=tq(this.Ws),b=this.r.u4(),c=tq(b);a.x-=c.x;a.y-=c.y;this.Ti.style.left=Math.round(a.x+this.Ri)+"px";this.Ti.style.top=Math.round(a.y+this.Si)+"px";var d=this.CH,f=this.CH;if(this.He){this.Ti.style.width=this.He+"px";this.Ti.style.height=this.cg+"px";if(this.xla){var g=this.He/this.cg;if(this.He>this.cg)f=Math.round(d/g);else d=Math.round(f*g);this.vm.style.width=d+"px";this.vm.style.height=f+"px"}this.s_(d,f)}this.Ip.style.left=a.x+"px";this.Ip.style.top=a.y+"px";var h=Math.round(this.Ri*
this.xba.width/this.ed.width),i=Math.round(this.Si*this.xba.height/this.ed.height);this.vm.scrollLeft=h;this.vm.scrollTop=i;if(this.He){this.bo.style.left=a.x+this.Ri+this.He+"px";this.bo.style.top=a.y+this.Si+this.cg+"px"}this.Ti.scrollTop=this.Si+2;this.Ti.scrollLeft=this.Ri+2};q.PE=function(a,b){return Math.round(a*100/b)/100};
q.mua=function(){var a=this.PE(this.Ri,this.ed.width),b=this.PE(this.Si,this.ed.height),c=this.PE(this.Ri+this.He+2,this.ed.width),d=this.PE(this.Si+this.cg+2,this.ed.height);return a+","+b+","+c+","+d};q.Hza=function(){this.wJ()};q.Kj=function(){this.xl&&this.ed&&this.wJ();this.Lh(l)};
q.CF=function(a){var b=I?a.button+1:a.button;if(b>1)return l;this.y8={x:a.clientX,y:a.clientY};this.MQ=this.Ri;this.rCa=this.Si;this.Tz=this.BF.bind(this);this.MB=this.Ry.bind(this);this.jA=this.Sza.bind(this);V(this.s.body,"mousemove",this.Tz,l);V(this.s.body,"mouseup",this.MB,l);V(this.s.body,"mouseout",this.jA,l);a.preventDefault();return l};q.EAa=function(a){this.zT=j;this.qCa=this.He;this.pCa=this.cg;this.CF(a)};
q.n0=function(){var a=this.ed.width-2,b=this.ed.height-2;if(this.aL>0){var c=new uh(this.Ri,this.Si,this.He,this.cg),d=this.joa(this.aL,c,a,b);this.He=d.width;this.cg=d.height}else{var f=a-this.Ri,g=b-this.Si;this.He=Math.min(this.He,f);this.cg=Math.min(this.cg,g)}};
q.BF=function(a){var b={x:a.clientX,y:a.clientY},c=b.x-this.y8.x,d=b.y-this.y8.y,f=this.MQ,g=this.rCa;if(this.zT){this.He=Math.max(this.qCa+c,16);this.cg=Math.max(this.pCa+d,16);this.n0()}else{f+=c;g+=d;f=Math.max(f,0);g=Math.max(g,0);var h=this.ed.width-this.He-2,i=this.ed.height-this.cg-2;f=Math.min(f,h);g=Math.min(g,i)}this.Ri=f;this.Si=g;this.wJ();a.preventDefault();return l};
q.Ry=function(a){Ci(this.s.body,"mousemove",this.Tz,l);Ci(this.s.body,"mouseup",this.MB,l);Ci(this.s.body,"mouseout",this.jA,l);this.zT=l;a.preventDefault();return l};q.Sza=function(a){a.relatedTarget||a.toElement||this.Ry(a)};q.$r=function(){this.r.Oqa(this.mua())};q.ag=function(){this.r.ce();this.r.Nc()};q.Lh=function(a){this.uf.disabled=a;this.re.disabled=a};q.Mk=function(a){this.ad=a};
q.jwa=function(a){var b=this.r.Aa("cropPaneTitle");if(b)return b;if(!a)return"Crop this picture";var c="Crop this picture of "+a;return c};var qF=function(a){this.r=a;this.j=new fq(this);this.oa=this.aFa()};q=qF.prototype;q.Nb=function(){return this.oa};q.Kj=function(){this.Lh(l)};q.l=function(){if(this.j){this.j.l();this.j=k}};
q.aFa=function(){var a=this.r.Fq(),b=this.r.kc("profileMode"),c;if(b)c="You have selected the following picture.  You can accept this photo or upload another one.";else{var d=a+" has selected this picture. You can accept this photo or upload your own picture.";c=d}var f=c,g;if(b)g="You haven't yet selected a picture, but you can upload one now.";else{var h=a+(" hasn't yet selected a picture. However, you can upload your own picture for "+(a+"."));g=h}var i=g,m=b?"My Picture":"Their Picture",n=new Ml(this.s),
o=n.h.bind(n,"div"),p=n.h.bind(n,"p"),r=n.h.bind(n,"img"),t=n.h.bind(n,"table"),v=n.h.bind(n,"tbody"),w=n.h.bind(n,"tr"),x=n.h.bind(n,"td"),z=n.h.bind(n,"input"),E=[w(k,x({"class":"mp_title"},m)),w({},x({"class":"mp_middle",height:"100%"},t({},v({},w({},x({"class":"mp_middle mp_leftcell"},this.km=r({})),x({"class":"mp_middle mp_rightcell"},p({},f))))))),w({},x({"class":"mp_buttons",valign:"bottom"},this.re=z({type:"button",value:"Cancel"}),this.uf=z({type:"submit",value:"Accept this picture"})))];
this.R2=o({style:"display: none"},t({"class":"mp_dialog"},v({},E)));E=[w(k,x({"class":"mp_title"},m)),w({},x({"class":"mp_middle",height:"100%"},p({},i))),w({},x({"class":"mp_buttons",valign:"bottom"},this.C_=z({type:"button",value:"Cancel"})))];this.vaa=o({style:"display: none"},t({"class":"mp_dialog"},v({},E)));this.j.g(this.re,"click",this.ag);this.j.g(this.C_,"click",this.ag);this.j.g(this.uf,"click",this.$r);return o({style:"height: 100%"},this.R2,this.vaa)};
q.ANa=function(a){this.xr=new hF("Their picture","image/jpeg",a,a);this.xr.P$(this.eIa.bind(this));this.km.src=a;this.jfa(l)};q.eIa=function(){this.jfa(j)};q.jfa=function(a){iq(this.R2,"display",a?"block":"none");iq(this.vaa,"display",a?"none":"block")};q.Lh=function(a){this.re.disabled=a;this.C_.disabled=a;this.uf.disabled=a};q.ag=function(){this.r.ce();this.r.Nc()};q.$r=function(){this.r.No(this.xr,2);this.r.Pqa()};var rF=function(a,b,c,d,f,g,h,i,m){this.s=a;this.Bma=b;this.dCa=c;this.i_=d;this.HT=this.e$=0;this.Sb=i;this.l2=m;this.vi=k;this.Qz=f;this.cS=g;this.FC=this.i_-this.e$-this.HT;this.Rfa=this.Al=h;this.MQ=0;this.TH()};q=rF.prototype;q.Wxa=function(){return this.vi};
q.TH=function(){this.vi=this.s.createElement("span");this.Ow=this.s.createElement("img");this.Ow.setAttribute("src",this.Bma);this.Ow.setAttribute("width",this.i_);this.LQ=this.s.createElement("div");this.Zh=this.s.createElement("img");this.Zh.setAttribute("src",this.dCa);this.Zh.setAttribute("border","0");var a=H?"e-resize":"ew-resize";if(pe)a="move";var b=this.Zh,c="position:relative; top:0px; left:0px; cursor:"+a;H?b.style.setAttribute("cssText",c):b.setAttribute("style",c);this.Zh.style.top="2px";
this.vi.appendChild(this.Ow);this.vi.appendChild(this.Zh);this.oU()};q.Kj=function(){this.R9=this.CF.bind(this);this.h_=this.xza.bind(this);V(this.Zh,"mousedown",this.R9,l);V(this.Ow,"click",this.h_,l)};q.t1=function(){Ci(this.Zh,"mousedown",this.R9,l);Ci(this.Ow,"click",this.h_,l)};
q.CF=function(a){var b=I?a.button+1:a.button;if(b>1)return l;this.MQ=a.clientX-this.HT;this.aYa=parseInt(this.Zh.style.left,10);this.Rfa=this.Al;this.a_=tq(this.vi);this.Tz=this.BF.bind(this);this.MB=this.Ry.bind(this);this.jA=this.rAa.bind(this);V(this.s.body,"mousemove",this.Tz,l);V(this.s.body,"mouseup",this.MB,l);V(this.s.body,"mouseout",this.jA,l);a.preventDefault();return l};
q.BF=function(a){var b=Math.round(this.Zh.width/2),c=a.clientX-this.a_.x;if(c<this.FC/2)b=0;this.Al=this.Uma(c-b);this.oU();this.Sb&&this.Sb(this.Al);a.preventDefault();return l};q.Ry=function(a){Ci(this.s.body,"mousemove",this.Tz,l);Ci(this.s.body,"mouseup",this.MB,l);Ci(this.s.body,"mouseout",this.jA,l);this.l2&&this.l2(this.Rfa,this.Al);a.preventDefault();return l};q.rAa=function(a){a.relatedTarget||a.toElement||this.Ry(a)};q.xza=function(a){this.a_=tq(this.vi);return this.BF(a)};
q.wva=function(a){var b=this.Tma(a),c=Math.round(this.Zh.width/2);return b-c-this.HT-this.FC};q.oU=function(){this.Zh.style.left=this.wva(this.Al)+"px"};q.aa=function(){return this.Al};q.Pa=function(a,b){if(a!=this.Al){this.Al=a;this.oU();this.Sb&&!b&&this.Sb(this.Al)}};q.Tma=function(a){return(a-this.Qz)*this.FC/(this.cS-this.Qz)};q.Uma=function(a){var b=Math.round(this.Zh.width/2),c=this.cS-this.Qz,d=this.Qz+Math.round(c*(a-this.e$)/(this.FC-b));return Math.max(Math.min(d,this.cS),this.Qz)};var sF=function(a){this.r=a;this.s=a.M();this.uLa=-1;this.Au=[];this.wH=[];this.vi=this.um=this.vh=k;this.ow=3;this.ad=k;this.j=new fq(this);this.oa=this.cFa();this.x1=this.r.Aa("defaultAlbumOnly");u("photopickerInstance",this.r,void 0)};q=sF.prototype;q.qMa=function(a){this.x1=a};q.YT=function(a){if(a!=this.vh){this.vh=a;this.uLa=-1;a&&delete this.um;this.YV()}};q.fq=function(){return this.vh};q.zNa=function(a){this.um=a};q.Kna=function(){delete this.um;this.um=k};
q.hla=function(a){this.ow=a<3?2:a<9?4:a<16?5:a<24?6:7;this.SU.Pa(100-this.ow*10)};q.Kj=function(){this.um||this.LEa()};q.Nb=function(){return this.oa};q.l=function(){if(this.j){this.j.l();this.j=k}};
q.cFa=function(){var a=this.r.kc("imagePickOnly"),b=this.r.kc("defaultAlbumOnly"),c=this.r.Fq(),d=this.s.createElement("table"),f=this.s.createElement("tbody"),g=this.s.createElement("tr"),h=this.s.createElement("td");d.appendChild(f);d.className="mp_dialog";f.appendChild(g);g.appendChild(h);var i=!b||!a;if(i){var m="";if(!this.r.Aa("newMessages"))if(c){var n="Select a picture of "+c;m=n}else m="Select a picture";tm(h,this.r.Ku()?"Select a picture of yourself":m);h.className="mp_title";g=this.s.createElement("tr");
f.appendChild(g);h=this.s.createElement("td");g.appendChild(h);h.className="mp_middle";h.height="100%";this.nB=this.s.createElement("p");h.appendChild(this.nB);this.YV()}this.Tk=this.s.createElement("div");this.Tk.className="mp_pictures"+this.r.Ky();this.Tk.id="mp_pictures";this.KC();this.j.g(this.Tk,"mousedown",this.oS);this.Ny=this.s.createElement("div");this.Ny.className="mp_scroller"+this.r.Ky();this.Ny.appendChild(this.Tk);h.appendChild(this.Ny);var o=this.r.Aa("albumPaneMsg");if(o){this.Vz=
this.s.createElement("div");this.Vz.className="mp_msg";h.appendChild(this.Vz);tm(this.Vz,o);var p=this.r.Aa("albumPaneLinkTitle"),r=this.r.Aa("albumPaneLink");if(p&&r){var t=document.createTextNode(" ");this.Vz.appendChild(t);var v=document.createElement("a");v.href=r;v.target="_blank";tm(v,p);this.Vz.appendChild(v)}}g=this.s.createElement("tr");f.appendChild(g);var w;if(a){w=this.s.createElement("td");g.appendChild(w)}else{h=this.s.createElement("td");g.appendChild(h);h.className="mp_buttons";var x=
this.s.createElement("table");x.width="100%";var z=this.s.createElement("tbody"),E=this.s.createElement("tr"),M=this.s.createElement("td");w=M;h.appendChild(x);x.appendChild(z);z.appendChild(E);E.appendChild(M);var J=this.s.createElement("input");J.type="submit";J.value="Cancel";M.appendChild(J);this.j.g(J,"click",this.ag);M=this.s.createElement("td");M.align="right";E.appendChild(M)}var U=this.s.createElement("span");U.className="mp_zoom";var R=this.s.createElement("span");R.className="mp_gray";
tm(R,"Zoom:");var N=em("&nbsp;");R.appendChild(N);U.appendChild(R);var sa=this.ow*10;this.SU=new rF(this.s,this.r.ky("Track.gif"),this.r.ky("Knob.gif"),120,0,100,sa,A(this.JRa,this));U.appendChild(this.SU.Wxa());this.vi=U;w.appendChild(U);this.SU.Kj();return d};function _PP_GoBack_(a){a.To(a.iO().view)}u("_PP_GoBack_",_PP_GoBack_,void 0);q=sF.prototype;
q.YV=function(){var a=k;if(this.vh){var b=this.vh.ia();a=b==1?this.gh.MSG_PHOTO_COUNT:this.gh.getMsgPhotoCount(b);gm(this.nB);if(!this.x1){var c=em('<a href="javascript:_PP_GoBack_(photopickerInstance);" >'+this.gh.MSG_PHOTOS_BACK_LINK+"</a>&nbsp;&nbsp;&nbsp;");this.nB.appendChild(c)}var d=this.nB,f,g=this.vh.kd();f=document.createTextNode(g);d.appendChild(f);var h=em("&nbsp;&nbsp;<span class=mp_photocount>"+a+"</span>");this.nB.appendChild(h)}};q.Z_=function(){gm(this.Tk)};
q.ag=function(){this.r.ce();this.r.Nc()};q.JRa=function(a){this.wOa(Math.round((100-a)/10))};q.t_=function(){var a=Aq(this.Tk);return Math.round((a.width-16)/this.ow)-12};
q.lIa=function(){this.Au=[];this.wH=[];var a=this.um,b=this.t_();this.Z_();for(var c=0;c<a.length;c++){var d=a[c],f=this.s.createElement("img"),g=d.Px();if(g==0)var h=Math.round(b*3/4);else{g>1||(b=Math.round(b*g));h=Math.round(b/g)}f.src=d.Ly(0);f.width=b;f.height=h;f.mba=c;if(d.kd()!=k)f.title=this.xya(d);this.Tk.appendChild(f);this.Au.push(f);this.wH.push(d)}this.eha();this.vi&&$(this.vi,a.length>0)};
q.KC=function(){if(this.r.kR()){var a=this.s.createElement("div"),b=this.r.tP(),c=em("<br><br><br><center><font size=4 font color=#4D4D4D>"+this.gh.MSG_PHOTOS_LOADING+'<img src="'+b+'" hspace=8></font></center>');a.appendChild(c);this.Tk.appendChild(a)}};q.Pp=function(a){gm(this.Tk);var b=this.s.createElement("div"),c=em("<br><br><br><center><font size=4 font color=#cc0000>"+a+"</font></center>");b.appendChild(c);this.Tk.appendChild(b)};q.xya=function(a){var b=a.kd(),c=a.w4();if(c!=k)b+=", "+c;return b};
q.eha=function(){for(var a=this.t_(),b=0;b<this.Au.length;b++){var c=this.wH[b],d=this.Au[b],f=c.kL(a);d.width=f.width;d.height=f.height}};q.Sma=function(a){for(var b=0;b<this.Au.length;b++){var c=this.Au[b],d=tq(c);if(pe){d.x-=this.Ny.scrollLeft;d.y-=this.Ny.scrollTop}var f=Aq(c);if(a.x>=d.x&&a.y>=d.y&&a.x<d.x+f.width&&a.y<d.y+f.height)return b}return k};q.LEa=function(){this.r.Iv(j);this.Z_();this.KC();var a=this.r.U5(),b=this.r.iO();b==a?this.NEa(a):this.JEa(b)};
q.JEa=function(a){var b,c=this.r.Aa("defaultAlbumFeedUrl");if(c)b=c;else if(this.vh!=k){b=this.vh.lq();if(b==k)return}else b=a.ha();b=this.r.HZ(b||"");this.r.d3(b,1)};q.NEa=function(a){a.MEa(A(function(b,c,d){this.um=b&&d?nF(b,this.r):[];this.r.Iv(l);if(d<1||this.um.length<1){this.Pp(this.gh.MSG_NO_IMAGES_FOUND);this.vi&&$(this.vi,l)}else this.Xr()},this))};
q.oS=function(a){if(this.r.kR())return l;var b;b=a.target&&typeof a.target.mba=="number"?a.target.mba:this.Oxa(a);if(la(b)){var c=this.wH[b],d=this.r.kc("cropEnabled");d&&this.r.kI(this.ad);this.r.No(c,2);d||this.r.MM()}return j};q.Oxa=function(a){var b={x:a.clientX,y:a.clientY},c=Xl();b.x+=c.x;b.y+=c.y;return this.Sma(b)};q.wOa=function(a){if(a<1)a=1;if(this.ow!=a){this.ow=a;this.eha()}};q.Xr=function(){this.hla(this.um.length);this.lIa();this.YV()};q.Mk=function(a){this.ad=a;this.gh=a.T4()};
var lF=function(a){var b=a+" photos.";return b};var tF=function(a,b){this.r=a;this.p8=b;this.j=new fq(this);this.oa=this.fFa()};q=tF.prototype;q.Nb=function(){return this.oa};q.Kj=function(){this.Lh(l)};q.l=function(){if(this.j){this.j.l();this.j=k}};
q.fFa=function(){var a=new Ml(this.s),b=a.h.bind(a,"div"),c=a.h.bind(a,"p"),d=a.h.bind(a,"img"),f=a.h.bind(a,"table"),g=a.h.bind(a,"tbody"),h=a.h.bind(a,"tr"),i=a.h.bind(a,"td"),m=a.h.bind(a,"input");if(!this.p8)return b({});var n=[h({},i({"class":"mp_title"},"No Picture")),h({},i({"class":"mp_middle",height:"100%"},f({},g({},h({},i({"class":"mp_middle mp_leftcell"},d({src:this.p8})),i({"class":"mp_middle mp_rightcell"},c({},"Show this default picture."))))))),h({},i({"class":"mp_buttons",valign:"bottom"},
this.re=m({type:"button",value:"Cancel"}),this.uf=m({type:"submit",value:"Apply Changes"})))];this.j.g(this.re,"click",this.ag);this.j.g(this.uf,"click",this.$r);return b({style:"height: 100%"},f({"class":"mp_dialog"},g({},n)))};q.Lh=function(a){this.uf.disabled=a;this.re.disabled=a};q.ag=function(){this.r.ce();this.r.Nc()};q.$r=function(){this.r.No(k,2);this.r.Qqa()};var uF={w4:function(){if(!this.iw&&this.Oy)return k;return this.iw+"x"+this.Oy},kL:function(a,b,c){var d=a,f=b||a,g=f,h=c?this.Px():1;if(h>1)g=Math.round(d/h);else if(h>0)d=Math.round(g*h);if(d>a){g=Math.round(g*a/d);d=a}if(g>f){d=Math.round(d*f/g);g=f}return{width:d,height:g}}},vF=function(a){nc(a,uF)};var wF={MSG_SCRIPT_LOAD_ERROR:"No images found.",MSG_PANEL_CHOOSE:"Choose a picture from:",MSG_SUBMIT_CROP_LABEL:"Apply Changes",MSG_UPLOAD_BACK_LINK:"&laquo; Back to upload",MSG_URL_LABEL:"Image URL",MSG_URL_INSTRUCTIONS:"Type the image URL in the text field above. If it's correct, you'll see an image preview here.  Large images may take a while to appear.",MSG_URL_CAVEAT:"Remember, using others' images on the web without their permission may be bad manners or worse, copyright infringement.",MSG_SELECT_URL_LABEL:"Select Image",
MSG_UPLOAD_TITLE:"Upload a picture of yourself",MSG_UPLOAD_STORAGE_INFO:"This photo will be available to view and share in Picasa Web Albums, Google's free photo hosting service. Go to: http://picasaweb.google.com to see it now and start sharing!",MSG_UPLOAD_STORAGE_INFO_GP:"This photo will be available to view and share in Google Photos, Google's free photo hosting service. Go to: http://photos.google.com to see it now and start sharing!",MSG_UPLOAD_FEEDBACK:"Uploading Image...",MSG_UPLOAD_BUTTON_LABEL:"Upload Picture"};var xF=function(a,b,c,d,f,g){this.title=a;this.user=b;this.Bt=c;this.xa=d;this.dI=f;this.view=g;this.lu=[];this.ya=k;g!=k&&g.Mk&&g.Mk(this);this.lM();this.ys=k};q=xF.prototype;q.NI=function(a){return this.user=a};q.ha=function(){if(!this.xa)return k;return this.xa.replace(/<userId>/,this.user)};q.Qra=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];if(d.rel==b)return d.href}return k};
q.Z2=function(a){var b=[],c=a.feed.entry;if(!c)return b;for(var d=0;d<c.length;d++){var f=c[d],g=new Ed(this.Qra(f.link,"http://schemas.google.com/g/2005#feed")),h=f.media.thumbnail[0].url;g.fa("alt","jsonm");g.fa("kind","photo");g.fa("thumbsize","160");var i=new hF(f.title,"container/photos",h,g.toString());i.Mda(f.numPhotos);i.cU(f.summary);i.ti(f.albumId);b.push(i)}return this.ys=b};
q.Gra=function(a,b){var c=[],d=a.feed.entry;if(!d)return c;if(d)for(var f=0;f<d.length;f++){var g=d[f],h=g.content$src,i=g.media.thumbnail[0].url;i=i.split("?")[0];var m=new hF(g.title,g.content$type,i,h);m.mI(g.width,g.height);c.push(m);b&&b.cb(m)}return c};q.lM=function(){this.lu.getMsgPhotoCount=lF;this.lu.MSG_PHOTOS_BACK_LINK="&laquo; Back to albums";this.lu.MSG_PHOTO_COUNT="1 photo.";this.lu.MSG_NO_IMAGES_FOUND="No Images Found.";this.lu.MSG_PHOTOS_LOADING="Loading Photos.."};q.T4=function(){return this.lu};var yF=function(a){this.r=a;this.s=a.M();this.j=new fq(this);this.oa=this.iFa();this.reset();this.hb()};q=yF.prototype;q.fI=k;q.Nb=function(){return this.oa};q.hb=function(){var a=pe?"inline":"";this.oa.style.display=a};q.Nc=function(){this.oa.style.display="none"};q.reset=function(){var a=function(c){return!c.yg},b=ub(this.r.w6(),a);this.pda(b[0])};q.l=function(){if(this.j){this.j.l();this.j=k}};
q.pda=function(a){if(this.fI!=a){if(this.fI!=k)this.fI.ya.className="mp_unselected";a.ya.className="mp_selected";this.fI=a;this.r.pMa(a);return j}return l};
q.iFa=function(){var a=this.s.createElement("table");a.className="mp_sourcePanel"+this.r.Ky();var b=this.s.createElement("tbody");a.appendChild(b);for(var c=this.r.w6(),d=0;d<c.length;d++){var f=c[d],g=this.s.createElement("tr");b.appendChild(g);var h=this.s.createElement("td");h.className=f.yg?"mp_sourcePanel_title":"mp_unselected";h.style.display="block";if(f.dI!=k)h.id="mp_sourcePanel_"+f.dI;g.appendChild(h);f.ya=h;tm(h,f.title);f.yg||this.j.g(h,"click",this.CPa.bind(this,f))}g=this.s.createElement("tr");
b.appendChild(g);h=this.s.createElement("td");g.appendChild(h);h.height="100%";h.className="mp_sourcePanel_spacer";return a};q.CPa=function(a){this.pda(a)&&this.r.To(a.view)};var zF=function(a){this.title=a;this.yg=j};var AF=function(a){this.r=a;this.s=a.M();this.j=new fq(this);this.oa=this.jFa()};q=AF.prototype;q.Nb=function(){return this.oa};q.Kj=function(){this.Lh(l)};q.l=function(){if(this.j){this.j.l();this.j=k}};q.YMa=function(a){this.rh.src=a};
q.jFa=function(){var a=this.r.Fq(),b=BF(a),c=CF(a),d=DF(a),f=this.r.gP(),g=new Ml(this.s),h=g.h.bind(g,"table"),i=g.h.bind(g,"tbody"),m=g.h.bind(g,"tr"),n=g.h.bind(g,"td"),o=g.h.bind(g,"p");g.h.bind(g,"a");var p=g.h.bind(g,"div"),r=g.h.bind(g,"textarea"),t=g.h.bind(g,"input"),v=g.h.bind(g,"img"),w=[n({"class":"mp_title"},b),n({"class":"mp_middle"},o({},c)),n({"class":"mp_middle",style:"height: 100%"},h({width:"100%"},i({},m({},n({"class":"mp_middle mp_leftcell"},this.rh=v({"class":"mp_suggestPreviewImage",
src:f})),n({"class":"mp_middle mp_rightcell",width:"100%"},this.CQa=r({"class":"mp_suggestTextarea"},d)))))),n({"class":"mp_buttons"},this.uf=t({type:"submit",value:"Yes, suggest this picture"}),this.re=t({type:"submit",value:"No, keep this picture to myself"}))];this.j.g(this.uf,"click",this.dQa);this.j.g(this.re,"click",this.lna);return p({style:"height: 100%"},h({"class":"mp_dialog",style:"height: 100%"},i({},vb(w,function(x){return m({},x)}))))};q.dQa=function(){this.r.m2(this.CQa.value);return j};
q.lna=function(){this.r.m2("");return j};var BF=function(a){var b="Suggest this picture to "+(a+"?");return b},CF=function(a){var b="Would you like to suggest that "+(a+" uses this picture? If so, you can send the picture suggestion along with a custom message below.");return b},DF=function(a){var b="Hey "+(a+", I found this great picture for you!");return b};AF.prototype.Lh=function(a){this.uf.disabled=a;this.re.disabled=a};var GF=function(){this.Wb="closure_frame"+EF++;this.dz=[];FF[this.Wb]=this},HF;B(GF,Oi);var FF={},EF=0,IF=function(a,b){uc(b,function(c,d){var f=am("input",{type:"hidden",name:d,value:c});a.appendChild(f)})};q=GF.prototype;q.u=D("goog.net.IframeIo");q.ac=k;q.Hb=k;q.Mq=k;q.aGa=0;q.Nd=l;q.sl=l;q.gJ=l;q.rm=k;q.Bz=k;q.zg=0;q.Uk=0;q.$o=k;q.q3=k;q.fo=k;
q.send=function(a,b,c,d){if(this.Nd)e(Error("[goog.net.IframeIo] Unable to send, already active."));var f=new Ed(a);this.rm=f;var g=b?b.toUpperCase():"GET";c&&f.F$();this.u.F("Sending iframe request: "+f+" ["+g+"]");var h;if(!HF){HF=am("form");HF.acceptCharset="utf-8";var i=HF.style;i.position="absolute";i.visibility="hidden";i.top=i.left="-10px";i.width=i.height="10px";i.overflow="hidden";document.body.appendChild(HF)}this.ac=h=HF;g=="GET"&&IF(this.ac,f.mk());d&&IF(this.ac,d);this.ac.action=f.toString();
this.ac.method=g;this.uda()};q.vda=function(a,b,c){if(this.Nd)e(Error("[goog.net.IframeIo] Unable to send, already active."));var d=new Ed(b||a.action);c&&d.F$();this.u.F("Sending iframe request from form: "+d);this.rm=d;this.ac=a;this.ac.action=d.toString();this.uda()};q.abort=function(a){if(this.Nd){this.u.F("Request aborted");Gi(this.kP());this.gJ=this.Nd=this.sl=l;this.zg=a||7;this.dispatchEvent("abort");this.UR()}};
q.n=function(){this.u.Lc("Disposing iframeIo instance");if(this.Nd){this.u.Lc("Aborting active request");this.abort()}GF.f.n.call(this);this.Hb&&this.dda();this.Y1();delete this.Q2;this.rm=this.rEa=this.Bz=this.qEa=this.ac=k;this.zg=0;delete FF[this.Wb]};q.mz=function(){return this.sl};q.yk=function(){return this.gJ};q.je=function(){return this.Nd};q.ok=function(){return this.Bz};q.nk=function(){return wd(this.Bz)};q.o5=function(){return this.rm};q.oy=function(){return this.zg};q.l5=function(){return Ti(this.zg)};
q.KI=function(a){this.Uk=Math.max(0,a)};q.dispatchEvent=function(a){this.Hb&&Vi.FH(this.Hb);try{GF.f.dispatchEvent.call(this,a)}finally{this.Hb&&Vi.yH()}};
q.uda=function(){this.Nd=j;this.sl=l;this.zg=0;this.Roa();if(H){this.ac.target=this.Mq||"";this.IZ();V(this.Hb,"readystatechange",this.ES,l,this);try{this.gN=l;this.ac.submit()}catch(a){Ci(this.Hb,"readystatechange",this.ES,l,this);this.lj(1)}}else{this.u.Lc("Setting up iframes and cloning form");this.IZ();var b=this.Mq+"_inner",c=sm(this.Hb),d="<body><iframe id="+b+" name="+b+"></iframe>";if(oe)c.documentElement.innerHTML=d;else c.write(d);V(c.getElementById(b),"load",this.FS,l,this);for(var f=this.ac.getElementsByTagName("textarea"),
g=0,h=f.length;g<h;g++)Dm(f[g])!=f[g].value&&tm(f[g],f[g].value);var i=c.importNode(this.ac,j);i.target=b;c.body.appendChild(i);var m=this.ac.getElementsByTagName("select"),n=i.getElementsByTagName("select");g=0;for(h=m.length;g<h;g++)n[g].selectedIndex=m[g].selectedIndex;var o=this.ac.getElementsByTagName("input"),p=i.getElementsByTagName("input");g=0;for(h=o.length;g<h;g++)if(o[g].type=="file")if(o[g].value!=p[g].value){this.u.Lc("File input value not cloned properly.  Will submit using original form.");
this.ac.target=b;i=this.ac;break}this.u.Lc("Submitting form");try{this.gN=l;i.submit();c.close();if(I)this.q3=Si(this.qga,250,this)}catch(r){this.u.wa("Error when submitting form: "+Ec(r));Ci(c.getElementById(b),"load",this.FS,l,this);c.close();this.lj(2)}}};q.ES=function(){if(this.Hb.readyState=="complete"){Ci(this.Hb,"readystatechange",this.ES,l,this);var a;try{a=sm(this.Hb);if(H&&a.location=="about:blank"&&!navigator.onLine){this.lj(9);return}}catch(b){this.lj(1);return}this.Ty(a)}};
q.FS=function(){if(!(oe&&this.ZN().location=="about:blank")){Ci(this.kP(),"load",this.FS,l,this);this.Ty(this.ZN())}};
q.Ty=function(a){this.u.Lc("Iframe loaded");this.sl=j;this.Nd=l;var b;try{var c=a.body;this.Bz=c.textContent||c.innerText;this.qEa=c.innerHTML}catch(d){b=1}var f;if(!b&&typeof this.Q2=="function")if(f=this.Q2(a))b=4;this.u.tN("Last content: "+this.Bz);this.u.tN("Last uri: "+this.rm);if(b){this.u.Lc("Load event occurred but failed");this.lj(b,f)}else{this.u.Lc("Load succeeded");this.gJ=j;this.zg=0;this.dispatchEvent("complete");this.dispatchEvent("success");this.UR()}};
q.lj=function(a,b){if(!this.gN){this.Nd=this.gJ=l;this.sl=j;this.zg=a;if(a==4)this.rEa=b;this.dispatchEvent("complete");this.dispatchEvent("error");this.UR();this.gN=j}};q.UR=function(){this.u.F("Ready for new requests");var a=this.Hb;this.dda();this.Y1();Vi.FH(a);try{this.dispatchEvent("ready")}finally{Vi.yH()}};
q.Roa=function(){this.u.Lc("Creating iframe");this.Mq=this.Wb+"_"+(this.aGa++).toString(36);var a={name:this.Mq,id:this.Mq};if(H&&De<7)a.src='javascript:""';this.Hb=am("iframe",a);var b=this.Hb.style;b.visibility="hidden";b.width=b.height="10px";if(pe)b.marginTop=b.marginLeft="-10px";else{b.position="absolute";b.top=b.left="-10px"}};q.IZ=function(){document.body.appendChild(this.Hb)};
q.dda=function(){var a=this.Hb;if(a){a.onreadystatechange=k;a.onload=k;a.onerror=k;this.dz.push(a)}if(this.fo){Pi.clearTimeout(this.fo);this.fo=k}if(I||oe)this.fo=Si(this.AM,2E3,this);else this.AM();this.Mq=this.Hb=k};q.AM=function(){if(this.fo){Pi.clearTimeout(this.fo);this.fo=k}for(var a=0;a<this.dz.length;){var b=this.dz[a];if(Vi.UCa(b)){this.u.F("Disposing iframe");Eb(this.dz,a);Z(b)}else a++}if(this.dz.length!=0){this.u.F("Requests outstanding, waiting to dispose");this.fo=Si(this.AM,2E3,this)}};
q.Y1=function(){this.ac&&this.ac==HF&&gm(this.ac);this.ac=k};q.ZN=function(){if(this.Hb)return sm(this.kP());return k};q.kP=function(){if(this.Hb)return H?this.Hb:sm(this.Hb).getElementById(this.Mq+"_inner");return k};q.qga=function(){if(this.Nd){this.ZN();this.q3=Si(this.qga,250,this)}};var JF=function(a,b){this.r=a;this.s=a.M();this.MRa=b;this.j=new fq(this);this.oa=this.mFa();this.fYa=k;this.xs=[]};q=JF.prototype;q.gp=k;q.Gw=k;q.Nb=function(){return this.oa};q.Kj=function(){this.Bi.style.display="none";this.fp.style.display="none";var a=this.s.getElementById("mp_upload_form");a.reset();this.eW()&&this.FEa();try{this.Bn.focus()}catch(b){}};q.reset=function(){var a=this.s.getElementById("mp_upload_form");a.reset()};q.l=function(){if(this.j){this.j.l();this.j=k}};
q.JC=function(a,b,c){var d=em('<input type="hidden" name="'+Ta(b)+'" value="'+Ta(c)+'"></input>');a.appendChild(d);return d};q.dka=function(a){var b=this.r.Aa("extraUploadParams"),c=this.r.Aa("extraPicasaWebParams");if(c){if(b)b+=";";b+=c}var d=l;if(b)for(var f=b.split(";"),g=0;g<f.length;g++){var h=f[g],i=h.split("=");if(i.length==2){var m=i[0];this.JC(a,m,i[1]);d=d||"tok"==m}}if(!d){var n=this.r.Aa("tok");n&&this.JC(a,"tok",n)}};
q.mFa=function(){var a=this.s.createElement("div");a.style.height="100%";a.innerHTML='<FORM id="mp_upload_form" method="POST" enctype="multipart/form-data" style="height:100%" onsubmit="return false;"></FORM>';this.ac=a.getElementsByTagName("form")[0];this.dka(this.ac);this.JC(this.ac,"username",this.r.Aa("userId"));var b=this.s.createElement("table"),c=this.s.createElement("tbody"),d=this.s.createElement("tr"),f=this.s.createElement("td");b.appendChild(c);b.className="mp_dialog";c.appendChild(d);
d.appendChild(f);var g=this.r.kc("showUploadTitle");if(g){var h=this.r.Ku(),i="";if(!this.r.Aa("newMessages")){var m=this.r.Fq(),n;if(h)n=this.r.Oe("MSG_UPLOAD_TITLE");else if(m){var o="Upload a picture of "+m;n=o}else n="Upload a picture";i=n}tm(f,i);f.className="mp_title"}if(this.eW()){d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");d.appendChild(f);f.className="mp_middle";f.appendChild(this.lFa())}d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");
f.className="mp_middle";d.appendChild(f);f.height="100%";var p=this.s.createElement("p");this.Bn=this.s.createElement("input");this.Bn.name=this.r.Aa("postFilename");this.Bn.id="mp_file_element";this.Bn.type="file";this.Bn.size=32;p.appendChild(this.Bn);f.appendChild(p);this.j.g(this.Bn,"change",this.Rra);p=this.s.createElement("p");p.className="mp_uploadInfo";var r="You can upload a JPG, GIF, or PNG file.&nbsp;(Do not upload pictures containing celebrities, nudity, artwork or copyrighted images.)";
if(this.r.Ku())r+="<br/><br/>Note: The photo you specify here will be used across all Google products and services which display your public photo.";p.innerHTML=r;f.appendChild(p);this.Bi=this.s.createElement("p");this.Bi.id="mp_upload_hint";this.Bi.style.display="none";f.appendChild(this.Bi);this.fp=this.s.createElement("p");var t=this.r.tP();this.fp.innerHTML="<br><br><span class=mp_uploadFeedback>"+Ta(this.r.Oe("MSG_UPLOAD_FEEDBACK"))+'&nbsp;&nbsp;</span><img src="'+t+'"/>';this.fp.id="mp_upload_feedback";
this.fp.style.display="none";f.appendChild(this.fp);d=this.s.createElement("tr");c.appendChild(d);this.nl=this.s.createElement("td");d.appendChild(this.nl);this.nl.className="mp_buttons";d.XRa="bottom";var v=this.s.createElement("input");v.type="button";v.value="Cancel";this.nl.appendChild(v);this.j.g(v,"click",this.ag);this.Wk=this.s.createElement("input");this.Wk.className="mp_next";this.Wk.type="button";this.Wk.style.display="none";this.Wk.value=this.r.Oe("MSG_UPLOAD_BUTTON_LABEL");this.nl.appendChild(this.Wk);
this.j.g(this.Wk,"click",this.$r);this.ac.appendChild(b);return this.ac};q.Tga=function(){if(!this.Gw){for(var a=this.ac.getElementsByTagName("input"),b,c=0;b=a[c];c++)if(b.form==this.ac&&b.name=="aid"){this.Gw=b;break}if(!this.Gw)this.Gw=this.JC(this.ac,"aid","-1")}this.Gw.value=this.eW()?this.Vm.value||"-1":"-1"};
q.Rra=function(){var a=this.Bn.value;if(a)if(this.r.h9(a)){this.Tga();if(this.r.kc("autoLoad")){this.Bi.style.display="none";this.fp.style.display="inline";this.hha()}else{this.Wk.style.display="";this.Bi.innerHTML="<br><br>Click the Upload Picture button below to upload the selected image.";this.Bi.className="";this.Bi.style.display="none"}}else this.JU("The file you selected is not a valid image file.  Please select another file.");else $(this.Wk,l)};q.Pp=function(a){this.JU(a)};
q.JU=function(a){this.Wk.style.display="none";this.Bi.style.display="";this.Bi.className="mp_uploadError";this.Bi.innerHTML="<br>"+Ta(a)};q.hha=function(){var a=new GF;this.j.g(a,"complete",this.g3.bind(this,a));a.vda(this.ac,this.MRa)};
q.g3=function(a){this.fp.style.display="none";var b;try{b=eval("("+a.ok()+")");if(!b||!s(b.Success))b={Success:l}}catch(c){b={Success:l}}var d=b.Success;if(d){var f=b.Body.imageId,g=b.Body.imageUrl,h=b.Body.thumbnailUrl||g,i=b.Body.mimeType,m=new hF(f,i,h,g);m.P$(this.isa.bind(this,m))}else{this.JU(b.Message||"The file you selected could not be uploaded. It may be too large or it was not a valid image file. Please select another file or click the upload button to try again.");$(this.Wk,j)}};
q.isa=function(a){this.r.No(a,0);this.r.KRa();this.r.kc("cropEnabled")?this.r.kI():this.r.MM()};q.eW=function(){return this.r.kc("uploadAlbumSelect")&&!!this.r.HP()};q.FEa=function(){this.r.ita(this.zZ.bind(this))};q.lFa=function(){this.gp=this.s.createElement("div");tm(this.gp,"Select Upload Album: ");this.Vm=this.s.createElement("select");this.gp.appendChild(this.Vm);$(this.gp,l);this.j.g(this.Vm,"change",this.Tga);return this.gp};
q.zZ=function(a){if(!a||a.length<1)$(this.gp,l);else{if(a.length==1)if(this.r.a9(a[0])){$(this.gp,l);return}var b=this.r.Aa("defaultUploadAlbum"),c=-1,d=this.r.Aa("extraAlbum"),f="",g="";if(d&&d.indexOf(",")>0){var h=d.split(",");f=h[0];g=h[1]}this.Vm.options.length=0;var i=l,m=0,n=30,o=l;if(b){for(var p=0;p<a.length;p++){var r=a[p],t=r.kd();if(t==b){i=j;c=p;break}}if(!i&&f==b){var v=j;c=0;this.Vm.options[m]=new Option(Ya(f,n,o),g,v,v);f="";++m}}for(p=0;p<a.length;p++){r=a[p];t=r.kd();var w=r.p();
v=t==b;this.Vm.options[m]=new Option(Ya(t,n,o),w,v,v);++m;if(v)c=p;if(t==f)f=""}if(f){v=f==b;this.Vm.options[this.Vm.options.length]=new Option(Ya(f,n,o),g,v,v);if(v)c=a.length}if(c>=0)this.Vm.selectedIndex=c;$(this.gp,j)}};q.$r=function(){this.Bi.style.display="none";this.fp.style.display="inline";this.hha();return l};q.ag=function(){this.r.ce();this.r.Nc()};u("photopickerUploadComplete",JF.g3,void 0);u("photopickerUploadView",JF.Wm,void 0);var KF=function(a){this.r=a;this.s=a.M();this.j=new fq(this);this.oa=this.nFa();this.cf=new bz(this.zna,1E3,this)};q=KF.prototype;q.ie=k;q.Nb=function(){return this.oa};q.Kj=function(){try{this.Xk.focus()}catch(a){}};q.l=function(){if(this.j){this.j.l();this.j=k}this.cf.l()};
q.nFa=function(){var a=this.s.createElement("div");a.style.height="100%";var b=this.s.createElement("table"),c=this.s.createElement("tbody"),d=this.s.createElement("tr"),f=this.s.createElement("td");b.appendChild(c);b.className="mp_dialog";c.appendChild(d);d.appendChild(f);a.appendChild(b);var g=this.r.kc("profileMode"),h="";if(!this.r.Aa("newMessages")){var i;if(g)i="Specify an Image URL";else{var m=this.r.Fq();if(m){var n="Image URL for "+m;i=n}else i="Image URL"}h=i}tm(f,h);f.className="mp_title";
d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");f.className="mp_middle";d.appendChild(f);var o=this.s.createElement("span");tm(o,this.r.Oe("MSG_URL_LABEL"));o.className="mp_url_label";f.appendChild(o);this.Xk=this.s.createElement("input");this.Xk.id="mp_url_input";this.Xk.type="text";this.Xk.size="30";f.appendChild(this.Xk);this.ie=new ft(this.Xk);this.ie.addEventListener("input",this.ZP,j,this);d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");
f.height=100;f.width=340;d.appendChild(f);this.Xc=this.s.createElement("img");this.Xc.id="mp_preview_image";this.Xc.className="mp_preview_image";$(this.Xc,l);f.appendChild(this.Xc);this.VF=this.s.createElement("div");tm(this.VF,this.r.Oe("MSG_URL_INSTRUCTIONS"));this.VF.className="mp_url_instructions";f.appendChild(this.VF);this.zu=this.s.createElement("div");this.r.Aa("newMessages")?tm(this.zu,"The file you selected is not a valid image file.  Please select another file."):tm(this.zu,"The image URL you have entered above is incorrect or can't be loaded.  Please enter a  correct image URL.");
this.zu.className="mp_url_instructions";this.zu.style.display="none";f.appendChild(this.zu);d=this.s.createElement("tr");c.appendChild(d);f=this.s.createElement("td");d.appendChild(f);tm(f,this.r.Oe("MSG_URL_CAVEAT"));f.className="mp_url_caveat";d=this.s.createElement("tr");c.appendChild(d);this.nl=this.s.createElement("td");d.appendChild(this.nl);this.nl.className="mp_buttons";d.XRa="bottom";this.Co=this.s.createElement("input");this.Co.id="mp_select_button";this.Co.className="mp_next";this.Co.type=
"button";this.Co.style.display="none";this.Co.value=this.r.Oe("MSG_SELECT_URL_LABEL");this.nl.appendChild(this.Co);this.j.g(this.Co,"click",this.sLa);var p=this.s.createElement("input");p.id="mp_cancel_button";p.type="button";p.value="Cancel";this.nl.appendChild(p);this.j.g(p,"click",this.ag);return a};q.NK=function(a){if(a&&a.search(/https?:\/\//)!=0)a="http://"+a;return a};q.fBa=function(){var a=this.NK(this.Xk.value);return this.r.h9(a)};q.ZP=function(){this.cf.start()};
q.zna=function(){var a=this.NK(this.Xk.value);if(this.Xc.src!=a)if(a){this.j.g(this.Xc,"load",this.m8);this.j.g(this.Xc,"error",this.l8);try{this.Xc.src=a}catch(b){this.KM();this.Gv(l);this.Xc.src=""}}else{this.Gv(l);this.Xc.src=""}};q.Gv=function(a){var b=this.fBa();$(this.VF,!a&&!b);$(this.zu,!a&&b);$(this.Xc,a);$(this.Co,a)};q.KM=function(){this.j.Cb(this.Xc,"load",this.m8);this.j.Cb(this.Xc,"error",this.l8)};
q.m8=function(){this.Xc.removeAttribute("width");this.Xc.removeAttribute("height");H&&this.Gv(j);this.tZ();H||this.Gv(j);this.KM()};q.l8=function(){this.Gv(l);this.KM()};q.tZ=function(){var a=this.Xc.width,b=this.Xc.height,c=100,d=340;if(b>c){var f=Math.round(a*c/b);this.Xc.width=f;this.Xc.height=c}else if(a>d){var g=Math.round(b*d/a);this.Xc.width=d;this.Xc.height=g}if(0==a||0==b)window.setTimeout(A(this.tZ,this),0)};
q.sLa=function(){var a=this.NK(this.Xk.value),b=a.split("/"),c=b[b.length-1],d=new hF(c,"image/*",a,a);d.mI(this.Xc.width,this.Xc.height);var f=this.r.kc("cropEnabled");f&&this.r.kI();this.r.No(d,8);f||this.r.MM()};q.ag=function(){this.r.ce();this.r.Nc()};q.reset=function(){this.cf.stop();this.Xk.value="";this.Gv(l);this.Xc.src=""};var LF=["photos.www.orkut.com","photos.www.orkut.com.br","photos.www.orkut.co.in","picasaweb.google.com","photos.blogger.com","photos.www.blogger.com","photos.draft.blogger.com"],MF=["photos.www.orkut.com/lh/addPhotos","photos.www.orkut.com.br/lh/addPhotos","photos.www.orkut.co.in/lh/addPhotos","picasaweb.google.com/lh/addPhotos","photos.draft.blogger.com/lh/addPhotos","photos.blogger.com/lh/addPhotos","photos.www.blogger.com/lh/addPhotos","picasaweb.google.com/data/feed/api/user","mail.google.com/mail/photos",
"mail.google.com/a","/contacts","/mail/c","/a/c","/c","/local/add/","resources/"];var NF=k,PF=function(a,b,c,d){this.$f=a;this.Sb=b;this.dd=c||{};this.XBa=OF.KT("imageUrlBase",this.dd.imageUrlBase)||"";this.T$=kc(wF);var f=this.dd.messages||{};f=OF.KT("messages",f);nc(this.T$,f);this.GZ=d||{};this.ZK=[];NF=this;this.nL="albums";this.DOa();this.dXa=[];this.Efa=[];this.CJ={};this.JZa=-1;this.Pba=l;this.La=this.Aa("userId");this.Gm=this.vh=k;this.VBa=new RegExp(this.Aa("imageFilter"),"i");var g=this.Aa("theme");this.nJ=g?"_"+g:"";var h=this.kc("imagePickOnly"),i=this.kc("defaultAlbumOnly");
this.soa=this.bFa();if(!h){this.Wm=new JF(this,this.Aa("fileUploadUrl"));this.Vj=new pF(this);this.Sv=new AF(this);this.cE=new qF(this);this.hH=new tF(this,this.Aa("dpUrl"));this.UB=new KF(this)}if(!h||h&&!i)this.sp=new oF(this);this.Gb=new sF(this);this.Vi=k;this.BXa=0;this.PEa();this.Wo=new yF(this);this.uEa();this.$f.document.body.appendChild(this.oa);var m=this.Aa("eUrl");m&&this.cE.ANa(m);window==top&&this.rna()};PF.inherits(Oi);PF.prototype.cW=l;
var QF={RWa:"userId",DUa:"fileUploadUrl",oVa:"left",IWa:"top",$Ta:"cropEnabled",QWa:"urlEnabled",VVa:"picasaWebEnabled",PTa:"clearListAfterUpload",xTa:"autoLoad",DWa:"suppressHide",$Va:"postFilename",SUa:"imageUrlBase",ZVa:"picasaWebDomain",WVa:"picasaAlbumsUrl",XVa:"imgmax",YVa:"thumbsize",AUa:"extraUploadParams",zUa:"extraPicasaWebParams",jUa:"defaultUploadAlbum",OWa:"uploadAlbumSelect",sWa:"showUploadTitle",TVa:"photoDisplayName",xUa:"extraAlbum",cUa:"defaultAlbumFeedUrl",dUa:"defaultAlbumOnly",
RUa:"imagePickOnly",kTa:"albumPaneMsg",lTa:"albumPaneTitle",aUa:"cropPaneTitle",jTa:"albumPaneLinkTitle",iTa:"albumPaneLink",uUa:"eUrl",gUa:"dpUrl",hTa:"usernameShow",gTa:"albumListSubShow",bWa:"profileMode",wTa:"tok",yUa:"extraFeedParams",QUa:"imageFilter",EVa:"newMessages",GWa:"theme",hUa:"defaultPicasaSource",eUa:"defaultAlbumSubtitle",fUa:"defaultAlbumSubtitleNoUser",wVa:"messages",iWa:"rectangularCrop",ZTa:"cropaspect",JWa:"transport"},RF=function(){var a=function(n){return n==1},b=function(n){return Number(n)},
c=this.NKa,d=A(this.MKa,this),f=A(this.OKa,this),g=function(n){return n},h=function(n){var o=Ta(n);o=o.replace(/&amp;laquo;/g,"&laquo;");return o=o.replace(/&amp;raquo;/g,"&raquo;")},i=function(n){return ac(n,h)},m={};m.userId=g;m.fileUploadUrl=f;m.left=b;m.top=b;m.cropEnabled=a;m.urlEnabled=a;m.picasaWebEnabled=a;m.clearListAfterUpload=a;m.autoLoad=a;m.suppressHide=a;m.postFilename=h;m.imageUrlBase=h;m.picasaWebDomain=d;m.picasaAlbumsUrl=f;m.imgmax=b;m.thumbsize=b;m.extraUploadParams=h;m.defaultUploadAlbum=
h;m.uploadAlbumSelect=a;m.showUploadTitle=a;m.photoDisplayName=h;m.extraAlbum=h;m.defaultAlbumFeedUrl=f;m.defaultAlbumOnly=a;m.imagePickOnly=a;m.albumPaneMsg=h;m.albumPaneTitle=h;m.cropPaneTitle=h;m.albumPaneLinkTitle=h;m.albumPaneLink=c;m.eUrl=f;m.dpUrl=c;m.usernameShow=a;m.profileMode=a;m.tok=g;m.extraFeedParams=h;m.imageFilter=g;m.newMessages=a;m.theme=h;m.defaultPicasaSource=h;m.defaultAlbumSubtitle=h;m.defaultAlbumSubtitleNoUser=h;m.messages=i;m.rectangularCrop=a;m.cropaspect=b;m.transport=h;
this.qsa=m};RF.prototype.KT=function(a,b){var c=this.qsa[a];return c?c(b):b};RF.prototype.NKa=function(a){var b=Od(a),c=b.jj();return!c||c=="http"||c=="https"?a:k};RF.prototype.MKa=function(a){for(var b=Od(a),c=b.Nh().toLowerCase(),d=0;d<LF.length;d++)if(c==LF[d])return a;return k};
RF.prototype.OKa=function(a){if(Ua(a,'"')||Ua(a,"'")||Ua(a,">")||Ua(a,"<"))return k;var b=Od(a),c=b.jj();if(!c||c=="http"||c=="https")for(var d=Ld(b.og()),f=String(b.Nh()+d).toLowerCase(),g=0;g<MF.length;g++)if(f.indexOf(MF[g])==0)return a;return k};var OF=new RF;q=PF.prototype;q.Ky=function(){return this.nJ};q.fl=function(a){var b=a.Nb();$(b,l);this.r0.appendChild(b)};
q.rna=function(){var a=Aq(this.oa);a.width+=16;a.height+=16;var b=Aq(qq()),c=b.width>a.width?Math.round(b.width-a.width)/2:0,d=b.height>a.height?Math.round(b.height-a.height)/2:0;yq(this.oa,c,d)};
q.uEa=function(){var a=this.kc("imagePickOnly"),b=this.kc("defaultAlbumOnly"),c=this.$f.document.createElement("table"),d=this.$f.document.createElement("tbody"),f=this.$f.document.createElement("tr");this.dD=this.$f.document.createElement("td");c.appendChild(d);d.appendChild(f);f.appendChild(this.dD);c.className="mp_framingTable";if(!a){this.dD.className="mp_sourceContainer"+this.nJ;this.dD.innerHTML="&nbsp;&nbsp;";this.Vo=this.$f.document.createElement("td");this.Vo.width="148px";f.appendChild(this.Vo);
this.Vo.className="mp_sourceContainer"+this.nJ;this.Vo.appendChild(this.Wo.Nb())}this.r0=this.$f.document.createElement("td");f.appendChild(this.r0);a||this.fl(this.Wm);b||this.fl(this.sp);this.fl(this.Gb);if(!a){this.fl(this.Vj);this.fl(this.Sv);this.fl(this.cE);this.fl(this.hH);this.fl(this.UB)}for(var g=0;g<this.ZK.length;g++){var h=this.ZK[g];this.fl(h)}this.soa.appendChild(c)};
q.DOa=function(){var a={};a.fileUploadUrl="../update/uploadImage";a.left="0";a.top="0";a.cropEnabled=1;a.urlEnabled=1;a.picasaWebEnabled=1;a.clearListAfterUpload=0;a.autoLoad=1;a.suppressHide=0;a.showUploadTitle=1;a.newMessages=0;a.albumPaneTitle="";a.cropPaneTitle="";a.postFilename="imagefile";a.imageUrlBase="../static/images/";a.picasaWebDomain="http://picasaweb.google.com";a.picasaAlbumsUrl="http://picasaweb.google.com/data/feed/api/user/_NO_USER_SPECIFIED";a.imgmax="1600";a.thumbsize="144";a.extraUploadParams=
"";a.uploadAlbumSelect=0;a.usernameShow=1;a.albumListSubShow=1;a.imageFilter=".jpg$|.jpeg$|.gif$|.png$";a.defaultPicasaSource="Picasa Web Albums";a.rectangularCrop=0;a.cropaspect=-1;a.defaultAlbumSubtitle="Picasa Web Albums for ";a.defaultAlbumSubtitleNoUser="Picasa Web Albums";this.jqa=a};q.Aa=function(a){var b=this.dd[a];if(b!=k)return b;return this.jqa[a]||""};q.kc=function(a){var b=this.Aa(a);return Number(b)!=0};q.Ku=function(){return this.kc("profileMode")};q.ka=function(){return this.$f};
q.M=function(){return this.$f.document};q.u4=function(){return this.oa};q.HP=function(){return this.La};q.ky=function(a){return this.XBa+a};q.tP=function(){return this.ky("Spin.gif")};q.gP=function(){return this.ky("Transparent.gif")};q.NI=function(a){this.La=a;this.Vi&&this.Vi.NI(a)};q.hb=function(){var a=this.kc("imagePickOnly"),b=this.kc("defaultAlbumOnly");if(a)b?this.pI(this.Vi):this.MLa();else this.CU();this.Wo.reset();$(this.oa,j)};q.Nc=function(){this.kc("suppressHide")||$(this.oa,l)};
q.reset=function(){this.Wm&&this.Wm.reset();this.UB&&this.UB.reset();this.Wm&&this.CU();delete this.CJ;this.CJ={};this.VB&&this.VB.reset();this.rx&&this.rx.reset();if(this.Xj){delete this.Xj;this.Xj=this.p4();this.Ag.BI(this.Xj)}this.Wo&&this.Wo.reset()};q.l=function(){this.Wo.l();this.Wm.l();this.Gb.l();this.sp.l();this.Vj.l();this.Sv.l();this.hH.l()};q.close=function(a){this.Nc();this.l();a||this.oa.parentNode.removeChild(this.oa)};q.getContent=function(){return this.Gc};q.w6=function(){return this.Efa};
q.iO=function(){return this.Vi};q.U5=function(){return this.Ag};q.pMa=function(a){this.Vi=a};q.Fq=function(){return this.Aa("photoDisplayName")};q.kR=function(){return this.Pba};q.Iv=function(a){this.Pba=a};q.YT=function(a){this.vh=k;if(this.Vi==this.Ag){this.Ag.BI(this.M4(a));this.vh=a}this.Gb.Mk(this.Vi);this.Gb.YT(a)};q.No=function(a,b){(this.Gm=a)&&this.kc("cropEnabled")&&this.Vj.No(a,b)};q.fn=function(a){this.Efa.push(a)};function _showCropView(a,b){a.ZOa(b)}q=PF.prototype;
q.ZOa=function(a){this.No(a,0);this.Vj.Lh(l);this.kI();this.Wo.reset();this.oa.style.display="block"};q.sPa=function(a){a&&this.Sv.YMa(a);this.$Na()};q.HZ=function(a){var b=this.Aa("extraPicasaWebParams");if(b)a+="&"+b.replace(";","&");return a};q.OA=function(a){var b=this.dd.tok;if(b)a.tZa=b;this.dispatchEvent(a);this.Sb&&this.Sb(a)};
q.o2=function(a){if(this.Gm){var b="";if(this.Gm.Dt)b=this.Gm.Dt();var c={type:"PHOTO_PICKED",imageUrl:this.Gm.lq(),thumbnailUrl:this.Gm.Ly(),cropString:a,photoId:this.Gm.p(),albumId:b};this.OA(c)}};q.KRa=function(){this.kc("clearListAfterUpload")&&this.Gb.Kna()};q.MM=function(){this.o2("0,0,1,1")};q.Oqa=function(a){this.Vj.Lh(j);this.o2(a)};q.m2=function(a){this.Sv.Lh(j);if(this.Gm){var b={type:"SUGGEST_DONE",suggestMessage:a};this.OA(b)}};
q.Pqa=function(){this.cE.Lh(j);if(this.Gm){var a={type:"PHOTO_PICKED",evergreen:j};this.OA(a)}};q.Qqa=function(){this.hH.Lh(j);var a={type:"PHOTO_PICKED",noPhoto:j};this.OA(a)};q.ce=function(){this.OA({type:"cancel"})};q.To=function(a){if(this.jx!=a){this.jx!=k&&$(this.jx.Nb(),l);$(a.Nb(),j);if(a==this.Vj||a==this.Sv){this.Vo&&$(this.Vo,l);this.Wo.Nc()}else{this.Vo&&$(this.Vo,j);this.Wo.hb()}$(this.dD,a!=this.Vj);this.jx=a}a.Kj()};q.h9=function(a){return!!a.match(this.VBa)};
q.kI=function(a){a&&this.Vj.Mk(a);this.To(this.Vj)};q.CU=function(){this.To(this.Wm)};q.MLa=function(){this.To(this.sp)};q.pI=function(a){this.Gb.Mk(a);this.To(this.Gb)};q.$Na=function(){this.To(this.Sv)};q.nOa=function(){this.To(this.UB)};q.k6=function(){return this.jx};
q.bFa=function(){var a=this.kc("imagePickOnly");this.oa=this.$f.document.createElement("div");this.oa.className="mediaPicker"+(a?" image-pick-only":"");this.oa.style.top=this.Aa("top")+"px";this.oa.style.left=this.Aa("left")+"px";var b=this.$f.document.createElement("div");b.className="mp_border"+this.nJ;this.oa.appendChild(b);var c=this.$f.document.createElement("div");c.className="mp_contents";b.appendChild(c);return c};
q.aG=function(a,b){var c=this.Aa("imgmax"),d=this.Aa("thumbsize");c&&a.XMa(Number(c));var f=[b||160];d&&f.push(Number(d));a.eOa(f)};q.M4=function(a){var b=a.ME();b.iU(vF);var c=b.du();this.aG(c);return b};q.p4=function(){var a=k;if(!this.Xj){var b=this.Aa("defaultAlbumFeedUrl");if(b){var c=new wE(b);this.aG(c);this.Xj=new TE(this.rx,c);this.Xj.iU(vF);this.cW=j}else{delete this.Xj;this.cW=l}}if(this.cW)a=this.Xj;return a};
q.wF=function(a){var b=this.CJ[a];if(!b){var c=this.Aa("picasaAlbumsUrl"),d=new ZE(c,a);this.aG(d,32);b=new TE(this.rx,d);var f=this.dd.picasaRewrites;f&&b.iU(function(g){g.IKa(f)});this.CJ[a]=b}return b};
q.PEa=function(){var a=this.kc("imagePickOnly");if(!a){this.fn(new zF(this.Oe("MSG_PANEL_CHOOSE")));var b=new xF("My Computer",k,k,k,0,this.Wm);this.fn(b)}var c=this.Aa("defaultAlbumFeedUrl"),d=this.Aa("defaultAlbumOnly"),f=this.kc("picasaWebEnabled");if(f){var g;g=this.Aa("transport")=="xhr"?new cF:new fF;this.rx=new eF(g);this.VB=this.wF(this.La);var h=this.Aa("defaultPicasaSource");if(d){this.Ag=new kF(h,this.La,this,2,this.Gb);this.aG(this.VB.du(),160);c?this.Ag.BI(this.p4()):this.Gb.Pp(this.Gb.gh.MSG_NO_IMAGES_FOUND)}else{this.kc("uploadAlbumSelect")&&
this.VB.LR(A(this.DEa,this));this.Ag=new kF(h,this.La,this,1,this.sp)}this.Ag.Ada(this.VB);this.fn(this.Ag)}if(this.kc("urlEnabled")){var i=new xF("Web Address (URL)",k,k,k,8,this.UB);this.fn(i)}if(this.dd.eUrl||this.dd.dpUrl){this.fn(new zF("Or Select:"));if(this.dd.eUrl)this.Ku()||this.fn(new xF("Their Picture",k,k,k,6,this.cE));this.dd.dpUrl&&this.fn(new xF("No Picture",k,k,k,7,this.hH))}for(var m=0;m<this.GZ.length;m++){var n=this.GZ[m];this.fn(n);var o=n.view;if(o!=k){o.qea(this);this.ZK.push(o)}}this.Vi=
b};q.a9=function(a){if(!a)return l;var b=this.Aa("defaultAlbumFeedUrl");if(b&&a){var c=(new Ed(a.qN)).og(),d=(new Ed(b)).og();return c==d}return l};q.DEa=function(a){this.xs=a.IN();var b=this.kc("imagePickOnly");if(this.Ag&&(this.xs.length==1||b)){var c=this.xs[0];if(this.a9(c)){this.Ag.dI=2;this.Xj=this.M4(c);this.Ag.BI(this.Xj);this.Gb.qMa(j);this.Gb.Mk(this.Ag);this.Ag.view=this.Gb;if(this.jx==this.sp||b)this.pI(this.Ag)}}var d=new bi("albumsready",this);this.dispatchEvent(d)};
q.ita=function(a){this.xs?a(this.xs):this.addEventListener("albumsready",function(b){a(b.target.xs)})};q.oLa=function(a){this.sp.kda(a)};q.zd=function(a){this.Gc=a};
var SF=function(a,b,c){var d=new Ed(document.location.href),f=d.mk(),g=f.z("done"),h=a||"..",i={};i.fileUploadUrl=h+"/update/uploadImage";i.imageUrlBase=h+"/static/images/";i.dpUrl=h+"/static/images/NoPicture.gif";i.photoDisplayName=f.z("dn");i.top=0;i.left=0;i.tok=c;for(var m in QF){var n=QF[m],o=f.z(n);if(o)i[n]=OF.KT(n,o)}var p=new PF(window,function(){if(g){var r=window.opener||window.parent;r.setTimeout(A(r[g],k,arguments[0]),10)}},i);p.hb();return p};
u("createPhotoPicker",function(a,b,c,d){var f=new PF(a,b,c,d);f.hb();return f},void 0);u("newPhotoPicker",function(a,b,c,d){return new PF(a,b,c,d)},void 0);u("initPhotoPicker",function(){var a=SF.apply(k,arguments);u("picker",a,void 0)},void 0);u("UI_receive",function(a){var b=ca("picker");if(a.type=="SHOW_SUGGEST")b.sPa(a.$Xa);else if(a.type=="CLOSE")b.close(l);else a.type=="CLOSE_NO_REMOVE"&&b.close(j)},void 0);PF.prototype.selectAlbum=PF.prototype.oLa;
function _json_callback(a){var b=NF;b.Iv(l);b.N9=j;if(b.nL==0){var c=b.Vi;b.Gc=c.Z2(a);c.view!=k?c.view.Xr():b.sp.Xr()}else if(b.nL==2){b.Gc=b.Vi.Z2(a);b.Wm.zZ(b.Gc)}else{var d=b.Vi.Gra(a);if(b.vh)for(var f=0;f<d.length;f++){var g=d[f];b.vh.cb(g)}else b.Gb.zNa(d);b.Gb.Xr()}}function TF(){this.readyState=="loaded"&&!this.r.N9&&UF(this.r)}function VF(){UF(this.r)}function UF(a){a.Iv(l);var b=a.k6();b.Pp(a.Oe("MSG_SCRIPT_LOAD_ERROR"))}PF.prototype.Oe=function(a){return this.T$[a]||""};
PF.prototype.d3=function(a,b){this.nL=b;this.Iv(j);var c=this.$f.document.getElementsByTagName("head").item(0),d=this.$f.document.getElementById("mp_json_script");d&&c.removeChild(d);var f=this.Aa("extraFeedParams");if(f)a+="&"+f;this.N9=l;d=this.$f.document.createElement("script");d.type="text/javascript";d.id="mp_json_script";d.r=this;d.onreadystatechange=TF;d.onerror=VF;d.setAttribute("src",a+"&callback=_json_callback");c.appendChild(d)};var WF=function(){},XF={width:360,height:45},YF={width:650,height:32};WF.prototype.ofa=function(a,b){var c=Sf(),d=Vh(c).webspace,f=new Ed(Ue()+d+"/system/services/knolUploadPhoto");f.fa("knolId",c);f.fa("isLogo",a);f.fa("jot.xtok",Ni("jotxtok"));var g={fileUploadUrl:f.toString(),postFilename:"file",rectangularCrop:1,imageUrlBase:"http://www.google.com/s2/static/images/",picasaWebEnabled:0,urlEnabled:0},h=A(this.gIa,this,a,b);this.r=new PF(window,h,g);this.r.hb()};
WF.prototype.V7=function(){if(this.r){this.r.close();this.r=k}};WF.prototype.gIa=function(a,b,c){if(c.type!="PHOTO_PICKED")this.V7();else{var d=new Ed(c.imageUrl),f=c.cropString,g=a?XF:YF;d.fa("width",g.width);d.fa("height",g.height);d.fa("cropSpecs",f);d=d.toString();b(d)}};if(window.jstiming){window.jstiming.c_={};window.jstiming.mKa=1;var ZF=function(a,b,c){var d=a.t[b],f=a.t.start;if(d&&(f||c)){d=a.t[b][0];f=c!=undefined?c:f[0];return d-f}};window.jstiming.report=function(a,b,c){var d="";if(window.jstiming.pt){d+="&srt="+window.jstiming.pt;delete window.jstiming.pt}try{if(window.external&&window.external.tran)d+="&tran="+window.external.tran;else if(window.gtbExternal&&window.gtbExternal.tran)d+="&tran="+window.gtbExternal.tran();else if(window.chrome&&window.chrome.csi)d+=
"&tran="+window.chrome.csi().tran}catch(f){}var g="chrome.loadTimes";if(window.chrome&&window[g]&&window[g]().wasFetchedViaSpdy)d+="&p=s";if(a.aqa)d+="&"+a.aqa;var h=a.t,i=h.start,m=[],n=[];for(var o in h)if(o!="start")if(o.indexOf("_")!=0){var p=h[o][1];if(p)h[p]&&n.push(o+"."+ZF(a,o,h[p][0]));else i&&m.push(o+"."+ZF(a,o))}delete h.start;if(b)for(var r in b)d+="&"+r+"="+b[r];var t=[c?c:"http://csi.gstatic.com/csi","?v=3","&s="+(window.jstiming.sn||"knol")+"&action=",a.name,n.length?"&it="+n.join(","):
"","",d,"&rt=",m.join(",")].join(""),v=new Image,w=window.jstiming.mKa++;window.jstiming.c_[w]=v;v.onload=v.onerror=function(){delete window.jstiming.c_[w]};v.src=t;v=k;return t}};var $F=function(){};B($F,br);fa($F);var aG=0;q=$F.prototype;q.h=function(a){var b=this.lg(a);return a.L().h("div",b?b.join(" "):k,this.Ooa(a.getContent(),a.getSize(),a.L()))};q.Ooa=function(a,b,c){for(var d=[],f=0,g=0;f<b.height;f++){for(var h=[],i=0;i<b.width;i++){var m=a&&a[g++];h.push(this.JL(m,c))}d.push(this.UL(h,c))}return this.Qi(d,c)};q.Qi=function(a,b){var c=b.h("table",this.X()+"-table",b.h("tbody",this.X()+"-body",a));c.cellSpacing=0;c.cellPadding=0;dq(c,"grid");return c};
q.UL=function(a,b){return b.h("tr",this.X()+"-row",a)};q.JL=function(a,b){var c=b.h("td",{"class":this.X()+"-cell",id:this.X()+"-cell-"+aG++},a);dq(c,"gridcell");return c};q.qe=function(){return l};q.Oa=function(){return k};
q.zd=function(a,b){if(a){var c=Rl("tbody",this.X()+"-body",a)[0];if(c){var d=0;C(c.rows,function(n){C(n.cells,function(o){gm(o);if(b){var p=b[d++];p&&o.appendChild(p)}})});if(d<b.length){for(var f=[],g=Ol(a),h=c.rows[0].cells.length;d<b.length;){var i=b[d++];f.push(this.JL(i,g));if(f.length==h){var m=this.UL(f,g);c.appendChild(m);f.length=0}}if(f.length>0){for(;f.length<h;)f.push(this.JL("",g));m=this.UL(f,g);c.appendChild(m)}}}Kq(a,j,I)}};
q.YN=function(a,b){for(var c=a.e();b&&b.nodeType==1&&b!=c;){if(b.tagName=="TD"&&X.mj(b,this.X()+"-cell"))return b.firstChild;b=b.parentNode}return k};q.X7=function(a,b,c){if(b){var d=b.parentNode;X.Ic(d,this.X()+"-cell-hover",c);var f=a.e().firstChild;eq(f,"activedescendent",d.id)}};q.rLa=function(a,b,c){if(b){var d=b.parentNode;X.Ic(d,this.X()+"-cell-selected",c)}};q.X=function(){return"goog-palette"};var bG=function(a){this.Ya=[];this.dZ(a)};B(bG,Oi);q=bG.prototype;q.md=k;q.UT=k;q.UNa=function(a){this.UT=a};q.Rn=function(){return this.Ya.length};q.cCa=function(a){return a?sb(this.Ya,a):-1};q.fj=function(){return this.Ya[0]};q.Qn=function(a){return this.Ya[a]||k};q.dZ=function(a){if(a){C(a,function(b){this.ov(b,l)},this);Lb(this.Ya,a)}};q.cb=function(a){this.dn(a,this.Rn())};q.dn=function(a,b){if(a){this.ov(a,l);Nb(this.Ya,b,0,a)}};
q.Ao=function(a){if(a&&Fb(this.Ya,a))if(a==this.md){this.md=k;this.dispatchEvent("select")}};q.Jr=function(a){this.Ao(this.Qn(a))};q.Uh=function(){return this.md};q.xh=function(a){if(a!=this.md){this.ov(this.md,l);this.md=a;this.ov(a,j)}this.dispatchEvent("select")};q.$l=function(){return this.cCa(this.md)};q.wh=function(a){this.xh(this.Qn(a))};q.clear=function(){Cb(this.Ya);this.md=k};q.n=function(){bG.f.n.call(this);delete this.Ya;this.md=k};
q.ov=function(a,b){if(a)if(typeof this.UT=="function")this.UT(a,b);else typeof a.sf=="function"&&a.sf(b)};var cG=function(a,b,c){or.call(this,a,b||$F.fb(),c)};B(cG,or);q=cG.prototype;q.Bc=k;q.vd=-1;q.Ha=k;q.n=function(){cG.f.n.call(this);if(this.Ha){this.Ha.l();this.Ha=k}this.Bc=k};q.xv=function(a){cG.f.xv.call(this,a);this.uZ();if(this.Ha){this.Ha.clear();this.Ha.dZ(a)}else{this.Ha=new bG(a);this.Ha.UNa(A(this.ov,this));this.Ba().g(this.Ha,"select",this.Vy)}this.vd=-1};q.iq=function(){return k};q.Im=function(){};
q.rg=function(a){cG.f.rg.call(this,a);var b=this.Rd().YN(this,a.target);b&&a.relatedTarget&&nm(b,a.relatedTarget)||b!=this.QE()&&this.cea(b)};q.Jq=function(a){cG.f.Jq.call(this,a);var b=this.Rd().YN(this,a.target);b&&a.relatedTarget&&nm(b,a.relatedTarget)||b==this.QE()&&this.Rd().X7(this,b,l)};q.fm=function(a){cG.f.fm.call(this,a);if(this.je()){var b=this.Rd().YN(this,a.target);b!=this.QE()&&this.cea(b)}};q.ni=function(){var a=this.QE();if(a){this.xh(a);return this.dispatchEvent("action")}return l};
q.xe=function(a){var b=this.getContent(),c=b?b.length:0,d=this.Bc.width;if(c==0||!this.ca())return l;if(a.keyCode==13||a.keyCode==32)return this.ni(a);if(a.keyCode==36){this.rf(0);return j}else if(a.keyCode==35){this.rf(c-1);return j}var f=this.vd<0?this.$l():this.vd;switch(a.keyCode){case 37:if(f==-1)f=c;if(f>0){this.rf(f-1);a.preventDefault();return j}break;case 39:if(f<c-1){this.rf(f+1);a.preventDefault();return j}break;case 38:if(f==-1)f=c+d-1;if(f>=d){this.rf(f-d);a.preventDefault();return j}break;
case 40:if(f==-1)f=-d;if(f<c-d){this.rf(f+d);a.preventDefault();return j}break}return l};q.Vy=function(){};q.getSize=function(){return this.Bc};q.Hg=function(a,b){if(this.e())e(Error("Component already rendered"));this.Bc=la(a)?new sh(a,b):a;this.uZ()};q.DO=function(){return this.vd};q.QE=function(){var a=this.getContent();return a&&a[this.vd]};q.rf=function(a){if(a!=this.vd){this.Y7(this.vd,l);this.vd=a;this.Y7(a,j)}};q.cea=function(a){var b=this.getContent();this.rf(b?sb(b,a):-1)};
q.$l=function(){return this.Ha?this.Ha.$l():-1};q.Uh=function(){return this.Ha?this.Ha.Uh():k};q.wh=function(a){this.Ha&&this.Ha.wh(a)};q.xh=function(a){this.Ha&&this.Ha.xh(a)};q.Y7=function(a,b){if(this.e()){var c=this.getContent();c&&a>=0&&a<c.length&&this.Rd().X7(this,c[a],b)}};q.ov=function(a,b){this.e()&&this.Rd().rLa(this,a,b)};
q.uZ=function(){var a=this.getContent();if(a)if(this.Bc&&this.Bc.width){var b=Math.ceil(a.length/this.Bc.width);if(!la(this.Bc.height)||this.Bc.height<b)this.Bc.height=b}else{var c=Math.ceil(Math.sqrt(a.length));this.Bc=new sh(c,c)}else this.Bc=new sh(0,0)};var dG=function(a,b,c){this.qD=a||[];cG.call(this,k,b||$F.fb(),c);this.jI(this.qD)};B(dG,cG);q=dG.prototype;q.iH=k;q.jI=function(a){this.qD=a;this.iH=k;this.zd(this.Doa())};q.bu=function(){var a=this.Uh();if(a){var b=kq(a,"background-color");return eG(b)}else return k};q.Ro=function(a){var b=eG(a);if(!this.iH)this.iH=vb(this.qD,function(c){return eG(c)});this.wh(b?sb(this.iH,b):-1)};
q.Doa=function(){return vb(this.qD,function(a){var b=this.L().h("div",{"class":this.Rd().X()+"-colorswatch",style:"background-color:"+a}),c=b,d;if(a.charAt(0)=="#"){var f,g=a;g=yh(g);var h=parseInt(g.substr(1,2),16),i=parseInt(g.substr(3,2),16),m=parseInt(g.substr(5,2),16);f=[h,i,m];d="RGB ("+f.join(", ")+")"}else d=a;c.title=d;return b},this)};var eG=function(a){if(a)try{return Bh(a).tu}catch(b){}return k};var fG=function(a,b){$q.call(this,a);this.Fc=b||k;this.Ba().g(this,"action",this.DGa)};B(fG,$q);q=fG.prototype;q.eq=j;q.jI=function(a){this.Fc?this.Fc.jI(a):this.I0(a)};q.Hg=function(a){this.Fc||this.I0([]);this.Fc.Hg(a)};q.getSize=function(){return this.Fc?this.Fc.getSize():k};q.$l=function(){return this.Fc?this.Fc.$l():-1};q.wh=function(a){this.Fc&&this.Fc.wh(a)};q.bu=function(){return this.Fc?this.Fc.bu():k};q.Ro=function(a){this.Fc&&this.Fc.Ro(a)};q.xk=function(){return this.eq};
q.Fg=function(a){this.eq=a;this.Fc&&this.Fc.tf(32,a)};q.qe=function(){return l};q.za=function(){fG.f.za.call(this);this.Fc&&this.Fc.ba(this.e());this.e().unselectable="on"};q.n=function(){fG.f.n.call(this);if(this.Fc){this.Fc.l();this.Fc=k}};q.focus=function(){this.Fc&&this.Fc.e().focus()};q.DGa=function(a){a.stopPropagation();this.dispatchEvent("change")};q.I0=function(a){var b=new dG(a,k,this.L());b.Hg(5);b.tf(32,this.eq);this.hc(b);this.Fc=b;this.nc()&&this.Fc.ba(this.e())};
